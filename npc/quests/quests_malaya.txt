//    ________________________________________________________
//   /                                                        \
//   |       _           _   _   _                            |
//   |      | |__  _ __ / \ | |_| |__   ___ _ __   __ _       |
//   |      | '_ \| '__/ _ \| __| '_ \ / _ \ '_ \ / _` |      |
//   |      | |_) | | / ___ \ |_| | | |  __/ | | | (_| |      |
//   |      |_.__/|_|/_/   \_\__|_| |_|\___|_| |_|\__,_|      |
//   |                                                        |
//   |                    brAthena Script                     |
//   |--------------------------------------------------------|
//   | Nome do Script: Quests do Porto de Malaya              |
//   |--------------------------------------------------------|
//   | Criado por: rA/brA Dev. Team                           |
//   |--------------------------------------------------------|
//   | Versões rA/brA: 1.1/1.1                                |
//   |--------------------------------------------------------|
//   | Descrição: Quests & Quests Diárias do Porto de Malaya. |
//   |--------------------------------------------------------|
//   | Changelog:                                             |
//   | 1.0 Cabeçalho Criado [Holy]                            |
//   | 1.1 Adicionado NPC de Administração [lututuiBR]        |
//   |--------------------------------------------------------|
//   | - Anotações                                            |
//   \________________________________________________________/

// Cautious Village & Daily Quests :: hi_malaya
//============================================================
malaya,266,76,3	script	Rodel the Guard#malaya	570,4,4,{
	if (MaxWeight - Weight < 1000 || checkweight(1201,1) == 0) {
		mes "Cannot proceed with the quest. You are carrying too many items. -";
		close;
	}
	if (malaya_hi == 0) {
		mes "[Rodel the Guard]";
		mes "Traveling at such confusing times?";
		mes "Villagers have been feeling more threatened by evil spirits recently.";
		mes "Villagers are scared and trembling with fear.";
		next;
		mes "[Rodel the Guard]";
		mes "So... the citizens of Port Malaya will feel uncomfortable around you even though there are no hard feelings toward you.";
		mes "Inns and stops may be closed to outsiders.";
		next;
		mes "[Rodel the Guard]";
		mes "There is no definite solution to this, but you might want to meet Phong in Mumbaki first.";
		mes "If the village leader gives his confirmation, other people might be less worried.";
		next;
		mes "[Rodel the Guard]";
		mes "I will mark on the map the location of Phong in Mumbaki.";
		mes "I welcome your visit though the times are harsh.";
		viewpoint 1, 185, 358, 0, 0x0A82FF;
		set malaya_hi, 1;
		setquest 7350;
		close;
	} else if (malaya_hi == 1) {
		mes "[Rodel the Guard]";
		mes "Meet with Phong in Mumbaki first.";
		mes "If you are proven to have a pure soul, other villagers will not avoid you.";
		mes "If you are not sure of the location, I will mark it on your map.";
		viewpoint 1, 185, 358, 0, 0x0A82FF;
		close;
	} else if (malaya_hi >= 20) {
		if (BaseLevel < 100) {
			mes "[Rodel the Guard]";
			mes "How is the life here?";
			mes "People aren't so bad are they?";
			mes "If you were a little more skillful, there might be a job for you. Right now, you are little bit below the standard.";
			next;
			mes "[Rodel the Guard]";
			mes "If you become stronger,";
			mes "I was thinking of giving you the extermination mission that's being carried out in the city. What a shame. ";
			close;
		}
		.@playtime = checkquest(7405, PLAYTIME);
		if (.@playtime == 0) {
			mes "[Rodel the Guard]";
			mes "Whew, thanks to you, I have one less thing to worry about.";
			mes "I will lose less of my things.";
			mes "Job well done.";
			next;
			mes "[Rodel the Guard]";
			mes "You can come back if you want.";
			mes "You understand what I mean right?";
			close;
		} else if (.@playtime == 2) {
			erasequest 7405;
			mes "[Rodel the Guard]";
			mes "Oh, about Jejeling that you hunted down before.";
			mes "People traveling in and out of Baryo are happy about it.";
			mes "If it's not much too much trouble, I'd like to ask for your help one more time.";
			next;
			mes "[Rodel the Guard]";
			mes "You don't have to do it now, just whenever you are comfortable.";
			mes "Come and find me when you decide.";
			close;
		} else {
			.@hunting = checkquest(7404, HUNTING);
			if (.@hunting == -1) {
				mes "[Rodel the Guard]";
				switch(rand(1, 6)) {
				case 1:
					mes "Recently, there have been a few that gained recognition for their bravery among the villagers." + $malayaNames$[0] + ", " + $malayaNames$[3] + ", " + $malayaNames$[5] + "... Isn't that amazing?";
					break;
				case 2:
					mes "Yesterday, I saw someone who was carried off to the hospital after rolling down the stairs at the park. That person went by the name of " + $malayaNames$[1] + ". I wonder if that person is alright.";
					break;
				case 3:
					mes "The one who contributed the most in the Jejeling hunt was " + $malayaNames$[1] + ".";
					break;
				case 4:
					mes "If you are bored, how about you stand guard for me? This is a heck of a job. You have to keep standing like a statue even till the sun rises up above your head.";
					break;
				case 5:
					mes "Have you been alone with a woman inside a Jeepney? Wow that was awkward...  I'm never going to get married at this rate...";
					break;
				case 6:
					mes "Recently among visitors, one became a close friend to me. Do you know " + $malayaNames$[1] + "? Oh, of course you are a good friend as well.";
					break;
				}
				mes "Oh yes, there is a job for you if you are not too busy. Are you interested?";
				next;
				mes "[Rodel the Guard]";
				mes "We are going to organize an extensive Jejeling hunt this time.";
				mes "Peddlers going in and out of Baryo are always complaining about Jejelings.";
				next;
				if (select("Join the Jejeling hunt.:Refuse.") == 2) {
					mes "[Rodel the Guard]";
					mes "Is that so? I'm sorry to hear that.";
					mes "Things would be so much simpler if we had a person like you around.";
					close;
				}
				mes "[Rodel the Guard]";
				mes "You just have to hunt 20 jejelings each.";
				mes "It would be a simple task for you.";
				setquest 7404;
				close;
			} else if (.@hunting == 0) {
				mes "[Rodel the Guard]";
				mes "You have to get rid of 20 Jejelings.";
				mes "20 should be enough to give those Jejelings a good scare.";
				close;
			} else if (.@hunting == 1) {
				mes "[Rodel the Guard]";
				mes "Oh, the hunt is over, but you haven't killed all the Jejelings.";
				mes "Come again if you want another try.";
				erasequest 7404;
				close;
			} else {
				mes "[Rodel the Guard]";
				mes "Oh, I have confirmed you got rid of 20 Jejelings.";
				mes "Here, this is a reward for people who participated in the Jejeling hunt.";
				next;
				mes "[Rodel the Guard]";
				mes "I think there will be more Jejeling hunts in the future. Please join us again next time.";
//				if (IsPremiumPcCafe == 10)
					getitem 6497, 2; // Lesser_Agimat
//				else
//					getitem 6497, 1; // Lesser_Agimat
				getexp 200000,200000;
				erasequest 7404;
				setquest 7405;
				if (rand(1))
					$malayaNames$[1] = strcharinfo(0);
//				SavePPL Jejellopy
				close;
			}
		}
	} else {
		mes "[Rodel the Guard]";
		mes "Please understand even if people look at you warily.";
		mes "The ghost have been haunting the people around here.";
		close;
	}
OnTouch:
	emotion e_gasp;
	end;

OnInit:
	// if there are no names set, set some default values
	if (!getarraysize($malayaNames$)) {
		$malayaNames$[0] = "unknown";
		$malayaNames$[1] = "unknown";
		$malayaNames$[2] = "unknown";
		$malayaNames$[3] = "unknown";
		$malayaNames$[4] = "unknown";
		$malayaNames$[5] = "unknown";
	}
	end;
}

malaya,185,358,3	script	Leader Phong in Mumbaki	580,{
	if (MaxWeight - Weight < 1000 || checkweight(1201,1) == 0) {
		mes "- Cannot proceed with the quest. You are carrying too many items. -";
		close;
	}
	if (malaya_hi < 2) {
		mes "[Phong in Mumbaki]";
		mes "Looks like this soul came across a big body of water.";
		mes "Young friend.";
		mes "The reason you found me... yes... I see.";
		next;
		mes "[Phong in Mumbaki]";
		mes "You don't have to say it in words.";
		mes "The people are overly cautious of you.";
		mes "Rodel was probably concerned about it, so he sent you here.";
		next;
		if (malaya_hi == 0) {
			mes "[Phong in Mumbaki]";
			mes "No?";
			mes "Well then maybe there was some kind of a Spiritual bond between us.";
			next;
		}
		mes "[Phong in Mumbaki]";
		mes "Nonetheless, good to meet you, young friend.";
		mes "Don't blame the villagers too much for their attitudes toward you.";
		next;
		mes "[Phong in Mumbaki]";
		mes "We are always surrounded by spirits.";
		mes "We live with them, praying for peace.";
		mes "But recently, there has been a problem.";
		next;
		mes "[Phong in Mumbaki]";
		mes "For some unknown reason,";
		mes "Spirits have been running amok, and evil sprits have been haunting the villagers.";
		next;
		mes "[Phong in Mumbaki]";
		mes "This is the shadow that is cast on this beautiful town.";
		mes "They are cautious because they don't know when the dark shadow will fall on them.";
		mes "They visit without warning.";
		next;
		mes "^4d4dffPhong in Mumbaki turns his head and dark shadows appear.";
		mes "People are in panic, everyone trembling with fear.^000000";
		cutin "malaya_ghost01", 4;
		next;
		select("Step toward the shadow.:Draw weapon.");
		mes "[Phong in Mumbaki]";
		mes "They have followed the trace of the outsider. ";
		mes "Don't get to close too them.";
		mes "Your soul can get absorbed.";
		next;
		mes "[Phong in Mumbaki]";
		mes "Hmm? They are responding.";
		mes "I don't understand? They look scared as if facing a powerful soul.";
		mes "This feeling... it can't be...";
		cutin "malaya_ghost02", 4;
		next;
		mes "^4d4dffLike words of Phong in Mumbaki, spirits are responding to something, hesitating.";
		mes "Observing their reaction, you get closer. The spirits are flustered.^000000";
		next;
		cutin "", 255;
		mes "[Phong in Mumbaki]";
		mes "Amazing. Holder of a soul so strong and pure...!";
		mes "The dark spirits have disappeared because of your presence.";
		next;
		mes "[Phong in Mumbaki]";
		mes "I think other villagers would treat you differently now...";
		mes "Haven't we all witnessed this miracle?";
		next;
		mes "[Phong in Mumbaki]";
		mes "Young friend. Your presence is welcomed anywhere.";
		mes "The light from your pure soul will protect you from the darkness.";
		set malaya_hi, 10;
		if (checkquest(7350) > -1)
			erasequest 7350;
		close;
	} else if (malaya_hi == 10) {
		mes "[Phong in Mumbaki]";
		mes "Everyone in the village witnessed how strong and pure your soul is.";
		mes "Do not be afraid of the dark.";
		close;
	} else if (malaya_hi == 11) {
		mes "[Phong in Mumbaki]";
		mes "Is there something wrong?";
		mes "You look disturbed.";
		mes "Your clothes also look messed up. Was there some kind of trouble?";
		next;
		switch (select("Explain what happened.:There is nothing to talk about.")) {
		case 1:
			mes "[Phong in Mumbaki]";
			mes "Is that so?";
			mes "Ha ha... that is a big problem. ";
			mes "You must've been concerned.";
			next;
			mes "[Phong in Mumbaki]";
			mes "You know, we were preparing a spiritual protection for ";
			mes "villagers who are afraid of evil spirits...";
			mes "but preparation is not going well.";
			next;
			mes "[Phong in Mumbaki]";
			mes "As a temporary solution, how about giving them what they want?";
			mes "Just pick among the items you have that are unimportant and give them to them.";
			next;
			mes "[Phong in Mumbaki]";
			mes "All they want is inner peace anyways.";
			mes "They give meaning to little things and find peace within that behavior.";
			next;
			mes "[Phong in Mumbaki]";
			mes "What is really important is the belief that you will be safe as long as you carry that item.";
			mes "If people can stop being afraid by holding on to your old shirt button, then that button is a Spiritual Protection.";
			next;
			mes "^4d4dffAs Mumbaki said, giving out some items to serve as a Spiritual Protection would be a good idea.";
			mes "What would be adequate as a Spiritual Protection..^000000";
			next;
			switch (select("Holy Water!:Holy magical item Blue Gemstone?!:Writing utensils or school supplies")) {
			case 1:
				mes "[Phong in Mumbaki]";
				mes "The name itself suggests holiness.";
				mes "It was blessed by the Holy Water, yes?";
				mes "Not bad.";
				mes "Is there another? Something more persuading would be nice.";
				next;
				select("Talk about Blue Gemstone.");
				mes "[Phong in Mumbaki]";
				mes "Aha... a stone that disappears after absorbing the curse or magical affect instead of the holder.";
				mes "Used in holy magic?";
				mes "Sounds good.";
				next;
				break;
			case 2:
				mes "[Phong in Mumbaki]";
				mes "Aha... a stone that disappears after absorbing the curse or magical affect instead of the holder.";
				mes "Used in holy magic?";
				mes "But it does not sound so holy though.";
				next;
				select("Talk about the Holy Water.");
				mes "[Phong in Mumbaki]";
				mes "The name itself suggests holiness.";
				mes "It was blessed by the Holy Water, yes?";
				mes "Sounds good.";
				next;
				break;
			case 3:
				mes "[Phong in Mumbaki]";
				mes "Hmm? It isn't too bad if you are always going to carry it around.";
				mes "But I think something that looks more persuading would be better.";
				next;
				mes "[Phong in Mumbaki]";
				mes "It would be better is there is a holy feel to it...";
				mes "Do you have something that was blessed by your god?";
				next;
				select("Holy Water or Blue Gemstone?");
				mes "[Phong in Mumbaki]";
				mes "The name itself suggests holiness.";
				mes "It was blessed by the Holy Water, yes?";
				mes "Stone that protects the bearer...";
				mes "Sounds perfect.";
				next;
				break;
			}
			mes "[Phong in Mumbaki]";
			mes "Can you find Holy Water and Blue Gemstone that you spoke of?";
			mes "While I'm working on the Spiritual Protection, you can give out the Holy Artifacts.";
			next;
			mes "[Phong in Mumbaki]";
			mes "People's trust toward you will grow stronger if you do that.";
			mes "They will trust and listen to you.";
			mes "Yes, because you will become their heart's savior.";
			next;
			mes "^4d4dffListening to Phong in Mumbaki, you decided to give out Holy Water and Blue Gemstone to the villagers.";
			set malaya_hi, 12;
			erasequest 7358;
			setquest 7351;
			close;
		case 2:
			mes "[Phong in Mumbaki]";
			mes "Is that so?";
			mes "Tell me if anything happens.";
			mes "For you, it'll be my pleasure to lend you a hand";
			close;
		}
	} else if (malaya_hi == 12) {
		mes "[Phong in Mumbaki]";
		mes "Holy Water and Blue Gemstone you spoke of will function well. ";
		mes "I hope they can set aside their fear and worries this way...";
		close;
	} else if (malaya_hi == 13) {
		mes "[Phong in Mumbaki]";
		mes "Did you give out your present to everyone?";
		mes "By doing this, you made friends with everyone in the town.";
		next;
		mes "[Phong in Mumbaki]";
		mes "I found ways to build Spiritual Protection.";
		mes "My grandchild Imelda will create it.";
		mes "So don't worry. You don't have to give out any more of your things.";
		erasequest 7365;
		set malaya_hi, 20;
		getexp 200000, 200000;
//		SavePPL Soul_Protection
		close;
	} else {
		mes "[Phong in Mumbaki]";
		switch(rand(1, 6)) {
		case 1:
			mes "There was a traveler who is as brave as you. The traveler went by the name of " + $malayaNames$[0] + ". Do you know that person?";
			break;
		case 2:
			mes "There is a traveler recently that has been gaining popularity in the village. The traveler's name was " + $malayaNames$[0] + ". Outsiders seem to be very vigorous.";
			break;
		case 3:
			mes "I have never in my life living as a Mumbaki seen a soul as pure and as strong as that of " + $malayaNames$[0] + "'s. Yes, even stronger and purer than yours.";
			break;
		case 4:
			mes "I witnessed a traveler who flipped backward after stepping on a fruit peel. " + $malayaNames$[1] + ". He cried out 'Ouch! Somebody please help~'. We all had a good laugh.";
			break;
		case 5:
			mes "Welcome! Welcome! You are always welcome around here.";
			break;
		case 6:
			mes "I don't know if you are aware of this, but " + $malayaNames$[0] + " even aided Baryo. I feel good to know that there is a one more good soul around.";
			break;
		}
		next;
		switch (select("Ask for advice.:Bless flowers...")) {
		case 1:
			if (malaya_diwata == 2) {
				mes "[Phong in Mumbaki]";
				mes "Ferry at the Port?";
				mes "So that has happened...";
				mes "Important thing is to first find out why that child is so upset.";
				next;
				mes "[Phong in Mumbaki]";
				mes "In this case, a bribe would work perfectly.";
				mes "Flowers are always the best choice for seducing woman, right?";
				next;
				select("This is not a love consulting.");
				mes "[Phong in Mumbaki]";
				mes "I'm just saying.";
				mes "Dead or alive, that poor soul is just a little girl.";
				next;
				mes "[Phong in Mumbaki]";
				mes "Girls that age will smile even at the falling leaves.";
				mes "Open her heart with an armful of flowers. ";
				next;
				mes "[Phong in Mumbaki]";
				mes "Let's see...";
				mes "^4d4dff3 Mystic Flowers, 3 Elegant Flowers, 3 Pretty Flowers^000000 would be enough to make a Bouquet.";
				next;
				mes "[Phong in Mumbaki]";
				mes "Gather these flowers, and I'll make a Bouquet out of it and bless it.";
				mes "Flowers can be found out side the village.";
				set malaya_diwata, 3;
				erasequest 7396;
				setquest 7397;
				close;
			} else if (malaya_diwata == 3) {
				if ((countitem(6509) < 3) || (countitem(6510) < 3) && (countitem(6511) < 3)) {
					mes "[Phong in Mumbaki]";
					mes "There are ^4d4dff3 Mystic Flowers, 3 Elegant Flowers, 3 Pretty Flowers^000000.";
					mes "Do you understand?";
					close;
				}
				mes "[Phong in Mumbaki]";
				mes "Oh... I can smell the scent of flowers from here.";
				mes "I'll gather these and bless them.";
				next;
				mes "-Phong in Mumbaki carries out a blessing ceremony after carefully tying flowers into a Bouquet.-";
				mes "-Just by watching it, holiness overwhelms you.-";
				next;
				mes "[Phong in Mumbaki]";
				mes "Isn't it a beauty?";
				mes "Not bad for a old man huh?";
				mes "I made so many Offering Bouquets in the past that I can make one with my eyes closed now.";
				next;
				mes "[Phong in Mumbaki]";
				mes "Now, deliver this to that child.";
				mes "I hope she opens her heart with this and becomes willing to talk to you.";
				delitem 6509, 3; // Mysterious_Flower
				delitem 6510, 3; // Elegant_Flower
				delitem 6511, 3; // Beautiful_Flower
				getitem 6506, 1; // Memorial_Bouquet
				set malaya_diwata, 4;
				erasequest 7397;
				setquest 7398;
				close;
			} else if (malaya_diwata == 4) {
				mes "[Phong in Mumbaki]";
				mes "Take this Bouquet and talk to the spirit that has nested in the boat.";
				close;
			} else if (malaya_diwata > 5) {
				mes "[Phong in Mumbaki]";
				mes "It is a pity to see a misfortunate spirit... just as with that Ferry incident.";
				mes "If you are going to offer a Bouquet for a spirit, I'm always willing to help.";
				close;
			} else {
				mes "[Phong in Mumbaki]";
				mes "There is nothing this old man can tell you.";
				mes "Nothing can beat staying healthy, right?";
				close;
			}
		case 2:
			if (checkquest(7402) == -1) {
				mes "[Phong in Mumbaki]";
				mes "Who is the floral tribute for?";
				mes "Don't tell me you're making one in advance cause you're lazy?";
				mes "A tribute must be sincere. Don't forget that.";
				close;
			}
			if (countitem(6506) > 0) {
				mes "[Phong in Mumbaki]";
				mes "Isn't it already made?";
				mes "What is that in your hand?";
				mes "Why are you standing around here? Go and give out those flowers.";
				close;
			}
			if ((countitem(6509) < 3) || (countitem(6510) < 3) || (countitem(6511) < 3)) {
				mes "[Phong in Mumbaki]";
				mes "Going to Diwata?";
				mes "You need Mysterious Flowers, Elegant Flowers and Beautiful Flowers, 3 of each, okay?";
				mes "I'll make it when the flowers are ready.";
				close;
			}
			mes "[Phong in Mumbaki]";
			mes "Diwata is some woman.";
			mes "And you going to her every day is something too.";
			next;
			mes "[Phong in Mumbaki]";
			mes "Hey, here's the Bouquet.";
			mes "Make offerings with your soul and wish for a fruitful day.";
			delitem 6509, 3; // Mysterious_Flower
			delitem 6510, 3; // Elegant_Flower
			delitem 6511, 3; // Beautiful_Flower
			getitem 6506, 1; // Memorial_Bouquet
			close;
		}
	}
}

malaya,169,350,5	script	Imelda#malaya	475,{
	if (MaxWeight - Weight < 1000 || checkweight(1201,1) == 0) {
		mes "- Cannot proceed with the quest. You are carrying too many items. -";
		close;
	}
	if (malaya_hi < 10) {
		mes "[Imelda]";
		mes ".... Hmm.";
		close;
	} else if (malaya_hi < 20) {
		mes "[Imelda]";
		mes "..........";
		mes "Not bad.";
		mes "I have my eyes on you. Let's see how you do in this town.. *chuckle*";
		next;
		mes "- She is a rather annoying little girl. -";
		close;
	} else if (malaya_hi == 20) {
		mes "[Imelda]";
		mes "Aren't you the hero who recently got on the villagers good side with the cheap foreign Holy Artifact?";
		mes "What's up?";
		next;
		select ("You want to make a traditional Spiritual Protection?");
		mes "[Imelda]";
		mes "Yes. My grandfather found a way.";
		mes "I'm going to make it.";
		next;
		mes "[Imelda]";
		mes "This is my job and nobody else's.";
		mes "Protecting traditions is my job.";
		next;
		switch (select("Is that so?:Good luck on your own!")) {
		case 1:
			if (BaseLevel < 100) {
				mes "[Imelda]";
				mes "Of course.";
				mes "And to get help from someone as... weak as you is not such a good idea.";
				next;
				mes "[Imelda]";
				mes "Getting the materials is not as easy as it sounds.";
				mes "Maybe when you become stronger, yes, but not now. Never.";
				close;
			}
			mes "[Imelda]";
			mes "What then?";
			mes "You're going to get the materials?";
			mes "Fine I'll accept your proposal.";
			next;
			select ("....?!");
			mes "[Imelda]";
			mes "If you wanted to help me out so much, why didn't you say so from the beginning?";
			mes "Or ask my grandfather?";
			next;
			mes "[Imelda]";
			mes "If you are so enthusiastic about making a Spiritual Protection.";
			mes "I'd have to give up, won't I?";
			next;
			mes "[Imelda]";
			mes "Now, the needed materials are ^4d4dff6 Sharpened Bamboos, 6 Salt bags and 6 Silver Crosses^000000.";
			next;
			mes "[Imelda]";
			mes "You'll have to manufacture the salt yourself at the north western beach.";
			mes "You'll find the pits I've made there.";
			next;
			mes "[Imelda]";
			mes "Go to Pandoi at the weapon shop for the Silver Crosses.";
			mes "He promised to make me some.";
			next;
			mes "[Imelda]";
			mes "Sharpened Bamboos you can get at Baryo or from a nearby forest.";
			mes "You got all that?";
			next;
			mes "[Imelda]";
			mes "Now's the time to prove your prowess!";
			set malaya_hi, 21;
			setquest 7366;
			close;
		case 2:
			mes "[Imelda]";
			mes "Indeed.";
			mes "I will protect the village!";
			next;
			mes "[" + strcharinfo(0) + "]";
			mes "Now I haven't seen any Spiritual Protections made with those!";
			mes "Interesting~";
			mes "I'm sure you'll do just fine~";
			mes "Ha ha ha ha~";
			next;
			mes "[Imelda]";
			mes "Stop annoying me and go away!";
			close;
		}
	} else if (malaya_hi == 21) {
		if ((countitem(6501) < 6) || (countitem(6500) < 6) || (countitem(6502) < 6)) {
			mes "[Imelda]";
			mes "I'll approve you as worthy if you bring all the materials for the Spiritual Protection!";
			next;
			mes "[Imelda]";
			mes "Manufacture the salt at the north western beach and bamboos grow in Baryo Mahiwaga.";
			mes "Ask Pandoi to make the Silver Crosses.";
			mes "Don't forget to get 6 of each.";
			close;
		}
		mes "[Imelda]";
		mes "... Oh... My, you really did get them?";
		mes "You're better than I thought.";
		mes "That was not a compliment at all!";
		next;
		mes "[Imelda]";
		mes "Now I'm going through the holy ritual to make a traditional Spiritual Protection.";
		mes "Give them to me! And don't bother me during the process!";
		set malaya_hi, 22;
		delitem 6500, 6; // Sharp_Bamboo
		delitem 6501, 6; // Salt_Bag
		delitem 6502, 6; // Silver_Cross
		erasequest 7366;
		setquest 7367;
		close;
	} else if (malaya_hi == 22) {
		.@playtime = checkquest(7367, PLAYTIME);
		if (.@playtime == 0 || .@playtime == 1) {
			mes "Imelda is in ritual with a devout aura, compared to when she streamed invectives.";
			mes "Better not disturb her.";
			close;
		} else if (.@playtime == 2) {
			mes "[Imelda]";
			mes "Still here?";
			mes "Of course, you want to see how much better my Spiritual Protection is compared to that cheap Holy Artifact.";
			next;
			mes "[Imelda]";
			mes "Fine.";
			mes "Now go and give these Spiritual Protections to the people!";
			mes "You have all the rights to do so!";
			mes "*Giggles*";
			next;
			mes "Took the Spiritual Protection, despite her ridiculous logic and vigor.";
			mes "Let's give them to the villagers.";
			set malaya_hi, 23;
			getitem 6503, 6; // Soul_Protection
			erasequest 7367;
			setquest 7368;
			setquest 7369;
			setquest 7370;
			setquest 7371;
			setquest 7372;
			setquest 7373;
			setquest 7374;
			close;
		} else {
			mes "[Imelda]";
			mes "Don't disturb the ritual and go away.";
			mes "Please wait while I make the Spiritual Protection.";
			setquest 7367;
			close;
		}
	} else if (malaya_hi == 23) {
		mes "[Imelda]";
		mes "The ones who gets the Spiritual Protections are on the list.";
		mes "Go and give them the new Spiritual Protections";
		next;
		mes "[Imelda]";
		mes "Such a kind person like yourself  will surely do it, won't you? ";
		mes "*Smirk*";
		close;
	} else if (malaya_hi == 24) {
		mes "[Imelda]";
		mes "... You really did what I asked you?";
		mes "You know what? I give up.";
		mes "I thought you'd leave after getting something from this town with sweet talk...";
		next;
		mes "[Imelda]";
		mes "I apologize for my rude behavior.";
		mes "....This is something to go with the apology.";
		next;
		mes "[Imelda]";
		mes "I'd be happy if you could help me, because the Spiritual Protections needs to be made every day.";
		set malaya_hi, 25;
		erasequest 7374;
		erasequest 7379;
		setquest 7375;
//		if (IsPremiumPcCafe == 10)
			getitem 6497, 2; // Lesser_Agimat
//		else
//			getitem 6497, 1; // Lesser_Agimat
		getexp 200000,200000;
		if (rand(1))
			$malayaNames$[0] = strcharinfo(0);
		close;
	} else {
		mes "[Imelda]";
		mes "Hello there.";
		mes "Did you enjoy the scenery of Malaya?";
		mes "It's nice to have a chat with friends on a Jeepney.";
		next;
		switch (select("I'll help you making Spiritual Protections.:Love and Spiritual Protection for all.")) {
		case 1:
			if (checkquest(7380) > -1) {
				if ((countitem(6501) < 6) || (countitem(6502) < 6) || (countitem(6500) < 6)) {
					mes "[Imelda]";
					mes "Materials for making a Spiritual Protection are";
					mes "Salt Bags, Silver Crosses and Sharpened Bamboos, 6 of each.";
					next;
					mes "[Imelda]";
					mes "Salt form the north western beach, Silver Crosses from Pandoi, and Sharpened Bamboos from near Baryo.";
					close;
				}
				mes "[Imelda]";
				mes "Yes, you got everything precisely.";
				mes "Thanks for the help.";
				next;
				mes "[Imelda]";
				mes "It'll be nice if you could help again tomorrow.";
				mes "Here's something for your trouble.";
				delitem 6500, 6; // Sharp_Bamboo
				delitem 6501, 6; // Salt_Bag
				delitem 6502, 6; // Silver_Cross
				erasequest 7380;
				setquest 7381;
//				if (IsPremiumPcCafe == 10)
					getitem 6497, 2; // Lesser_Agimat
//				else
//					getitem 6497, 1; // Lesser_Agimat
				getexp 200000,200000;
				close;
			} else {
				.@playtime = checkquest(7381, PLAYTIME);
				if ((.@playtime == 0) || (.@playtime == 1)) {
					mes "[Imelda]";
					mes "I appreciate your kindness, but we have enough for today.";
					mes "I'll ask for you when I need more materials.";
					close;
				} else if (.@playtime == 2) {
					mes "[Imelda]";
					mes "Very good timing.";
					mes "I ran out of materials for today's Spiritual Protections.";
					mes "Could you go for them now?";
					erasequest 7381;
					next;
					switch (select("Sure.:I need some preparations.")) {
					case 1:
						mes "[Imelda]";
						mes "As usual then.";
						mes "6 Salt Bags. Silver Crosses and Sharpened Bamboos, please.";
						setquest 7380;
						close;
					case 2:
						mes "[Imelda]";
						mes ".......I see.";
						mes "I'll be waiting then.";
						close;
					}
				} else {
					mes "[Imelda]";
					mes "That is great news indeed.";
					mes "You know what you need for making Spiritual Protections?";
					mes "Of course, it's not your first time...";
					next;
					mes "[Imelda]";
					mes "I'll leave you to it then.";
					mes "6 Salt Bags. Silver Crosses and Sharpened Bamboos, please.";
					setquest 7380;
					close;
				}
			}
		case 2:
			if (checkquest(7374) != -1) {
				if (checkquest(7379) == -1) {
					mes "[Imelda]";
					mes "Please deliver these new Spiritual Protections to the villagers.";
					mes "You know them, right?";
					close;
				}
				mes "[Imelda]";
				mes "They cannot rely on these Spiritual Protections forever...";
				mes "It would be much better to have a strong mind such as yours.";
				next;
				mes "[Imelda]";
				mes "Strong spirits are full of light.";
				mes "Those of the dark cannot approach due the blinding light";
				next;
				mes "[Imelda]";
				mes "I guess that's it for today.";
				mes "Thank you very much.";
				setquest 7375;
				erasequest 7374;
				erasequest 7379;
//				if (IsPremiumPcCafe == 10)
					getitem 6497, 2; // Lesser_Agimat
//				else
//					getitem 6497, 1; // Lesser_Agimat
				getexp 200000,200000;
				if (rand(1))
					$malayaNames$[0] = strcharinfo(0);
				close;
			} else {
				.@playtime = checkquest(7375, PLAYTIME);
				if (.@playtime == 0 || .@playtime == 1) {
					mes "[Imelda]";
					mes "The Spiritual Protections given before will still be in effect";
					mes "It's okay for now.";
					close;
				} else if (.@playtime == 2) {
					mes "[Imelda]";
					mes "I was wondering when you would drop by.";
					mes "Could you deliver Spiritual Protections to the folks today?";
					erasequest 7375;
					next;
					if (select("Of course.:Not today.") == 2) {
						mes "[Imelda]";
						mes "Yes.";
						mes "Why not take a stroll in Malaya today?";
						mes "Of course, you'll still encounter ghosts here and there.";
						close;
					}
					if ((checkquest(7381) == 0) || (checkquest(7381) == 1)) {
						mes "[Imelda]";
						mes "Thank you very much.";
						mes "Come back when you've given them all out.";
						setquest 7374;
						setquest 7368;
						setquest 7369;
						setquest 7370;
						setquest 7371;
						setquest 7372;
						setquest 7373;
						getitem 6503, 6; // Soul_Protection
						close;
					} else {
						mes "[Imelda]";
						mes "Thanks for your concern, but I couldn't make any because I ran out of materials.";
						mes "Shame, is it not?";
						mes "I do hope there's somebody willing to get them for me.";
						close;
					}
				} else {
					mes "[Imelda]";
					mes "Are you at peace? I could feel your serenity all the way from here.";
					mes "You want to spend that extra time for me?";
					next;
					mes "[Imelda]";
					mes "Could you give out these Spiritual Protections to the villagers for me?";
					next;
					switch (select("Yes.:Not today.") == 2) {
						mes "[Imelda]";
						mes "Yes.";
						mes "Why not take a stroll in Malaya today?";
						mes "Of course, you'll still encounter ghosts here and there.";
						close;
					}
					if ((checkquest(7381, PLAYTIME) == 0) || (checkquest(7381, PLAYTIME) == 1)) {
						mes "[Imelda]";
						mes "Thank you very much.";
						mes "Come back when you've given them all out.";
						setquest 7374;
						setquest 7368;
						setquest 7369;
						setquest 7370;
						setquest 7371;
						setquest 7372;
						setquest 7373;
						getitem 6503, 6; // Soul_Protection
						close;
					} else {
						mes "[Imelda]";
						mes "Thanks for your concern, but I couldn't make any because I ran out of materials.";
						mes "Shame, is it not?";
						mes "I do hope there's somebody willing to get them for me.";
						close;
					}
				}
			}
			break;
		}
	}
	end;
}

malaya,181,353,5	script	Old Man Nardo#malaya	574,{
	if (MaxWeight - Weight < 1000 || checkweight(1201,1) == 0) {
		mes "- Cannot proceed with the quest. You are carrying too many items. -";
		close;
	}
	if (malaya_hi < 10) {
		mes "[Old Man Nardo]";
		mes ".......";
		mes "Not from around here, I see. I have nothing to say.";
		close;
	} else if (malaya_hi == 10) {
		if (checkquest(7353) == 2) {
			mes "[Old Man Nardo]";
			mes "How about lending a hand for a poor old man?";
			mes "I don't care if it's just a sleeve of your shirt, just give me something with your vigor.";
			next;
			mes "[Old Man Nardo]";
			mes "You know, I've not long to go now...";
			mes "Help me be at peace along the way.";
			close;
		} else {
			mes "[Old Man Nardo]";
			mes "Y... You!!";
			mes "You're the young one with such strong spirit to fend off ghosts of darkness?!";
			mes "Would it be... Possible to share some of your spirit with me?";
			next;
			mes "[Old Man Nardo]";
			mes "I have trouble sleeping because of the mischievous ghosts around town, and my back hurts when it rains.";
			next;
			mes "[Old Man Nardo]";
			mes "Please share that miraculous spirit of yours with me.";
			mes "How about just a button of yours?";
			next;
			mes "-The troubled villagers desire your belongings because you fend off the ghosts. -";
			setquest 7353;
			completequest 7353;
			if ((checkquest(7352) + checkquest(7353) + checkquest(7354) + checkquest(7355) + checkquest(7356) + checkquest(7357)) > 9) {
				next;
				mes "-So many have already asked you for this. Perhaps it will be better to speak with Phong in Mumbaki.-";
				set malaya_hi, 11;
				setquest 7358;
			}
			close;
		}
	} else if (malaya_hi == 11) {
		mes "[" + strcharinfo(0) + "]";
		mes "He'll rake off all my buttons if I talk to him now.";
		mes "Must counsel with Mumbaki first!";
		close;
	} else if (malaya_hi == 12) {
		if (checkquest(7360) != -1) {
			mes "[Old Man Nardo]";
			mes "To be honest, I do not believe that this Holy Artifact has any abilities.";
			mes "It's just for the peace of mind.";
			next;
			mes "[Old Man Nardo]";
			mes "Nevertheless, I see you differently now";
			mes "To exclude just because someone's an outsider doesn't seem like a good idea anymore.";
			mes "I'm sorry I ignored you.";
			close;
		}
		if (!countitem(523) || !countitem(717)) {
			mes "^4d4dffPrepare and give Blue Gemstone and Holy Water. ^000000";
			close;
		}
		mes "[Old Man Nardo]";
		mes "So, changed your mind about sharing your spirit?";
		next;
		select("Hand over the prepared items.");
		mes "[Old Man Nardo]";
		mes "Ahh... Thank you.";
		mes "Now I can be at peace for some time...";
		mes "...Peace is always good. Yes.";
		next;
		mes "- Gave Holy Water and Blue Gemstone to Old Man Nardo.-";
		delitem 717, 1; //Blue_Gemstone
		delitem 523, 1; //Holy_Water
		setquest 7360;
		completequest 7360;
		if ((checkquest(7359) + checkquest(7360) + checkquest(7361) + checkquest(7362) + checkquest(7363) + checkquest(7364)) > 11) {
			mes "-With the Old Man as last, enough Holy Artifacts have been given out.-";
			set malaya_hi, 13;
			erasequest 7351;
			setquest 7365;
		}
		close;
	} else if ((malaya_hi > 12) && (malaya_hi < 20)) {
		mes "[Old Man Nardo]";
		mes "To be honest, I do not believe that this Holy Artifact has any abilities.";
		mes "It's just for the peace of mind.";
		next;
		mes "[Old Man Nardo]";
		mes "When you have the time, could you help me out with something?";
		mes "I'm fine now... I mean later.";
		close;
	} else {
		mes "[Old Man Nardo]";
		switch(rand(1, 6)) {
		case 1:
			mes "Do you know Capre? I hear " + $malayaNames$[1] + " travelers are helping out Capre... Anyhow...";
			break;
		case 2:
			mes "There are plenty of Spiritual Protection these days. " + $malayaNames$[0] + " was keen at giving out Spiritual Protections. Is it a tradition where you come from?";
			break;
		case 3:
			mes "I hear that, between merchants, " + $malayaNames$[1] + "? The name seems to pop up a lot. He seems to be talented in the business.";
			break;
		case 4:
			mes "Once, I saw a traveler who slipped on a piece of fruit. 'Someone help " + $malayaNames$[1] + "~' he shouted, which gave me a good laugh.";
			break;
		case 5:
			mes "Ah, you again? Thanks for the help back then.";
			break;
		case 6:
			mes "I hear that " + $malayaNames$[2] + " is famous in Baryo. Why don't you try for some fame?";
			break;
		}
		mes "What is it?";
		next;
		switch (select("Speak.:Give Spiritual Protection.:The Old Man and the Cast Iron Cauldron")) {
		case 1:
			mes "[Old Man Nardo]";
			mes "Port Malaya is a beautiful city.";
			mes "The old and new are in perfect harmony.";
			next;
			mes "[Old Man Nardo]";
			mes "Of course there's the recent problem with ghosts wondering about...";
			mes "It relieves me that you and other young people are working hard on it.";
			mes "Thank you.";
			close;
		case 2:
			if ((checkquest(7374) != -1) && (checkquest(7369) != -1)) {
				if (!countitem(6503)) {
					mes "^4d4dffThere's no Spiritual Protection to give to the Old Man.^000000";
					close;
				}
				mes "[Old Man Nardo]";
				mes "Is this a new Spiritual Protection made from traditional methods?";
				mes "I am grateful that you'd replace mine with a new one.";
				mes "I am always in your and Imelda's debt.";
				next;
				mes "-Delivered the Spiritual Protection to Old Man Nardo.-";
				delitem 6503, 1; // Soul_Protection
				erasequest 7369;
				setquest 7383;
				if ((checkquest(7382) + checkquest(7383) + checkquest(7384) + checkquest(7385) + checkquest(7386) + checkquest(7387)) > 5) {
					mes "- With the Old Man as last, all Spiritual Protections have been delivered. Head back to Imelda.-";
					if (malaya_hi == 23) {
						set malaya_hi, 24;
					}
					setquest 7379;
					erasequest 7382;
					erasequest 7383;
					erasequest 7384;
					erasequest 7385;
					erasequest 7386;
					erasequest 7387;
				}
				close;
			} else {
				mes "[Old Man Nardo]";
				mes "What? A new Spiritual Protection?";
				mes "I'm okay. I still have the one you gave me before.";
				mes "Could you give me a new one when this one wears out?";
				close;
			}
			break;
		case 3:
			if (BaseLevel < 100) {
				mes "[Old Man Nardo]";
				mes "Hmm... You don't look strong enough to travel to Baryo.";
				mes "I'm sorry but I can't let you carry the precious Cast Iron Cauldron.";
				close;
			}
			if ((checkquest(7378, PLAYTIME) == 0) || (checkquest(7378, PLAYTIME) == 1)) {
				mes "[Old Man Nardo]";
				mes "You've delivered the Cast Iron Cauldron to Baryo, so that's enough for today.";
				mes "No matter how strong a cauldron is, even with the toughest cast iron, it only lasts a day.";
				next;
				mes "[Old Man Nardo]";
				mes "Help me out again tomorrow if you can.";
				close;
			} else if (checkquest(7378, PLAYTIME) == 2) {
				mes "[Old Man Nardo]";
				mes "Hey there!";
				mes "So, are you well and well fed?";
				mes "Come back again when you have the time.";
				next;
				mes "[Old Man Nardo]";
				mes "It's about the Cast Iron Cauldron, but it can wait for after your current errand.";
				erasequest 7378;
				close;
			 } else {
				if (checkquest(7377) != -1) {
					if (countitem(6503) < 5) {
						mes "[Old Man Nardo]";
						mes "Did you deliver the cauldron in one piece?";
						mes "Kiko in Mumbaki should have given you a Spiritual Protection. Do you have it?";
						mes "You must have left it somewhere. Go fetch it please.";
						close;
					}
					mes "[Old Man Nardo]";
					mes "Good. It's the Spiritual Protection promised by Kiko in Mumbaki in return.";
					mes "I know Imelda makes them and you bring them every day, but more the Spiritual Protections, the better.";
					next;
					mes "[Old Man Nardo]";
					mes "Please stop by again.";
					mes "I always prepare the Cast Iron Cauldron needed at Baryo.";
					delitem 6503, 5; // Soul_Protection
					setquest 7378;
					erasequest 7377;
//					if (IsPremiumPcCafe == 10)
						getitem 6497, 2; // Lesser_Agimat
//					else
//						getitem 6497, 1; // Lesser_Agimat
					getexp 200000,200000;
					if (!rand(3))
						$malayaNames$[2] = strcharinfo(0);
					close;
				} else {
					if (checkquest(7376) > -1) {
						mes "[Old Man Nardo]";
						mes "Go to Kiko in Mumbaki at Baryo Mahiwaga and deliver the Cast Iron Cauldron.";
						mes "This should help against the Bakonawa troubles.";
						close;
					} else {
						mes "[Old Man Nardo]";
						mes "Yes, the Cast Iron Cauldron.";
						mes "Go to Kiko in Mumbaki at Baryo Mahiwaga and deliver the Cast Iron Cauldron.";
						mes "I'd like you to do it for me...";
						next;
						switch (select("Cast Iron Cauldron??:I'll do it.:I'm busy right now.")) {
						case 1:
							mes "[Old Man Nardo]";
							mes "It's because of the Bakonawa.";
							mes "Beat the cauldron and the surprised Bakonawa spits back out the moon.";
							next;
							mes "[Old Man Nardo]";
							mes "Baryo Mahiwaga is close to where Bakonawa lives, so they are always prepared for trouble.";
							next;
							mes "[Old Man Nardo]";
							mes "Enough Cast Iron Cauldrons must be prepared for beating.";
							mes "But the forge is better here.";
							mes "So I deliver them every day.";
							close;
						case 2:
							mes "[Old Man Nardo]";
							mes "This is the Cast Iron Cauldron. They have fine blacksmiths in Malaya.";
							mes "Deliver this to Kiko in Mumbaki at the nearby town of Baryo Mahiwaga.";
							setquest 7376;
							getitem 6504, 5; // Cast_Iron_Caldron
							close;
						case 3:
							mes "[Old Man Nardo]";
							mes "Is that so.";
							mes "I'm sorry, you must be very busy.";
							close;
						}
					}
				}
			}
			break;
		}
	}
	end;
}

malaya,224,267,3	script	Romel#malaya	573,{
	if (malaya_hi < 10) {
		mes "[Romel]";
		mes ".........";
		mes " ";
		mes "(He evades your gaze and ignores you.)";
		close;
	} else if (malaya_hi == 10) {
		if (checkquest(7357) == 2) {
			mes "[Romel]";
			mes "....So cold-hearted.";
			mes "And here we are, always trembling in anxiety...";
			next;
			mes "[Romel]";
			mes "Not even allowed the peace of mind...";
			close;
		} else {
			mes "[Romel]";
			mes "Ahh....";
			mes "... You..";
			mes "I'm sorry I ignored you.";
			mes "But... you must be the one they're talking about...";
			next;
			mes "[Romel]";
			mes "Are you the one who fends off the ghosts?";
			mes "If it's okay with you, can I have one of your belongings or some hair?";
			next;
			mes "[Romel]";
			mes "I want to carry it... Like a charm of sort.";
			next;
			mes "-The troubled villagers desire your belongings because you fend off the ghosts. -";
			setquest 7357;
			completequest 7357;
			if ((checkquest(7352) + checkquest(7353) + checkquest(7354) + checkquest(7355) + checkquest(7356) + checkquest(7357)) > 9) {
				next;
				mes "- So many have already asked you for this. Perhaps it will be better to speak with Phong in Mumbaki.-";
				set malaya_hi, 11;
				setquest 7358;
			}
			close;
		}
	} else if (malaya_hi == 11) {
		mes "Romel looks in your way with a sad look.";
		mes "He'll surely take a hair or pull a sleeve if he had his way!";
		close;
	} else if (malaya_hi == 12) {
		if (checkquest(7364) != -1) {
			mes "[Romel]";
			mes "Frankly speaking, it's for the peace of mind.";
			mes "With it, I could face them with more boldness.";
			next;
			mes "[Romel]";
			mes "I mean, I'm relying on such items,";
			mes "but I am braver with them.";
			close;
		}
		if (!countitem(523) || !countitem(717)) {
			mes "^4d4dffPrepare and give Blue Gemstone and Holy Water. ^000000";
			close;
		}
		mes "[Romel]";
		mes "...What is it?";
		next;
		select ("Hand him the prepared items");
		mes "[Romel]";
		mes "Oh... Thank you.";
		mes "I can feel your spirit.";
		mes "This will keep me safe.";
		next;
		mes "[Romel]";
		mes "Hey... Could you give some for my daughter as well?";
		next;
		mes "- Gave Romel the prepared Holy Water and Blue Gemstone.-";
		delitem 717, 1; //Blue_Gemstone
		delitem 523, 1; //Holy_Water
		setquest 7364;
		completequest 7364;
		if ((checkquest(7359) + checkquest(7360) + checkquest(7361) + checkquest(7362) + checkquest(7363) + checkquest(7364)) > 11) {
			mes "-With Romel as last, I think enough Holy Artifacts have been given.-";
			set malaya_hi, 13;
			erasequest 7351;
			setquest 7365;
		}
		close;
	} else if (malaya_hi == 13) {
		mes "[Romel]";
		mes "The Holy Artifact is in good hands.";
		mes "Same with my daughter.";
		close;
	} else {
		mes "[Romel]";
		mes "Hello there.";
		switch(rand(1, 6)) {
		case 1:
			mes "Ha ha, I had a dream last night, you see, and there was " + $malayaNames$[0] + " in the dream. Ha ha... Strange indeed...";
			break;
		case 2:
			mes "Sometimes, my wife makes these sounds in her sleep. " + $malayaNames$[0] + "... " + $malayaNames$[0] + "... she says. Who is it? Do you know?! Is she possessed by a ghost?";
			break;
		case 3:
			mes  "It's all thanks to " + $malayaNames$[0] + " for changing the atmosphere of the house. It seems like we were saved by the Holy Artifact and Spiritual Protection.";
			break;
		case 4:
			mes  "The people of the neighboring Baryo Mahiwaga are so strong. Even their children play in the forest. I can't imagine myself doing that.";
			break;
		case 5:
			mes  "Without the slightest doubt, the most famous person in town is " + $malayaNames$[2] + ". Even famous in Baryo they say.";
			break;
		case 6:
			mes  "Merchant Woeon says 'Our " + $malayaNames$[1] + " sir/ma'am' 'we " + $malayaNames$[1] + " sir/ma'am' during drinking. I wonder what happened between the two of them?";
			break;
		}
		next;
		if (select("Give Spiritual Protection:How are things?") == 2) {
			mes "[Romel]";
			mes "I am at peace these days.";
			close;
		}
		if ((checkquest(7374) == -1) || (checkquest(7373) == -1)) {
			mes "[Romel]";
			mes "A new Spiritual Protection?";
			mes "The one you gave me before still works fine.";
			mes "I'm okay for now.";
			close;
		}
		if (!countitem(6503)) {
			mes "^4d4dffThere are no Spiritual Protections to give to Romel.^000000";
			close;
		}
		mes "[Romel]";
		mes "A new Spiritual Protection.";
		mes "I was thinking this one had worn out... Thanks for coming.";
		mes "This Spiritual Protection will also protect us.";
		next;
		mes "- Delivered Romel his Spiritual Protection.-";
		delitem 6503, 1; // Soul_Protection
		erasequest 7373;
		setquest 7387;
		if ((checkquest(7382) + checkquest(7383) + checkquest(7384) + checkquest(7385) + checkquest(7386) + checkquest(7387)) > 5) {
			mes "- With Romel as last, all Spiritual Protections have been delivered. Head back to Imelda.-";
			if (malaya_hi == 23) {
				set malaya_hi, 24;
			}
			setquest 7379;
			erasequest 7382;
			erasequest 7383;
			erasequest 7384;
			erasequest 7385;
			erasequest 7386;
			erasequest 7387;
		}
		close;
	}
	end;
}

malaya,223,267,5	script	Talah#malaya	941,{
	if (malaya_hi < 10) {
		mes "[Talah]";
		mes "..........gasp!";
		mes " ";
		mes "(When your eyes met with hers, she ran and hid behind her father.)";
		close;
	} else if (malaya_hi == 10) {
		if (checkquest(7356) == 2) {
			mes "[Talah]";
			mes "Talah might be taken away tonight.";
			mes "Scary kids might come to Talah.";
			next;
			mes "When Talah tugs at Romel's shirt, Romel looks at you with a sad gaze.";
			mes "Better do something before they take a button from you...";
			close;
		} else {
			mes "[Talah]";
			mes "....I..umm... that.....";
			mes ".........oh... Daddy....";
			next;
			mes "[Romel]";
			mes "Hey, could you give my daughter a button or some hair of yours?";
			mes "She has trouble sleeping at night .......";
			next;
			mes "[Romel]";
			mes "Wouldn't she be able to sleep well if she had something from you as a lucky charm?";
			next;
			mes "- The troubled villagers desire your belongings because you fend off the ghosts. -";
			setquest 7356;
			completequest 7356;
			if ((checkquest(7352) + checkquest(7353) + checkquest(7354) + checkquest(7355) + checkquest(7356) + checkquest(7357)) > 9) {
				next;
				mes "- So many have already asked you for this. Perhaps it will be better to speak with Phong in Mumbaki. -";
				set malaya_hi, 11;
				setquest 7358;
			}
			close;
		}
	} else if (malaya_hi == 11) {
		mes "Talah looks from you to her father with inquisitive eyes.";
		close;
	} else if (malaya_hi == 12) {
		if (checkquest(7363) != -1) {
			mes "[Talah]";
			mes "I dont know for sure";
			mes "but I get a warm feel from them.";
			mes "Daddy's braver now and that makes Talah stronger too.";
			close;
		}
		if (!countitem(523) || !countitem(717)) {
			mes "^4d4dffPrepare and give Blue Gemstone and Holy Water. ^000000";
			close;
		}
		mes "[Talah]";
		mes ".... Can I say hello?";
		mes "Hello... there...";
		next;
		select("Give the prepared items.");
		mes "[Talah]";
		mes "Pretty blue stones...!";
		mes "Oooooh~ They're beautiful!";
		mes "Is this stone going to keep Talah safe?";
		next;
		mes "- Delivered the Holy Water and Blue Gemstone to Talah. -";
		delitem 717, 1; //Blue_Gemstone
		delitem 523, 1; //Holy_Water
		setquest 7363;
		completequest 7363;
		if ((checkquest(7359) + checkquest(7360) + checkquest(7361) + checkquest(7362) + checkquest(7363) + checkquest(7364)) > 11) {
			mes "-With Talah as last, I think enough Holy Artifacts have been given.-";
			set malaya_hi, 13;
			erasequest 7351;
			setquest 7365;
		}
		close;
	} else if (malaya_hi == 13) {
		mes "[Talah]";
		mes "Daddy told me to hold on to the Holy Artifact really tight.";
		mes "So it keeps away bad ghosts...";
		close;
	} else {
		mes "[Talah]";
		mes "Hello...";
		next;
		if (select("Give Spiritual Protection.:Hi there?") == 2) {
			mes "[Talah]";
			mes "...Hey...Thank you.";
			mes "You're keeping us safe aren't you?";
			close;
		}
		if ((checkquest(7374) != -1) && (checkquest(7372) != -1)) {
			if (!countitem(6503)) {
				mes "^4d4dffThere is no Spiritual Protection to give to Talah.^000000";
				close;
			}
			mes "[Talah]";
			mes "Is this a new Spiritual Protection?";
			mes "Thank you.";
			mes "Talah can sleep well now with the Spiritual Protection.";
			mes "Daddy likes it too.";
			next;
			mes "- Delivered new Spiritual Protection to Talah.-";
			delitem 6503, 1; // Soul_Protection
			erasequest 7372;
			setquest 7386;
			if ((checkquest(7382) + checkquest(7383) + checkquest(7384) + checkquest(7385) + checkquest(7386) + checkquest(7387)) > 5) {
				mes "- With Talah as last, all Spiritual Protections have been delivered. Head back to Imelda. -";
				if (malaya_hi == 23) {
					set malaya_hi, 24;
				}
				setquest 7379;
				erasequest 7382;
				erasequest 7383;
				erasequest 7384;
				erasequest 7385;
				erasequest 7386;
				erasequest 7387;
			}
			close;
		} else {
			mes "[Talah]";
			mes "Umm...";
			mes "The one you gave before still keeps Talah safe.";
			mes "I'm okay.";
			close;
		}
	}
	end;
}

malaya,62,274,0	script	Sand Trap#malaya	557,{
	if (MaxWeight - Weight < 1000 || checkweight(1201,1) == 0) {
		mes "- Cannot proceed with the quest. You are carrying too many items. -";
		close;
	}
	if ((checkquest(7366) == -1) && (checkquest(7380) == -1)) {
		mes "A device to evaporate sea water is buried in the sand...";
		close;
	}
	if (countitem(6501) >= 6) {
		mes "There's enough salt.";
		close;
	}
	mes "A device to evaporate sea water is installed in the Sand Trap.";
	next;
	mes "Salt can be scraped off the dried leaves";
	mes "someone scattered on the sea water.";
	close2;
	progressbar "0xffff00", 5;
	disablenpc strnpcinfo(0);
	initnpctimer;
	getitem 6501, 1; // Salt_Bag
	mes "[" + strcharinfo(0) + "]";
	mes "This should be enough.";
	close;

OnTimer30000:
	enablenpc strnpcinfo(0);
	stopnpctimer;
	end;
}
malaya,66,277,0	duplicate(Sand Trap#malaya)	Sand Trap#malaya01	557
malaya,70,282,0	duplicate(Sand Trap#malaya)	Sand Trap#malaya02	557

ma_fild01,178,206,0	script	Black Bamboo#malaya	844,4,4,{
	if (MaxWeight - Weight < 1000 || checkweight(1201,1) == 0) {
		mes "- Cannot proceed with the quest. You are carrying too many items. -";
		close;
	}
	if ((checkquest(7366) == -1) && (checkquest(7380) == -1)) {
		mes "There's a short and black bamboo tree.";
		close;
	}
	if (countitem(6500) >= 6) {
		mes "There's enough Sharpened Bamboos...";
		close;
	}
	mes "There's bamboo here with black cane and leaves.";
	mes "If some of it is cut off and sharpened, I think it will suffice for the Sharpened Bamboo Imelda wanted.";
	close2;
	progressbar "0xffff00", 3;
	disablenpc strnpcinfo(0);
	initnpctimer;
	getitem 6500, 1; //Sharp_Bamboo
	mes "[" + strcharinfo(0) + "]";
	mes "I knew I could do this!";
	close;
OnTouch:
	if ((checkquest(7366) != -1) || (checkquest(7380) != -1)) {
		specialeffect EF_LEVEL99_4;
	}
	end;
OnTimer30000:
	enablenpc strnpcinfo(0);
	stopnpctimer;
	end;
}
ma_fild01,225,186,0	duplicate(Black Bamboo#malaya)	Black Bamboo#malaya01	844,4,4
ma_fild01,230,244,0	duplicate(Black Bamboo#malaya)	Black Bamboo#malaya02	844,4,4
ma_fild01,174,238,0	duplicate(Black Bamboo#malaya)	Black Bamboo#malaya03	844,4,4
ma_fild01,180,273,0	duplicate(Black Bamboo#malaya)	Black Bamboo#malaya04	844,4,4
ma_fild01,179,145,0	duplicate(Black Bamboo#malaya)	Black Bamboo#malaya05	844,4,4

malaya,295,171,3	script	Collection Dealer Woeon	582,{
	if (MaxWeight - Weight < 1000 || checkweight(1201,1) == 0) {
		mes "- Cannot proceed with the quest. You are carrying too many items. -";
		close;
	}
	if (malaya_hi < 10) {
		mes "[Woeon]";
		mes "Urghh... Urgh... I got a headache...";
		mes "My headache must have been brought to me by you from out of town!";
		mes "Go away. Shoo, leave!";
		close;
	} else if (malaya_hi == 10) {
		if (checkquest(7355) == 2) {
			mes "[Woeon]";
			mes "Now, look here my friend...";
			mes "This can all be solved by giving me a button.";
			mes "It doesn't look so expensive either.";
			close;
		} else {
			mes "[Woeon]";
			mes "Aha! You're the one they're all talking about!";
			mes "I was kinda rude right? Forget about it!";
			mes "Yes, do forget...";
			next;
			mes "[Woeon]";
			mes "If you're in dire need, I could get you a job around here you know..";
			mes ".... Could you give me some of your things?";
			next;
			mes "[Woeon]";
			mes "I heard the rumors about you shooing away the ghosts!";
			mes "Can't you see my shaking hands from fear of them ghosts?";
			mes "I'll feel much better if you could just give me a button off your sleeve...";
			next;
			mes "- The troubled villagers desire your belongings because you fend off the ghosts. -";
			setquest 7355;
			completequest 7355;
			if ((checkquest(7352) + checkquest(7353) + checkquest(7354) + checkquest(7355) + checkquest(7356) + checkquest(7357)) > 9) {
				next;
				mes "- So many have already asked you for this. Perhaps it will be better to speak with Phong in Mumbaki.-";
				set malaya_hi, 11;
				setquest 7358;
			}
			close;
		}
	} else if (malaya_hi == 11) {
		mes "[Woeon]";
		mes "Sigh... Life is so tough these days.";
		mes "Why did ghosts come along to bother me so.";
		mes "I wish I had a lucky charm or something...";
		next;
		mes "[Woeon]";
		mes "Why won't you give me one of your belongings so I could keep as a charm?";
		mes "Come on, one sock could save a man's life, you know.";
		mes "Cold hearted son of a...";
		close;
	} else if (malaya_hi == 12) {
		if (checkquest(7362) != -1) {
			mes "[Woeon]";
			mes "Hmm. Look at my hands.";
			mes "Less shaky, eh?";
			mes "Isn't that so?";
			close;
		}
		if (!countitem(523) || !countitem(717)) {
			mes "^4d4dffPrepare and give Blue Gemstone and Holy Water. ^000000";
			close;
		}
		mes "[Woeon]";
		mes "Humph! What do you want?";
		next;
		select ("Give the prepared items.");
		mes "[Woeon]";
		mes "Oh dear... Forget about the thing back there.";
		mes "You see, I was haunted by another ghost after you left...";
		mes "No hard feelings..";
		next;
		mes "[Woeon]";
		mes "Is this the source of your spirit?";
		mes "It feels kinda cool!";
		mes "Perhaps this will fend off some of them...";
		next;
		mes "[Woeon]";
		mes "Anyway, thanks a lot.";
		mes "I'll call for you first when a job opens up for you.";
		next;
		mes "- Gave Woeon the Holy Water and Blue Gemstone.-";
		delitem 717, 1; //Blue_Gemstone
		delitem 523, 1; //Holy_Water
		setquest 7362;
		completequest 7362;
		if ((checkquest(7359) + checkquest(7360) + checkquest(7361) + checkquest(7362) + checkquest(7363) + checkquest(7364)) > 11) {
			mes "-With Woeon as last, I think enough Holy Artifacts have been given.-";
			set malaya_hi, 13;
			erasequest 7351;
			setquest 7365;
		}
		close;
	} else if (malaya_hi == 13) {
		mes "[Woeon]";
		mes "Now... Let's get back to business.";
		mes "Thanks to you, I don't see any of those darn ghosts.";
		mes "Ha ha ha ha ha";
		close;
	} else {
		mes "[Woeon]";
		mes "Oh, hi there!";
		next;
		if (select("Give Spiritual Protection.:The Dealer and his Collection") == 1) {
			if (((checkquest(7374) == 0) || (checkquest(7374) == 1)) && ((checkquest(7371) == 0) || (checkquest(7371) == 1))) {
				if (!countitem(6503)) {
					mes "^4d4dffThere is no Spiritual Protection to give to Woeon.^000000";
					close;
				}
				mes "[Woeon]";
				mes "Phew~ A new Spiritual Protection?";
				mes "Is it an officially made protective charm? Imelda does some fine work.";
				mes "I'm thankful to you as well, of course.";
				next;
				mes "-Delivered Spiritual Protection to Woeon.-";
				delitem 6503, 1; // Soul_Protection
				erasequest 7371;
				setquest 7385;
				if ((checkquest(7382) + checkquest(7383) + checkquest(7384) + checkquest(7385) + checkquest(7386) + checkquest(7387)) > 5) {
					mes "-With Woeon as last, all Spiritual Protections have been delivered.-";
					if (malaya_hi == 23) {
						set malaya_hi, 24;
					}
					setquest 7379;
					erasequest 7382;
					erasequest 7383;
					erasequest 7384;
					erasequest 7385;
					erasequest 7386;
					erasequest 7387;
				}
				close;
			} else {
				mes "[Woeon]";
				mes "Spiritual Protection?";
				mes "Mine still works fine.";
				mes "Very effective indeed.";
				close;
			}
		} else {
			if (BaseLevel < 100) {
				mes "[Woeon]";
				mes "Yes, I collect various by-products from monsters.";
				mes "In fact, I'm collecting Jejellopys here...";
				next;
				mes "[Woeon]";
				mes "It's too much for you.";
				mes "Things can get pretty ugly around here, you see.";
				mes "I'll let you have at it once you're stronger, my friend!";
				close;
			}
			if ((checkquest(7392, PLAYTIME) == 0) || (checkquest(7392, PLAYTIME) == 1)) {
				mes "[Woeon]";
				mes "Oh, the Jejellopy collecting?";
				mes "I have enough for today.";
				mes "Come back again tomorrow.";
				close;
			} else if (checkquest(7392, PLAYTIME) == 2) {
				mes "[Woeon]";
				mes "Oh, yes yes.";
				mes "You're going to collect Jejellopy today as well?";
				mes "I know it's a difficult job... But you do it so well.";
				erasequest 7392;
				next;
				if (select("I'm too busy today.:Leave it to me!") == 1) {
					mes "[Woeon]";
					mes "Is that so? So it is then.";
					mes "Come stop by when you need some work.";
					close;
				}
				mes "[Woeon]";
				mes "As usual, bring me 30 Jejellopys, please.";
				mes "You can get them from the Jejelings.";
				setquest 7391;
				close;
			} else {
				if ((checkquest(7391) == 0) || (checkquest(7391) == 1)) {
					if (countitem(6498) < 30) {
						mes "[Woeon]";
						mes "Hmm? I don't think you have enough.";
						mes "I asked you for 30 Jejellopys. Business is business I'm afraid.";
						close;
					}
					mes "[Woeon]";
					mes "Oh, you have the requested numbers?";
					mes "I'll take them from here.";
					mes "You have no need for them, right?";
					next;
					mes "[Woeon]";
					mes "So I have all the Jejellopys...";
					mes "Come back again!";
					delitem 6498, countitem(6498); //Jejellopy
					setquest 7392;
					erasequest 7391;
//					if (IsPremiumPcCafe == 10)
						getitem 6497, 2; // Lesser_Agimat
//					else
//						getitem 6497, 1; // Lesser_Agimat
					getexp 200000,200000;
					set .@memo_name, rand(1,3);
					if (!rand(3))
						$malayaNames$[1] = strcharinfo(0);
					close;
				} else {
					mes "[Woeon]";
					mes "As you can see, I'm a Collection Dealer.";
					mes "I trade all kinds of monster or animal by-products.";
					next;
					mes "[Woeon]";
					mes "They're used as materials for manufactured goods.";
					mes "Of course, the most preferred in Port Malaya is from the monster Jejeling..";
					next;
					mes "[Woeon]";
					mes "Jejellopy can be acquired from the Jejeling.";
					mes "Can you get me 30 Jejellopys?";
					next;
					if (select("Yeah, sure.:Nope.") == 2) {
						mes "[Woeon]";
						mes "Is that so. Such a shame.";
						mes "Come back when you need some work.";
						close;
					}
					mes "[Woeon]";
					mes "Good, I trust you can do it.";
					mes "Remember, 30 Jejellopys.";
					setquest 7391;
					close;
				}
			}
		}
	}
	end;
}

malaya,119,217,3	script	Blacksmith Pandoi	538,{
	if (MaxWeight - Weight < 1000 || checkweight(1201,1) == 0) {
		mes "- Cannot proceed with the quest. You are carrying too many items. -";
		close;
	}
	if (malaya_hi < 10) {
		mes "[Pandoi]";
		mes "...Gasp!";
		mes "Go... Go away!";
		close;
	} else if (malaya_hi == 10) {
		if (checkquest(7354) == 2) {
			mes "[Pandoi]";
			mes "Please..";
			mes "Couldn't you help a guy out here, just for the sake of it?";
			mes "Do you really think ignoring me is the best option?!";
			next;
			mes "[Pandoi]";
			mes "Now look here.";
			mes "Please give me just a peek..";
			mes "It's just a button...";
			close;
		} else {
			mes "[Pandoi]";
			mes "Hello there!";
			mes "I've heard of your prestige.";
			mes "I was wondering if I could receive something to prove that I've met you in person...";
			next;
			mes "[Pandoi]";
			mes "Oh... You're surprised because I'm suddenly so nice to you.";
			mes "I heard the news you fought off the ghosts.";
			mes "That's brilliant!";
			next;
			mes "[Pandoi]";
			mes "With an item of your spirit, it would scare away the ghosts, wouldn't it?";
			mes "Please, be generous, I beg you...";
			next;
			mes "-The troubled villagers desire your belongings because you fend off the ghosts. -";
			setquest 7354;
			completequest 7354;
			if ((checkquest(7352) + checkquest(7353) + checkquest(7354) + checkquest(7355) + checkquest(7356) + checkquest(7357)) > 9) {
				next;
				mes "- So many have already asked you for this. Perhaps it will be better to speak with Phong in Mumbaki.-";
				set malaya_hi, 11;
				setquest 7358;
			}
			close;
		}
	} else if (malaya_hi == 11) {
		mes "[Pandoi]";
		mes "Phew... Life is so tough these days.";
		mes "Why did ghosts come along to bother me so.";
		mes "I wish I had a lucky charm or something...";
		next;
		mes "[Pandoi]";
		mes "Please...";
		mes "Couldn't you help a guy out here, just for the sake of it?";
		mes "Do you really think ignoring me is the best option?!";
		close;
	} else if (malaya_hi == 12) {
		if (checkquest(7361) != -1) {
			mes "[Pandoi]";
			mes "Now that I have confidence, the only thing left for me to do is charge to the hospital or field for material!";
			mes "Bu... But, I'm too scared...";
			close;
		}
		if (!countitem(523) || !countitem(717)) {
			mes "^4d4dffPrepare and give Blue Gemstone and Holy Water. ^000000";
			close;
		}
		mes "[Pandoi]";
		mes "Wh, what, you've finally decided to help me?!";
		mes "You're going to give Pandoi a gift of peace?!";
		next;
		select ("Give the prepared items.");
		mes "[Pandoi]";
		mes "Great! I knew you'd come back!";
		mes "Yes... Now that I have some of your spirit, I can rest well at night.";
		next;
		mes "- Gave Pandoi the Holy Water and Blue Gemstone.-";
		delitem 717, 1; //Blue_Gemstone
		delitem 523, 1; //Holy_Water
		setquest 7361;
		completequest 7361;
		if ((checkquest(7359) + checkquest(7360) + checkquest(7361) + checkquest(7362) + checkquest(7363) + checkquest(7364)) > 11) {
			mes "-With Pandoi as last, I think I've given enough Holy Artifacts.-";
			set malaya_hi, 13;
			erasequest 7351;
			setquest 7365;
		}
		close;
	} else if (malaya_hi == 13) {
		mes "[Pandoi]";
		mes "Sil... Silver. I need silver, please.";
		mes "I thought I could get the silver once the ghosts are gone, but I can't...";
		close;
	} else {
		mes "[Pandoi]";
		switch(rand(1, 6)) {
		case 1:
			mes "You know. " + $malayaNames$[1] + ". You are my hero for becoming stronger. I look up to you!";
			break;
		case 2:
			mes "I've seen you, " + $malayaNames$[1] + " beating those Jejelings outside the town. The energy... I... I was so impressed!";
			break;
		case 3:
			mes "You, " + $malayaNames$[0] + ", lit up my soul. It sparkles, you know. No? You don't?";
			break;
		case 4:
			mes "As far as I can see, recently, " + $malayaNames$[1] + " is the most diligent person around. He's like a god of hard work.";
			break;
		case 5:
			mes $malayaNames$[5] + "made a huge discovery. A dragon, they say.";
			break;
		case 6:
			mes "Hello there?!";
			break;
		}
		next;
		switch (select("Give Spiritual Protection.:Silver Blade.:Silver Cross")) {
		case 1:
			if ((checkquest(7374) == -1) || (checkquest(7370) == -1)) {
				mes "[Pandoi]";
				mes "I appreciate you taking care of the expiration dates of my Spiritual Protection.";
				mes "I think mine's good for now. ";
				mes "When it wear's out, I'll ask you for another one!";
				close;
			}
			if (!countitem(6503)) {
				mes "^4d4dffThere is no Spiritual Protection to give to Pandoi.^000000";
				close;
			}
			mes "[Pandoi]";
			mes "Good. A new Spiritual Protection.";
			mes "It's always good to know that you won't see those black things again!";
			next;
			mes "-Delivered Spiritual Protection to Pandoi.-";
			delitem 6503, 1; // Soul_Protection
			erasequest 7370;
			setquest 7384;
			if ((checkquest(7382) + checkquest(7383) + checkquest(7384) + checkquest(7385) + checkquest(7386) + checkquest(7387)) > 5) {
				mes "-With Pandoi as last, all Spiritual Protections have been delivered.-";
				if (malaya_hi == 23) {
					set malaya_hi, 24;
				}
				setquest 7379;
				erasequest 7382;
				erasequest 7383;
				erasequest 7384;
				erasequest 7385;
				erasequest 7386;
				erasequest 7387;
			}
			close;
		case 2:
			if (BaseLevel < 100) {
				mes "[Pandoi]";
				mes "Hmm... To make a Silver Blade, you need silver.";
				mes "I could melt Silver Bracelets to get silver.";
				mes "Silver Bracelets can be acquired at the hospital.";
				next;
				mes "[Pandoi]";
				mes "However, I don't think you can make it right now. I'm sorry, it's just too much for you!";
				mes "If you go in there like that... You'll never make it out alive!";
				close;
			}
			.@hunting = checkquest(7393, HUNTING);
			if (.@hunting == 2) {
				if (countitem(6508) < 10) {
					mes "[Pandoi]";
					mes "Where are the Silver Bracelets?";
					mes "I know you're invincible...";
					mes "But I must have a Silver Bracelet to make a Silver Blade.";
					next;
					mes "[Pandoi]";
					mes "10 Silver Bracelets!";
					mes "Regardless of how many of them you hinder, I need 10 Silver Bracelets!!";
					mes "Now it is in your hands!";
					close;
				}
				mes "[Pandoi]";
				mes "Respect, all the way!";
				mes "You fought them off and brought the Silver Bracelets as well.";
				next;
				mes "[Pandoi]";
				mes "From this day on, I shall try to smelt a new silver weapon..!!";
				mes "I will pound and beat at them until I am left with a fine silver blade in my hands...!!";
				next;
				mes "[Pandoi]";
				mes "It's not much, but here's something for the troubles you went through to get the Silver Bracelets.";
				mes "If I fail... I'll ask of you the task again!";
				delitem 6508, 10; //Silver_Bracelet
				setquest 7394;
				erasequest 7393;
//				if (IsPremiumPcCafe == 10)
					getitem 6497, 2; // Lesser_Agimat
//				else
//					getitem 6497, 1; // Lesser_Agimat
				getexp 200000,200000;
				if (!rand(3))
					$malayaNames$[1] = strcharinfo(0);
				close;
			} else if (.@hunting == 0 || .@hunting == 1) {
				mes "[Pandoi]";
				mes "The village hospital holds the most hideous things inside.";
				mes "I'm not sure what exactly... Whatever's in there, I'm not willing to go near it...";
				next;
				mes "[Pandoi]";
				mes "Please get rid of those rumored monsters and get those Silver Bracelets.";
				mes "You're the only one I can trust!";
				close;
			} else {
				.@playtime = checkquest(7394, PLAYTIME);
				if (.@playtime == 0 || .@playtime == 1) {
					mes "[Pandoi]";
					mes "I still have some silver to smelt.";
					mes "I'll request more if I fail again.";
					close;
				} else if (.@playtime == 2) {
					erasequest 7394;
					mes "[Pandoi]";
					mes "Oh... what am I to do?";
					mes "I've wasted the precious materials you brought back for me...";
					next;
					mes "[Pandoi]";
					mes "Maybe I'm not supposed to be a blacksmith!";
					mes "I'm good with crafting silver, though!";
					next;
					if (select("I'll get you the materials. Cheer up.:Give up. It's a lot easier when you do.") == 2) {
						mes "[Pandoi]";
						mes "... You're right...";
						mes "I'll never be able to make a Silver Blade...";
						mes "Give up... I thought you'd cheer me up.. I'm a little disappointed in you.";
						close;
					}
					mes "[Pandoi]";
					mes "I knew I could count on you!";
					mes "I knew I could count on you!";
					mes "10 Silver Bracelets, please.";
					setquest 7393;
					next;
					mes "[Pandoi]";
					mes "Pandoi will always smile at you~";
					mes "*Grin*";
					close;
				} else {
					mes "[Pandoi]";
					mes "Silver Blade!";
					mes "It's great. Wonderful! The holy blade to carve all evil with one stroke...!";
					next;
					mes "[Pandoi]";
					mes "I want to be a noted blacksmith by making a Silver Blade.";
					mes "However, I cannot get the materials.";
					next;
					mes "[Pandoi]";
					mes "I heard that they wore silver bracelets as recognition at the hospital.";
					mes "But when I got there, it was not the hospital that I used to know.";
					next;
					mes "[Pandoi]";
					mes "Could you slay the horrible creepers and get me the Silver Bracelets?";
					next;
					if (select("Indeed!:No. Way.") == 2) {
						mes "[Pandoi]";
						mes "... You're right...";
						mes "I'll never make a Silver Blade...";
						mes "Such plain expression of disgust. You know what? I hate the idea now.";
						close;
					}
					mes "[Pandoi]";
					mes "I knew it!";
					mes "Teach those things at the hospital some manners...";
					mes "And bring back 10 Silver Bracelets, please.";
					setquest 7393;
					next;
					mes "[Pandoi]";
					mes "Pandoi will always smile at you~";
					mes "*Grin*";
					close;
				}
			}
		case 3:
			mes "[Pandoi]";
			mes "You need Silver Crosses?";
			mes "Pandoi will make them for you!";
			mes "Still, I cannot create something out of the blue, so I'll be needing some silver.";
			next;
			mes "[Pandoi]";
			mes "I could make one Silver Cross for ^4d4dff2 Silver Bracelets^000000 the monsters hold there...";
			mes "If you have Silver Bracelets, I could make Silver Crosses with them.";
			next;
			switch(select("Make 1 Silver Cross:Make 6 Silver Crosses:Input Number:Quit.")) {
			case 1:
				set .@amount,1;
			case 2:
				if (!.@amount) set .@amount,6;
				if (countitem(6508) < (.@amount * 2)) {
					mes "[Pandoi]";
					mes "You need at least " + (.@amount * 2) + " Silver Bracelets to make " + .@amount + " Silver " + ((.@amount == 1) ? "Cross" : "Crosses") + ".";
					close;
				}
				set .@time,5;
				break;
			case 3:
				mes "[Pandoi]";
				mes "How many Silver Crosses do you need?";
				mes "I can make up to 50 at a time.";
				next;
				input .@amount;
				if (.@amount == 0) {
					mes "[Pandoi]";
					mes "Don't need Silver Crosses?";
					mes "Well, I can take a rest then. Ha ha ha ha~";
					close;
				} else if (.@amount > 50) {
					mes "[Pandoi]";
					mes "A maximum of 50 at a time!";
					close;
				}
				if (countitem(6508) < (2 * .@amount)) {
					mes "[Pandoi]";
					mes "To make " + .@amount + " Silver " + ((.@amount == 1) ? "Cross" : "Crosses") + ", I need at least " + (2 * .@amount) + " Silver Bracelets.";
					close;
				}
				set .@time,15;
				break;
			case 4:
				mes "[Pandoi]";
				mes "I'll be here if you need me!";
				close;
			}
			mes "[Pandoi]";
			mes "It'll take just a second.";
			mes "Pandoi can do it in a jiffy!";
			close2;
			progressbar "0xffff00", .@time;
			delitem 6508, .@amount * 2; //Silver_Bracelet
			getitem 6502, .@amount; // Silver_Cross
			mes "[Pandoi]";
			mes "Look at this!";
			mes "Very nice indeed.";
			mes "I should've been a craftsman, not a blacksmith!";
			close;
		}
	}
	end;
}

malaya,326,68,2	script	Pedro the Sailor	100,{
	if (MaxWeight - Weight < 1000 || checkweight(1201,1) == 0) {
		mes "- Cannot proceed with the quest. You are carrying too many items. -";
		close;
	}
	if (malaya_hi < 10) {
		mes "[Pedro the Sailor]";
		mes "Oh... This ship's not in service.";
		mes "Or rather, it can't set sail. *Snigger*";
		mes "I'm seeing ghosts. I think it's my time to die.";
		close;
	} else if (malaya_hi == 10) {
		if (checkquest(7352) == 2) {
			mes "- Pedro the Sailor seems to have given up, but he can't take his gaze off of me.-";
			close;
		}
		mes "[Pedro the Sailor]";
		mes "Oh, you're th... The one who fends off ghosts at the wave of a hand?!";
		mes "Could you stay for a bit and hear me out?!";
		next;
		if (select("Sorry.:Sure.") == 1) {
			mes "[Pedro the Sailor]";
			mes "Oh, a solid denial.";
			mes "You just impaled my last glimpse of hope.";
			mes "Maybe I wasn't persuasive enough...";
			close;
		}
		mes "[Pedro the Sailor]";
		mes "Straight to the point, this town is a den of ghosts!";
		mes "Sigh... I've been a sailor for quite a while and went to a lot of places, but this I never experienced before.";
		next;
		mes "[Pedro the Sailor]";
		mes "You see that ship there?";
		mes "It's a small ferry, but it also stopped service because of these darn ghosts!";
		next;
		mes "[Pedro the Sailor]";
		mes "It looks okay from the outside, but it's full of ghost, I tell ya.";
		mes "But the way I heard it, they're afraid of you, right?";
		next;
		select ("Oh no, you too...:Not my buttons!");
		mes "[Pedro the Sailor]";
		mes "I see many have already asked you for some of your stuff for charms, huh.";
		mes "Can I budge in that line too?";
		next;
		mes "[Pedro the Sailor]";
		mes "I need to have some sincere conversations with that ghost over there.";
		mes "But the spirit is too strong for me to approach.";
		next;
		mes "[Pedro the Sailor]";
		mes "...........That was a lame story.";
		mes "And it's not easy to give away your stuff to someone else.";
		next;
		mes "- Pedro the Sailor seems to have given up, but he can't take his gaze off of me.-";
		setquest 7352;
		completequest 7352;
		if ((checkquest(7352) + checkquest(7353) + checkquest(7354) + checkquest(7355) + checkquest(7356) + checkquest(7357)) > 9) {
			next;
			mes "- So many have already asked you for this. Perhaps it will be better to speak with Phong in Mumbaki. -";
			set malaya_hi, 11;
			setquest 7358;
		}
		close;
	} else if (malaya_hi == 11) {
		mes "[Pedro the Sailor]";
		mes "Sigh...";
		mes "This is so awkward.";
		close;
	} else if (malaya_hi == 12) {
		if (checkquest(7359) != -1) {
			mes "[Pedro the Sailor]";
			mes "Anyway, now that I have what they hate...";
			mes "Now's the time to charge into my ship...!";
			close;
		}
		if (!countitem(523) || !countitem(717)) {
			mes "^4d4dffPrepare and give Blue Gemstone and Holy Water.^000000";
			close;
		}
		mes "[Pedro the Sailor]";
		mes "What? I can sense something refreshing in your hands. What is it?";
		next;
		mes "[Pedro the Sailor]";
		mes "You're giving it to me?";
		mes "Ghosts will hate it?";
		mes "That's wonderful news!";
		next;
		mes "[Pedro the Sailor]";
		mes "Pedro, at your service!";
		mes "After you're finished with the ghosts here, I'll take on my ship to the end of the world!";
		next;
		mes "- Gave Pedro the Sailor the Holy Water and Blue Gemstone. -";
		delitem 717, 1; //Blue_Gemstone
		delitem 523, 1; //Holy_Water
		setquest 7359;
		completequest 7359;
		if ((checkquest(7359) + checkquest(7360) + checkquest(7361) + checkquest(7362) + checkquest(7363) + checkquest(7364)) > 11) {
			mes "-With Pedro the Sailor as last, I think I gave enough Holy Artifacts.-";
			set malaya_hi, 13;
			erasequest 7351;
			setquest 7365;
		}
		close;
	} else if (malaya_hi == 13) {
		mes "[Pedro the Sailor]";
		mes "Anyway, now that I have what they hate...";
		mes "Now's the time to charge into my ship...!";
		next;
		mes "-Pedro the Sailor looks determined.-";
		close;
	} else {
		mes "[Pedro the Sailor]";
		mes "Whoa... Did you see that?";
		mes "Those black souls just came up and disappeared.";
		mes "Well, living the dream, eh?";
		next;
		if (select("Give Spiritual Protection.:About the Ferry Ride") == 1) {
			if ((checkquest(7374) == -1) || (checkquest(7368) == -1)) {
				mes "[Pedro the Sailor]";
				mes "The Spiritual Protection you gave me before works fine.";
				mes "I'm good for now.";
				mes "It's still up for the fight!";
				close;
			}
			if (!countitem(6503)) {
				mes "^4d4dffThere is no Spiritual Protection to give to Pedro the Sailor.^000000";
				close;
			}
			mes "[Pedro the Sailor]";
			mes "A newly made Spiritual Protection.";
			mes "Alright. I'll go at them with this one today.";
			next;
			mes "-Delivered the Spiritual Protection to Pedro the Sailor.-";
			delitem 6503, 1; // Soul_Protection
			erasequest 7368;
			setquest 7382;
			if ((checkquest(7382) + checkquest(7383) + checkquest(7384) + checkquest(7385) + checkquest(7386) + checkquest(7387)) > 5) {
				mes "-With Pedro the Sailor as last, all Spiritual Protections have been delivered.-";
				if (malaya_hi == 23) {
					set malaya_hi, 24;
				}
				setquest 7379;
				erasequest 7382;
				erasequest 7383;
				erasequest 7384;
				erasequest 7385;
				erasequest 7386;
				erasequest 7387;
			}
			close;
		}
		if (BaseLevel < 100) {
			mes "[Pedro the Sailor]";
			mes "Hmm... Don't you remember me talking about ghosts?";
			mes "The Ferry is full of ghosts.";
			mes "Wait, was it one or many?";
			next;
			mes "[Pedro the Sailor]";
			mes "Whatever. For you and your current condition, it's out of the question.";
			mes "Yes. You can't do it. You'll be dragged out in a body bag.";
			next;
			mes "[Pedro the Sailor]";
			mes "Now I'm not going to stand here and wait for that to happen. No way.";
			close;
		}
		if (malaya_diwata == 0) {
			mes "[Pedro the Sailor]";
			mes "I'm sorry, but didn't I say something about ghosts over there?";
			mes "It can't set sail because of that.";
			next;
			mes "[Pedro the Sailor]";
			mes "So what's this whole ghost story about?";
			mes "Hmmm..........";
			mes "It's a long story...";
			next;
			if (select("I'm listening.:Maybe later.") == 2) {
				mes "[Pedro the Sailor]";
				mes "I knew it.";
				mes "Though, it's not such a boring story.";
				mes "After all, it is a ghost story.";
				close;
			}
			mes "[Pedro the Sailor]";
			mes "The story goes back to when I first made port here.";
			mes "It was a nerve racking first time as a liner manager.";
			next;
			mes "[Pedro the Sailor]";
			mes "I was ready to disembark when I saw something I simply could not believe.";
			mes "Black haze was swarming to the port from all over town.";
			next;
			mes "[Pedro the Sailor]";
			mes "At first, I thought it was just a very thick smog.";
			mes "As the days went by, it became clear as to what it was.";
			mes "It was a swarm of souls.";
			next;
			mes "[Pedro the Sailor]";
			mes "A very unpleasant group of souls indeed.";
			mes "Some were wailing some horrible cries around the Ferry about to set sail...";
			next;
			mes "[Pedro the Sailor]";
			mes "After that incident, that ship stayed on that spot until this day.";
			mes "Why? Because they took over the ship! It's haunted!";
			next;
			mes "[Pedro the Sailor]";
			mes "If you don't believe me, see for yourself.";
			mes "Then you'll believe me.";
			set malaya_diwata, 1;
			setquest 7395;
			close;
		} else if (malaya_diwata == 1) {
			mes "[Pedro the Sailor]";
			mes "If you want to know, go and see for yourself and get on it.";
			close;
		} else if (malaya_diwata == 2) {
			mes "[Pedro the Sailor]";
			mes "Soul of a Little Girl?";
			mes "What about all them bullying ones?";
			mes "They came and went?";
			next;
			mes "[Pedro the Sailor]";
			mes "I don't understand.";
			mes "Maybe the Leader Mumbaki will know what to do.";
			close;
		} else if (malaya_diwata == 3) {
			mes "[Pedro the Sailor]";
			mes "Hmm... A floral tribute to soothe the soul....";
			mes "You want to hear its story after it calms down?";
			mes "Well... Good luck.";
			next;
			mes "[Pedro the Sailor]";
			mes "It can't be helped for the Ferry to set sail again.";
			mes "I can't go near it because of those mean ones.";
			next;
			mes "[Pedro the Sailor]";
			mes "Now I'm asking you to do this not because I can't be bothered,";
			mes "but because I simply can't do it myself.";
			close;
		} else if (malaya_diwata == 4) {
			mes "[Pedro the Sailor]";
			mes "Did Mumbaki bless the flower?";
			mes "I hope this works...";
			mes "I wish you all the luck!!";
			next;
			mes "[Pedro the Sailor]";
			mes "I hope you can negotiate with success!";
			mes "I'll take care of those rude ones outside the ship the best I can.";
			close;
		} else if (malaya_diwata == 5) {
			mes "[Pedro the Sailor]";
			mes "I see.";
			mes "Perhaps the Ferry can move again...";
			mes "Thank you for all you've done for us.";
			next;
			mes "[Pedro the Sailor]";
			mes "I'd better get ready to set sail then.";
			mes "It's not much, but this is for you.";
			mes "If we can get back in business, I'll take you to Izlude for just 1000z.";
			set malaya_diwata, 6;
			erasequest 7399;
			setquest 7401;
//			if (IsPremiumPcCafe == 10)
				getitem 6497, 2; // Lesser_Agimat
//			else
//				getitem 6497, 1; // Lesser_Agimat
			getexp 200000,200000;
			if (!rand(3))
				$malayaNames$[0] = strcharinfo(0);
			close;
		} else {
			.@playtime = checkquest(7401, PLAYTIME);
			if (.@playtime == 0 || .@playtime == 1) {
				mes "[Pedro the Sailor]";
				mes "If you want to go to Alberta, use the big ship over there.";
				mes "This little one goes to Izlude.";
				mes "That will be 1000z.";
				next;
				if (select("Use.:That's a rip off!") == 2) {
					mes "[Pedro the Sailor]";
					mes "What?!";
					mes "How much do you pay for the Alberta Liner to get here!?";
					mes "Call this a rip off... You think I'm doing charity?";
					close;
				}
				if (Zeny < 1000) {
					mes "[Pedro the Sailor]";
					mes "The price is 1000 zeny.";
					mes "I can't help you there~";
					close;
				}
				mes "[Pedro the Sailor]";
				mes "Thank you~";
				mes "Let's go before the ghosts come back!";
				set Zeny, Zeny - 1000;
				close2;
				warp "izlude",195,180;
				end;
			} else if (.@playtime == 2) {
				erasequest 7401;
				goto L_SetQuest;
			} else {
				if (checkquest(7403) == -1) {
					if (checkquest(7402) == -1) {
						goto L_SetQuest;
					}
					mes "[Pedro the Sailor]";
					mes "You know what to do.";
					mes "Gather the flowers and take it to Mumbaki to get an Offering Bouquet made.";
					next;
					mes "[Pedro the Sailor]";
					mes "Give the Bouquet to Miss Diwata to cheer her up.";
					mes "....Thank you.";
					close;
				}
				mes "[Pedro the Sailor]";
				mes "Diwata is calm!";
				mes "I can even feel the difference out here.";
				mes "I am always in your debt.";
				next;
				mes "[Pedro the Sailor]";
				mes "You know what? Why don't you do this on a more regular basis?";
				mes "I think you kind of like doing it.";
				setquest 7401;
				erasequest 7403;
//				if (IsPremiumPcCafe == 10)
					getitem 6497, 2; // Lesser_Agimat
//				else
//					getitem 6497, 1; // Lesser_Agimat
				getexp 200000,200000;
				if (!rand(3))
					$malayaNames$[0] = strcharinfo(0);
				close;
			}
		}
	}
	end;

L_SetQuest:
	mes "[Pedro the Sailor]";
	mes "Ah, the thing is...";
	mes "We can't go right now..";
	mes "You see, the ghosts are back...";
	mes "I'm fed up with nuisance.";
	next;
	mes "[Pedro the Sailor]";
	mes "I mean... Miss Diwata... Isn't feeling very well and, even with the Spiritual Protection";
	mes "a normal person can't stand it.";
	next;
	if (select("I see. Take care then.:How about a Floral Tribute?") == 1) {
		mes "[Pedro the Sailor]";
		mes "I'm glad you understand.";
		mes "Sigh...";
		close;
	}
	mes "[Pedro the Sailor]";
	mes "Hmmm. That would be nice.";
	mes "If she can be soothed with flowers...!";
	mes "Good luck.";
	setquest 7402;
	close;
}

ma_in01,125,107,3	script	Ghost Diwata	1761,4,4,{
	end;
OnTouch:
	if (malaya_diwata == 0) {
		cutin "malaya_diwata01", 2;
		mes "- A creepy Little Girl is standing.";
		mes "As our eyes meet, a chill runs down my spine with goose bumps all over. -";
		next;
		mes "[Diwata]";
		mes "Are you here to bully Diwata too?";
		mes "I won't have it!";
		next;
		cutin "", 255;
		mes "-I was thrown out after the Little Girl's low creepy voice and flash from her eyes.-";
		close;
		warp "malaya", 324, 66;
		end;
	} else if (malaya_diwata == 1) {
		cutin "malaya_diwata01", 2;
		mes "- A creepy Little Girl is standing.";
		mes "As our eyes meet, a chill runs down my spine with goose bumps all over. -";
		next;
		mes "[Diwata]";
		mes "Are you here to bully Diwata too?";
		mes "I won't have it!";
		next;
		select ("Wait! I just want to talk!");
		mes "[Diwata]";
		mes "Then who are they behind you?";
		mes "You're one of them!";
		next;
		cutin "malaya_ghost01", 4;
		mes "- Familiar souls are approaching Diwata. -";
		next;
		if (select("It's a misunderstanding!:You're from that..!") == 2) {
			cutin "malaya_ghost02", 4;
			mes "[" + strcharinfo(0) + "]";
			mes "Just as I thought! You're afraid of me?!";
			mes "Stand aside!";
			mes "I need to talk to her.";
			next;
			cutin "malaya_diwata01", 2;
			mes "[Diwata]";
			mes "I don't know why they're backing away...";
			mes "You get out of my sight too!";
			next;
			cutin "", 255;
			mes "-I was thrown out after the Little Girl's annoyed cry and flash from her eyes.-";
			set malaya_diwata, 2;
			setquest 7396;
			erasequest 7395;
			close2;
			warp "malaya", 324, 66;
			end;
		}
		cutin "malaya_diwata01",2;
		mes "[Diwata]";
		mes "Enough!";
		next;
		cutin "", 255;
		mes "-I was thrown out after the Little Girl's resolute cry and flash from her eyes.-";
		set malaya_diwata, 2;
		setquest 7396;
		erasequest 7395;
		close2;
		warp "malaya", 324, 66;
		end;
	} else if ((malaya_diwata == 2) || (malaya_diwata == 3)) {
		cutin "malaya_diwata01", 2;
		mes "[Diwata]";
		mes "You crawled back in?";
		mes "Get out-!!!!!";
		next;
		cutin "", 255;
		mes "-I was thrown out after the Little Girl's screeching cry and flash from her eyes.-";
		close;
		warp "malaya", 324, 66;
		end;
	} else if (malaya_diwata == 4) {
		if (!countitem(6506)) {
			cutin "malaya_diwata01", 2;
			mes "- The soul of Little Girl Diwata is looking at me fiercely.";
			mes "No Offering Bouquet...!!!";
			next;
			cutin "", 255;
			mes "-I was thrown out with a remote look from her.-";
			close;
			warp "malaya", 324, 66;
			end;
		}
		mes "- The soul of Little Girl Diwata is looking at me fiercely. -";
		mes "- The Offering Bouquet... -";
		cutin "malaya_diwata01", 2;
		next;
		if (select("Throw it to the Little Girl.:Slide it across on the floor.") == 1) {
			mes "- I threw the bouquet before she could toss me out, and she catches in surprise...";
			mes "She won't toss me... far, now that she has the flower.-";
		} else {
			mes "- I slid the flower across the floor to her. She looks puzzled. -";
		}
		next;
		mes "[Diwata]";
		mes "What is the meaning of this?";
		mes "You're not an enemy?";
		next;
		mes "[Diwata]";
		mes "What? You're an outsider too?";
		mes "Ha, so live ones are allowed and I'm not?";
		next;
		mes "[Diwata]";
		mes "Now there's the stereotype of countryside people over outsiders.";
		mes "I am so annoyed. I feel like wiping them off the map.";
		next;
		mes "[Diwata]";
		mes "What? I shouldn't?";
		mes "Why should I not?";
		mes "I'm stalling the ship?";
		next;
		mes "[Diwata]";
		mes "I was going to hear you out because of the flowers";
		mes "but you're telling me lies?!";
		next;
		mes "[Diwata]";
		mes "So you're saying that I brought these hillbillies on this ship";
		mes "and that fighting with them is causing the stall?";
		next;
		mes "[Diwata]";
		mes "... Hmm... Humph. It wasn't what I was intending to do.";
		mes "But they're the ones who're getting on my nerves!";
		next;
		mes "[Diwata]";
		mes "... I can't get off anyway.";
		mes "Which means that I could feel bad again. Got it?";
		next;
		mes "[Diwata]";
		mes "... I'll try to keep it in today.";
		mes "It's not because I like the flowers or because I like having company!";
		mes "It's because I was treated the same way as those cheap ghosts!";
		next;
		mes "[Diwata]";
		mes "Now if you'll excuse me.";
		mes "And I'll be clear. I'm not going to hold my temper for so long.";
		next;
		mes "[Diwata]";
		mes "Now, g... go away!";
		set malaya_diwata, 5;
		delitem 6506, 1; // Memorial_Boquet
		erasequest 7398;
		setquest 7399;
		close;
	} else if (malaya_diwata == 5) {
		cutin "malaya_diwata02", 2;
		mes "[Diwata]";
		mes "I promise I'll be a good little girl if those hillbillies leave me alone.";
		mes "If they bother me again, however, I won't be.";
		close;
	} else {
		if (checkquest(7402) == -1) {
			if (checkquest(7403) == -1) {
				if ((checkquest(7401, PLAYTIME) == 0) || (checkquest(7401, PLAYTIME) == 1)) {
					cutin "malaya_diwata02", 2;
					mes "[Diwata]";
					mes "Surprisingly enough, I'm doing fine.";
					mes "Of course I'm tense for when they return,";
					mes "but, as always, I'll win.";
					next;
					mes "[Diwata]";
					mes "Then the poor crew will cry again";
					mes "I just can't calm myself down after a fight.";
					next;
					mes "[Diwata]";
					mes "The flowers you bring makes me calm down.";
					mes "....";
					mes ".. It's not because I miss people or I like the flowers. Don't take it the wrong way.";
					close;
				}
				cutin "malaya_diwata01", 2;
				mes "[Diwata]";
				mes "Get lost!";
				mes "What? Oh, it's you.";
				mes "Those hillbillies came back again!";
				mes "I'm going to kill them!";
				close;
			}
			cutin "malaya_diwata02", 2;
			mes "[Diwata]";
			mes "It's good to look at flowers from abroad~";
			mes "Do all flowers from the warm parts of the world smell so nice?";
			next;
			mes "[Diwata]";
			mes "The flowers you bring makes me calm down.";
			mes "....";
			mes ".. It's not because I miss people or I like the flowers. Don't take it the wrong way.";
			close;
		}
		cutin "malaya_diwata01", 2;
		mes "[Diwata]";
		mes "Darn it! Have you come for more?!";
		mes "What?";
		mes "Oh. It's you?";
		mes "I'm really depressed right now.";
		next;
		mes "- Diwata reached her hands out as if expecting something. -";
		next;
		if (select("Give the Bouquet.:Hold her hand.") == 2) {
			mes "[Diwata]";
			mes "What do you think you're doing?!!??!?!!";
			mes "Arghhhh - I have enough creeps around here, thank you!!";
			next;
			cutin "", 255;
			mes "-I was tossed out with Diwata's thunderous cry.-";
			close;
			warp "malaya", 324, 66;
			end;
		}
		if (!countitem(6506)) {
			mes "[Diwata]";
			mes "What? You want me to wave?";
			mes "You didn't bring it?";
			mes "You didn't?!?";
			mes "Arghhh you just can't trust anybody! Anybody!";
			next;
			cutin "", 255;
			mes "-I was tossed out with Diwata's thunderous cry.-";
			close;
			warp "malaya", 324, 66;
			end;
		}
		cutin "malaya_diwata02", 2;
		mes "[Diwata]";
		mes "... Oh... Just as I thought!";
		mes "My only happiness, my only peace of mind..!";
		mes "Flowers from abroad~!";
		next;
		mes "-Diwata seems to feel better. The atmosphere shifts to a more refreshing ambience.-";
		next;
		mes "[Diwata]";
		mes "Tell Pedro the Sailor!";
		mes "Diwata will be a goddess of sea, so set sail in my generosity.";
		delitem 6506, 1; // Memorial_Boquet
		setquest 7403;
		erasequest 7402;
		close;
	}
	cutin "", 255;
	end;
}

ma_fild01,261,208,2	script	Kiko in Mumbaki	580,{
	if (MaxWeight - Weight < 1000 || checkweight(1201,1) == 0) {
		mes "- Cannot proceed with the quest. You are carrying too many items. -";
		close;
	}
	mes "[Kiko in Mumbaki]";
	mes "Welcome to Baryo, stranger.";
	mes "I am the soul guidance, protector of people and souls here at Baryo.";
	mes "So, I'm a good leader Kiko in Mumbaki.";
	next;
	switch (select("Give Cast-Iron Caldron.:Request Purification Ritual.:Exchange Jellopy for gold.")) {
		case 1:
			if (checkquest(7376) == -1) {
				if (checkquest(7377) == -1) {
					mes "[Kiko in Mumbaki]";
					mes "What cauldron?";
					mes "As far as I know, you're not the one bringing it.";
					next;
					mes "[Kiko in Mumbaki]";
					mes "Poor thing.";
					mes "do not live a life of lies.";
					close;
				}
				mes "[Kiko in Mumbaki]";
				mes "Baryo is not a great place for smithy work.";
				mes "So we always ask a favor to the forge of Malaya.";
				next;
				mes "[Kiko in Mumbaki]";
				mes "Bakonawa does not like loud noises.";
				mes "That's why we beat the sturdy Cast Iron Cauldrons.";
				next;
				mes "[Kiko in Mumbaki]";
				mes "The Spiritual Protection is proof that I've got my cauldron,";
				mes "so deliver it well. Okay? Good.";
				close;
			}
			if (countitem(6504) < 5) {
				mes "[Kiko in Mumbaki]";
				mes "Oh, must be the cauldron I ordered.";
				mes "But, where is it?";
				mes "Are you mocking me?!";
				close;
			}
			mes "[Kiko in Mumbaki]";
			mes "Yes, excellent!";
			mes "Very Good.";
			mes "We can aggravate the Bakonawa more with this.";
			next;
			mes "[Kiko in Mumbaki]";
			mes "I'll give you this for the cauldron.";
			mes "I hear you're having some trouble with souls?";
			mes "Take this. It will help you.";
			delitem 6504, 5; // Cast_Iron_Caldron
			getitem 6503, 5; // Soul_Protection
			setquest 7377;
			erasequest 7376;
			close;
		case 2:
			if (checkquest(7406) == -1) {
				if (checkquest(7407) == -1) {
					mes "[Kiko in Mumbaki]";
					mes "The only purification needed in this village is Vantai's food.";
					mes "There are no rituals where an outsider, like yourself, can take part in.";
					close;
				}
				mes "[Kiko in Mumbaki]";
				mes "Vantai must be hungry.";
				mes "Go give it to him.";
				mes "Quickly now.";
				close;
			}
			if ((countitem(523) < 10) || (countitem(6507) < 10)) {
				mes "[Kiko in Mumbaki]";
				mes "Purification of the bones the Guard Dog Vantai needs to gnaw on?";
				mes "My work here just gets better and better.";
				next;
				mes "[Kiko in Mumbaki]";
				mes "Go into the forest and fetch me ^4d4dff10 Evil Spirit Bones^000000 and ^4d4dff10 Holy Waters^000000 for the purification ritual.";
				mes "I'll do the ritual myself.";
				close;
			}
			mes "[Kiko in Mumbaki]";
			mes "Bones from the animals of this forest all have bad spirits within.";
			mes "Of course it cannot be helped due to the malignant spirits flailing about...";
			next;
			mes "[Kiko in Mumbaki]";
			mes "You do this and do this here and there and...";
			mes "There. The evil spirit has left and the bone is so pure that you can just chew on it.";
			next;
			mes "[Kiko in Mumbaki]";
			mes "Now, take this back to Dong the Guard.";
			mes "Vantai will become stronger after eating this purified Evil Spirit Bone.";
			next;
			mes "[Kiko in Mumbaki]";
			mes "Moreover, holding on to Evil Spirit Bones will only do you harm,";
			mes "so I'll take them all to purify.";
			delitem 6507, countitem(6507); // Evil_Bone
			delitem 523, 10; //Holy_Water
			getitem 6505, 10; //Purified_Bone
			setquest 7407;
			erasequest 7406;
			close;
		case 3:
			mes "[Kiko in Mumbaki]";
			mes "Oh no you don't!";
			mes "Don't you dare!";
			close;
	}
	end;
}

ma_fild01,239,253,3	script	Dhong the Guard	570,{
	if (MaxWeight - Weight < 1000 || checkweight(1201,1) == 0) {
		mes "- Cannot proceed with the quest. You are carrying too many items. -";
		close;
	}
	mes "[Dhong the Guard]";
	mes "Hi there!";
	mes "Welcome to Baryo.";
	next;
	if (select("You're job seems so hard~:Guard Dog Vantai") == 1) {
		mes "[Dhong the Guard]";
		mes "Not at all. I just watch who comes and goes from here.";
		mes "Travelers are the ones who go through more hardship.";
		close;
	}
	if (BaseLevel < 100) {
		mes "[Dhong the Guard]";
		mes "Vantai is a nice dog.";
		mes "He's probably stronger than you.";
		next;
		mes "[Dhong the Guard]";
		mes "No offense, but";
		mes "you look weaker than the original owners of the bones Vantai chews on.";
		next;
		mes "[Dhong the Guard]";
		mes "That means just about as strong as me!";
		mes "Ha ha ha ha ha ha ha!";
		close;
	}
	.@playtime = checkquest(7408, PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[Dhong the Guard]";
		mes "The bones you brought Vantai gave him a feast.";
		mes "He'll be full and merry for a while now.";
		mes "Nobody can beat Vantai in recon around here.";
		next;
		mes "[Dhong the Guard]";
		mes "Though it is not nice to say a person is lesser than a dog,";
		mes "but there are some who are lesser.";
		close;
	} else if (.@playtime == 2) {
		erasequest 7408;
		mes "[Dhong the Guard]";
		mes "Vantai?";
		mes "Always the same.";
		mes "Now that you mention it, it's almost time for him to get hungry.";
		next;
		mes "[Dhong the Guard]";
		mes "Of course, he eats normal dog food, but he can't go without those.";
		mes "You know what I mean, right?";
		mes "Smirk...";
		next;
		mes "[Dhong the Guard]";
		mes "Me and Vantai are always waiting";
		mes "for the hero to get us some Evil Spirit Bones from the forest.";
		close;
	} else {
		if (checkquest(7406) != -1) {
			mes "[Dhong the Guard]";
			mes "What I'm saying is that, to be a good guard dog, he must be able to stand ground against evil spirits.";
			mes "For that he needs to eat Evil Spirit Bones, but it must be purified before he can eat them.";
			next;
			mes "[Dhong the Guard]";
			mes "You can get Evil Spirit Bones from monsters or animals in the forest.";
			mes "Kiko in Mumbaki will purify them for you.";
			close;
		} else {
			if (checkquest(7407) == 1) {
				if (countitem(6505) < 10) {
					mes "[Dhong the Guard]";
					mes "Kiko in Mumbaki asked for 10 Purified Spirit Bones.";
					mes "He needs to have at least 10 at a time. Which of course does not last a day...";
					close;
				}
				mes "[Dhong the Guard]";
				mes "Hey, Vantai will love these!";
				mes "It's all in good condition...";
				mes "An evil bone purified through holy ritual...";
				next;
				mes "[Dhong the Guard]";
				mes "This is the perfect dog food!!";
				mes "Now he can sense and detect evil spirits,";
				mes "and since he ate purified ones, he'll get the ability to eradicate them.";
				next;
				mes "[Dhong the Guard]";
				mes "I bet he's the strongest living thing in the village now.";
				mes "Of course not me. I mean Vantai.";
				next;
				mes "[Dhong the Guard]";
				mes "This is your reward.";
				mes "It would be very nice if you could help us again tomorrow.";
				delitem 6505, 10; // Purified_Bone
				setquest 7408;
				erasequest 7407;
//				if (IsPremiumPcCafe == 10)
					getitem 6497, 2; // Lesser_Agimat
//				else
//					getitem 6497, 1; // Lesser_Agimat
				getexp 200000,200000;
				if (!rand(0, 2))
					$malayaNames$[2] = strcharinfo(0);
				close;
			} else {
				mes "[Dhong the Guard]";
				mes "Vantai is not only a guard dog, but he's also a great detector and recon scout.";
				mes "But for him to do so, he needs to eat Purified Spirit Bones.";
				next;
				mes "[Dhong the Guard]";
				mes "As you can see, I can't move from here,";
				mes "so I was wondering if you can get the bones for Vantai...";
				next;
				if (select("Alright.:Sorry.") == 2) {
					mes "[Dhong the Guard]";
					mes "I see.";
					mes "Vantai!";
					mes "No treat for you today..!!";
					next;
					mes "- It seems like Vantai's eyes are more moist today. -";
					close;
				}
				mes "[Dhong the Guard]";
				mes "Bones can be acquired from animals or monsters around here.";
				mes "Take them to Kiko in Mumbaki for purification, which, in turn, can be given to Vantai to eat.";
				next;
				mes "[Dhong the Guard]";
				mes "Bring us 10 Purified Spirit Bones.";
				mes "That reminds me. You'll need Holy Water for the purification ritual.";
				next;
				mes "[Dhong the Guard]";
				mes "Take your time.";
				mes "Look here. Vantai likes it too.";
				setquest 7406;
				close;
			}
		}
	}
	end;
}

ma_fild01,238,257,2	script	Guard Dog Vantai	972,{
	mes "[Vantai]";
	mes "Grrrrrrr...";
	mes " ";
	mes "(He is intimidated by you.)";
	close;
}

ma_fild01,200,190,3	script	Maries#malaya	579,{
	if (MaxWeight - Weight < 1000 || checkweight(1201,1) == 0) {
		mes "- Cannot proceed with the quest. You are carrying too many items. -";
		close;
	}
	if (BaseLevel < 100) {
		mes "[Maries]";
		mes "Umm... Hey...";
		mes "Oh, no, sorry. You don't look so strong or bold.";
		mes "I'm sorry. I'm just not quite myself...";
		close;
	}
	if (malaya_hi < 20) {
		mes "An anxious looking woman is stands.";
		close;
	}
	.@playtime = checkquest(7390, PLAYTIME);
	if (.@playtime == 0 || .@playtime == 1) {
		mes "[Maries]";
		mes "Now that the children know that they can get back home with an Inside-out Shirt,";
		mes "they play out in the forest recklessly and timelessly.";
		next;
		mes "[Maries]";
		mes "The children will surely get lost again in these conditions.";
		mes "If it happens again, I'll seek your help again.";
		close;
	} else if (.@playtime == 2) {
		mes "[Maries]";
		mes "I'm missing a child... again.";
		mes "Oh my goodness...";
		erasequest 7390;
		close;
	} else {
		if (checkquest(7389) != -1) {
			mes "[Maries]";
			mes "You came back.";
			mes "Thanks to you, the child has returned home safely.";
			next;
			mes "[Maries]";
			mes "Although the shirt is inside-out, it miraculously brings them back to where they should be.";
			mes "Thank you for delivering those precious shirts to my children.";
			setquest 7390;
			erasequest 7389;
//			if (IsPremiumPcCafe == 10)
				getitem 6497, 2; // Lesser_Agimat
//			else
//				getitem 6497, 1; // Lesser_Agimat
			getexp 200000,200000;
			if (!rand(3))
				$malayaNames$[2] = strcharinfo(0);
			close;
		} else {
			if (checkquest(7388) != -1) {
				mes "[Maries]";
				mes "I'm sure they're lost in the woods because of mischievous spirits.";
				mes "Please give the child the ^4d4dffInside-out Shirt^000000 when found.";
				next;
				mes "[Maries]";
				mes "The Inside-out Shirts...";
				mes "You can probably get them from the demons, since they ran away with them.";
				close;
			} else {
				mes "[Maries]";
				mes "Hello... I'm looking for my child...";
				mes "My daughter did not return.";
				mes "Please help, I think she's lost in the forest.";
				next;
				switch (select("Of course.:I'm too busy right now.:You have so many children.")) {
				case 1:
					mes "[Maries]";
					mes "I'm sure she's lost in the woods because of mischievous spirits.";
					next;
					mes "[Maries]";
					mes "If she's cursed, it will be difficult to get her out of there.";
					mes "She'll drift around in the maze so mesmerizing, even for you, in fact.";
					next;
					mes "[Maries]";
					mes "Acquire an ^4d4dffInside-out Shirt^000000 and give it to my daughter.";
					mes "Although the shirt is inside-out, it miraculously brings them back to where they should be.";
					next;
					mes "[Maries]";
					mes "The Inside-out Shirts...";
					mes "You can probably get them from the demons, since they ran away with them.";
					setquest 7388;
					close;
				case 2:
					mes "[Maries]";
					mes "... Yes... I see.";
					mes "I'll have to ask someone else.";
					mes "Alright.";
					mes "Sigh...";
					close;
				case 3:
					mes "[Maries]";
					mes "...I ended up having triplets.";
					mes "Even I sometimes get confused. *Chuckle*";
					next;
					mes "[Maries]";
					mes "They seem to be under a curse because one of them always get's lost in the woods..";
					mes "Sigh...";
					close;
				}
			}
		}
	}
	end;
}

ma_fild01,203,189,3	script	Little Girl#malaya	576,{
	mes "[Little Girl]";
	mes "He he, the forest is scary, but it's so much fun so I go there often to play~";
	mes "Strange, how we always get lost.";
	next;
	mes "[Little Girl]";
	mes "But it's okay because I'm not the only one getting lost~";
	mes "We're triplets~ And we're missing the other two~ Giggle~";
	close;
}

ma_fild01,251,93,3	script	Lost Child#malaya01	576,{
	if (checkquest(7388) > -1) {
		if (!countitem(12700)) {
			mes "[Little Kid]";
			mes "Sigh. Are you lost too?";
			mes "They are so naughty.";
			next;
			mes "[Little Kid]";
			mes "An Inside-out Shirt is just what I need.";
			mes "*Chuckle*...";
			close;
		}
		mes "[Little Kid]";
		mes "Oh, darn them.";
		mes "They must have tricked me into getting lost again!";
		next;
		select ("Do you want to go home?");
		mes "[Little Kid]";
		mes "If I don't get back soon, my mom will be worried sick.";
		mes "Sigh... I wish I had an Inside-out Shirt to go back.";
		next;
		select ("Here you are.");
		mes "[Little Kid]";
		mes "Really?";
		mes "It really is the shirt!";
		mes "This will take me straight home!";
		next;
		mes "[Little Kid]";
		mes "Did mom send you?";
		mes "She must be worried..!";
		mes "I'll go home now!";
		mes "Thanks' a lot!";
		delitem 12700, 1; // Insideout_Shirt
		setquest 7389;
		erasequest 7388;
		close2;
		disablenpc strnpcinfo(0);
		if (strnpcinfo(0) == "Lost Child#malaya01") {
			enablenpc "Lost Child#malaya02";
		} else if (strnpcinfo(0) == "Lost Child#malaya01") {
			enablenpc "Lost Child#malaya03";
		} else {
			enablenpc "Lost Child#malaya01";
		}
		end;
	} else {
		if (checkquest(7389) != -1) {
			mes "[Little Kid]";
			mes "I want to play some more.";
			mes "I can always go back with this shirt.";
			mes "Mom won't be concerned.";
			close;
		} else {
			mes "[Little Kid]";
			mes "Hmmm. Am I lost again?";
			mes "Where am I...";
			mes "I'm sure I have to head in the direction of sunrise from the third tree to get home... Huh?";
			next;
			mes "[Little Kid]";
			mes "Why~ Do I always go in circles here?";
			mes "Do you why, " + ((Sex) ? "mister" : "ma'am") + "?";
			mes "What's with this road?";
			mes "Is somebody trying to trick me?";
			close;
		}
	}
	end;
	
OnInit:
	if (strnpcinfo(0) != "Lost Child#malaya01")
		disablenpc strnpcinfo(0);
}
ma_fild01,114,141,3	duplicate(Lost Child#malaya01)	Lost Child#malaya02	576
ma_fild01,130,314,3	duplicate(Lost Child#malaya01)	Lost Child#malaya03	576

ma_fild02,241,39,5	script	Good Capre Budidai	572,{
	mes "[Budidai]";
	mes "Hey hey hey~";
	mes "I am such a nice Capre~ Hey!";
	mes "I am going to a fine cafe~YO!";
	mes "I am better than yesterday~Hey!";
	mes "I'm a fine rhyming Capre~Oh?";
	next;
	mes "[Budidai]";
	mes "Hey buddy, You here to hear Budidai singing?";
	next;
	switch (select("You like songs?:A profound study of one eyed monsters.:See ya!")) {
	case 1:
		mes "[Budidai]";
		mes "Yup, Budidai loves singing.";
		mes "Cows, horses, goats, roosters, boars all love my songs.";
		mes "They're all friends.";
		next;
		mes "[Budidai]";
		mes "Except for that one eyed Bongisungisu.";
		mes "He picks on my friends.";
		mes "I am annoyed, but Budidai is weak.";
		next;
		mes "[Budidai]";
		mes "I fear it's single gaze, but I fear more the club he flails.";
		mes "I have to sing my friends some songs, but they don't come because of him.";
		next;
		mes "[Budidai]";
		mes "So Budidai, sings here.";
		mes "Lots of travelers pass by.";
		mes "Capre is a wanderer's buddy.";
		mes "You're a buddy too.";
		close;
	case 2:
		if (BaseLevel < 100) {
			mes "[Budidai]";
			mes "You interested in that fiend, my friend?";
			mes "It's just a bully of the forest!";
			mes "It picks on my animal friends!";
			next;
			mes "[Budidai]";
			mes "Sadly, singing is all that Budidai is skilled at.";
			mes "I can't do anything about the scary gaze and the flailing club.";
			next;
			mes "[Budidai]";
			mes "Bongisungisu! I get the chills just by being in the same forest with it...";
			mes "But Budidai is weak.";
			next;
			mes "[Budidai]";
			mes "You and me, wanderer.";
			mes "We'll never make it.";
			close;
		}
		.@playtime = checkquest(7410, PLAYTIME);
		if (.@playtime == 0 || .@playtime == 1) {
			mes "[Budidai]";
			mes "Traveler, my friend!";
			mes "Bongisungisu ran far far away.";
			mes "Dogs, cows, horse, goat and rooster will come back to me, won't they?";
			next;
			mes "[Budidai]";
			mes "But Budidai is worried.";
			mes "The one eyed bully will return eventually.";
			mes "Will you help me out again?";
			next;
			mes "[Budidai]";
			mes "You, friend of Budidai";
			mes "You won't turn you're back on a good Capre?";
			close;
		} else {
			if (checkquest(7409) != -1) {
				if (checkquest(7409, HUNTING) == 2) {
					mes "[Budidai]";
					mes "Astonishing, wanderer!";
					mes "I could hear the pitiful wails of Bongisungisu all the way from here!";
					mes "Budidai can sing again for his friends, yes?";
					next;
					mes "[Budidai]";
					mes "Now, what can Budidai do for the kind wanderer, slayer of the one eyed monster?";
					mes "Aha! Here's a talisman.";
					mes "It will be good for you travelers.";
					next;
					mes "[Budidai]";
					mes "Kind Capre is a friend of travelers.";
					mes "I hope to see you again, wanderer.";
					mes "This is a blessing for friends. Hey hey hey~";
					setquest 7410;
					erasequest 7409;
//					if (IsPremiumPcCafe == 10)
						getitem 6497, 2; // Lesser_Agimat
//					else
//						getitem 6497, 1; // Lesser_Agimat
					getexp 200000,200000;
					if (!rand(3))
						$malayaNames$[1] = strcharinfo(0);
					close;
				} else {
					mes "[Budidai]";
					mes "Please slay the destructive libertine Bongisungisu.";
					mes "For me, a Capre to sing again for one's friends.";
					close;
				}
			} else {
				if (.@playtime == 2) {
					mes "[Budidai]";
					mes "Hey, kind wanderer.";
					mes "Bongisungisu, the one eyed debauchee is back!";
					mes "What do I do? What should I do?";
					next;
					mes "[Budidai]";
					mes "He gets angry when I sing.";
					mes "But the horse, cow, goat, dog and boars love it.";
					mes "It gives Budidai such a hard time.";
					erasequest 7410;
					close;
				} else {
					mes "[Budidai]";
					mes "You interested in that fiend, my friend?";
					mes "It's just a bully of the forest!";
					mes "It picks on my animal friends!";
					next;
					mes "[Budidai]";
					mes "Sadly, singing is all that Budidai is skilled at.";
					mes "I can't do anything about the scary gaze and the flailing club.";
					next;
					mes "[Budidai]";
					mes "Bongisungisu! I get the chills just by being in the same forest with it...";
					mes "But Budidai is weak.";
					next;
					if (select("Shall I take care of it?:That does give the chills.") == 2) {
						mes "[Budidai]";
						mes "Don't remind me.";
						mes "My friends can't come and listen to my songs because of that behemoth.";
						mes "It is so frustrating.";
						close;
					}
					mes "[Budidai]";
					mes "You'd teach Bongisungisu a lesson?!";
					mes "Kind wanderer!!";
					mes "Kick some libertine butt!!";
					setquest 7409;
					close;
				}
			}
		}
		break;
	case 3:
		mes "[Budidai]";
		mes "Leave me wanderer~";
		mes "Capre Budidai will sing of wonders~";
		mes "You best everyone else~";
		mes "You bring all them beasts~";
		mes "Just go back to Kafra~";
		next;
		mes "[Budidai]";
		mes "Hey hey hey~";
		mes "Blessing of the Kind and Good Capre~";
		mes "A wanderer's friend the gift of Capre~";
		mes "Hey hey hey~";
		close;
	}
	end;
}

// Traders :: malaya_npc
//============================================================
ma_fild01,166,214,6	script	Old Man in Dilemma#GA	575,{
	if (MaxWeight - Weight < 600 || checkweight(1201,1) == 0) {
		mes "Cannot proceed because you have too many items in your possession.";
		close;
	}
	mes "[Old Man in Dilemma]";
	mes "Oh! Demons are gaining more and more power in this world.";
	next;
	switch(select("We need to gather items to fight them off.:Ignore.")) {
	case 1:
		if (countitem(6497) >= 3 && Zeny >= 1000) {
			mes "[Old Man in Dilemma]";
			mes "You don't seem to be strong enough to fight off demons.";
			next;
			mes "[Old Man in Dilemma]";
			mes "Will you create a Greater Agimat of Ancient Spirit with 3 Lesser Agimats and 1,000 Zeny?";
			next;
			if (select("Create.:No, thank you.") == 1) {
				if (countitem(6497) >= 3 && Zeny >= 1000) {
					specialeffect2 EF_CONE;
					specialeffect EF_FORESTLIGHT2;
					set Zeny, Zeny-1000;
					getitem 12775,1; //Ancient_Spirit_Agimat
				} else {
					mes "[Old Man in Dilemma]";
					mes "Short on materials.";
					close;
				}
			}
			mes "[Old Man in Dilemma]";
			mes "Hope you win the fight with the demon.";
			close;
		}
		mes "[Old Man in Dilemma]";
		mes "Can't make it now but there is an old way of making it handed down by generations.";
		next;
		mes "[Old Man in Dilemma]";
		mes "You need to call upon the power of Ancient Spirits. But you'll need several important materials first.";
		next;
		select("What are they?");
		mes "[Old Man in Dilemma]";
		mes "3 Lesser Agimats to hold the power of Ancient Spirits here and another special material handed down for generations.";
		next;
		mes "[Old Man in Dilemma]";
		mes "But nobody can get this special item anymore.";
		next;
		select("Something money cannot buy?");
		mes "[Old Man in Dilemma]";
		mes "No, no... It's this round little thing, you see?";
		next;
		select("Are you talking about Zeny?");
		mes "[Old Man in Dilemma]";
		mes "Looks similar to the special items handed down from generations.";
		next;
		mes "[Old Man in Dilemma]";
		mes "As long as we have enough of that, we could make the Greater Agimat of Ancient Spirit to fight against the demons.";
		next;
		select("Sounds good.");
		mes "[Old Man in Dilemma]";
		mes "In case you are too weary to take on the demons...";
		next;
		mes "[Old Man in Dilemma]";
		mes "Come by with 3 Lesser Agimats and 1,000 of those so-called Zeny.";
		next;
		mes "[Old Man in Dilemma]";
		mes "I will make a Greater Agimat of Ancient Spirit that will increase your attacks against demons by 10% for 20 min.";
		close;
	case 2:
		mes "[Old Man in Dilemma]";
		mes "Hope you win the fight with the demon.";
		close;
	}
}

ma_fild01,238,198,4	script	Tikbalang Expert#malaya	582,{
	if (MaxWeight - Weight < 50 || checkweight(1201,1) == 0) {
		mes "Cannot proceed because you have too many items in your possession.";
		close;
	}
	mes "[Tikbalang Expert]";
	mes "I spent 90% of my life studying Tikbalang.";
	next;
	switch(select("But you look young?:What is Tikbalang?:Teach me how to catch a Tikbalang.")) {
	case 1:
		mes "[Tikbalang Expert]";
		mes "What! I might be imagining things.";
		next;
		mes "[Tikbalang Expert]";
		mes "I look younger than I am because of my baby face. Ha ha ha~";
		next;
		select("... ... ...");
		mes "[Tikbalang Expert]";
		mes "Trust!! They say faith will bring you luck.";
		close;
	case 2:
		mes "[Tikbalang Expert]";
		mes "Ha ha... You ask the right question.";
		mes "I'm a specialist in that field. Ask me anything.";
		next;
		select("Why won't you answer me?");
		mes "[Tikbalang Expert]";
		mes "Have you... ever been fooled by anyone around you? Why can't you believe someone's word for it? Really, ask me anything.";
		next;
		while(1) {
			switch(select("I don't have any questions.:Characteristics?:Features?:Rumors?:Habitat?")) {
			case 1:
				mes "[Tikbalang Expert]";
				mes "I think this is enough explanation for now. You wouldn't understand other highly sophisticated topics with specific terminology and all anyway.";
				next;
				mes "[Tikbalang Expert]";
				mes "Oh! Do you have any other questions?";
				next;
				mes "[Tikbalang Expert]";
				mes "What do you think? Impressed at how much I know? Come by anytime when you have any more questions.";
				close;
			case 2:
				mes "[Tikbalang Expert]";
				mes "Tikbalangs have a way to confuse travelers when they meet them by making them turn in circles regardless of wherever and how far they travel.";
				next;
				mes "[Tikbalang Expert]";
				mes "They are mischievous creatures.";
				next;
				mes "[Tikbalang Expert]";
				mes "But of course there is a way to stop their pranks. You know about the Inside-out Shirt? You can either wear your top inside-out.";
				next;
				mes "[Tikbalang Expert]";
				mes "Or go on your way quietly without disrupting the Tikbalangs.";
				next;
				mes "[Tikbalang Expert]";
				mes "Ha ha ha ha~ But everyone knows adventurers are never quiet while they travel, right?";
				next;
				mes "[Tikbalang Expert]";
				mes "Never...";
				break;
			case 3:
				mes "[Tikbalang Expert]";
				mes "They say Tikbalangs have several distinctions.";
				next;
				mes "[Tikbalang Expert]";
				mes "First, they are very tall ^AAAAAA(tsk... wish I were tall)^000000 and have skinny, imbalanced legs and arms. Looks almost like a human but their knees are higher than their upper body when they sit down.";
				next;
				mes "[Tikbalang Expert]";
				mes "Second, is the standard characteristics acknowledged by the association. They have heads and feet like a horse.";
				next;
				mes "[Tikbalang Expert]";
				mes "So with all these appearance traits, Tikbalang is sometimes called the creature from hell.";
				break;
			case 4:
				mes "[Tikbalang Expert]";
				mes "There are several fun rumors about Tikbalangs.";
				next;
				mes "[Tikbalang Expert]";
				mes "One of them is about Tikbalangs being the guardians of some kingdom that worships nature.";
				next;
				mes "[Tikbalang Expert]";
				mes "So the Tikbalangs will trick travelers who come with bad intentions to the kingdom by making them travel in circles.";
				next;
				mes "[Tikbalang Expert]";
				mes "Another rumor is that people around here say that 'if it rains on a clear day, then it must be Tikbalang's wedding day'.";
				next;
				mes "[Tikbalang Expert]";
				mes "The association speculates that sayings like 'it rains on Bathory's wedding day' or 'it rains on Moonlight Flower's wedding day' might have derived from the Tikbalang's saying.";
				next;
				mes "[Tikbalang Expert]";
				mes "Lastly, ancient fairy tales say that Tikbalangs can transform into human form or even make themselves transparen't but nobody has verified this yet.";
				break;
			case 5:
				mes "[Tikbalang Expert]";
				mes "Tikbalangs usually live in dark, busy places where there aren't many people around.";
				next;
				mes "[Tikbalang Expert]";
				mes "Hmm... For example, they are known to live beneath bridges, in banana and bamboo forests and beneath large trees.";
				next;
				mes "[Tikbalang Expert]";
				mes "And this is just my opinion but wouldn't you agree that they are living in dark places because it is easier to play pranks on people?";
				break;
			}
			next;
		}
	case 3:
		mes "[Tikbalang Expert]";
		mes "Ha ha ha. Do you now know how great I am?";
		next;
		if (countitem(6496) >= 3 && countitem(6497) >= 5) {
			mes "[Tikbalang Expert]";
			mes "Oh! Isn't this material to make 'Tikbalang Belt' used to tame Tikbalangs?";
			next;
			mes "[Tikbalang Expert]";
			mes "The '^F80835Tikbalang Belt^000000' is used to capture Tikbalangs without the hassle. But that doesn't mean it's 100% successful. Interested? Do you want me to make one for you?";
			next;
			switch(select("Yes, Im interested.:No, I can capture one myself.")) {
			case 1:
				delitem 6496,3; //Tikbalang_Thick_Spine
				getitem 12699,1; //Tikbalang_Belt
				mes "[Tikbalang Expert]";
				mes "Yiiiiiiiiiiii! Yap!";
				next;
				specialeffect EF_SONICBLOW2;
				select("Huh?");
				mes "[Tikbalang Expert]";
				mes "The '^F80835Tikbalang Belt^000000' is already created.";
				close;
			case 2:
				mes "[Tikbalang Expert]";
				mes "You? Ha... You can try if you want to.";
				close;
			}
		}
		mes "[Tikbalang Expert]";
		mes "There is the easy way and the hard way to capture Tikbalangs. Which one do you prefer?";
		next;
		switch(select("Easy way.:Hard way.")) {
		case 1:
			mes "[Tikbalang Expert]";
			mes "Ha ha. I've come up with the easy way myself.";
			next;
			mes "[Tikbalang Expert]";
			mes "Bring me 3 Tikbalang's Thick Spines and 5 Lesser Agimats to make a '^F80835Tikbalang Belt^000000' to help you easily capture Tikbalangs.";
			next;
			mes "[Tikbalang Expert]";
			mes "Ha ha ha ha ha!";
			mes "I will say it again.";
			mes "It's 3 Tikbalang's Thick Spines and 5 Lesser Agimats. Understood?";
			close;
		case 2:
			mes "[Tikbalang Expert]";
			mes "It's easy for me but I don't know about you.";
			next;
			mes "[Tikbalang Expert]";
			mes "Tikbalangs have a sharp, pointy mane behind their neck.";
			next;
			mes "[Tikbalang Expert]";
			mes "Of course! There are several of them but you must get the three thickest ones.";
			next;
			mes "[Tikbalang Expert]";
			mes "These three manes are the weak point. You can tame a Tikbalang by pulling the manes out.";
			next;
			mes "[Tikbalang Expert]";
			mes "Now let me explain how to pull these manes out.";
			next;
			mes "[Tikbalang Expert]";
			mes "You must fly like a butterfly and land like a bee on the back of a Tikbalang.";
			next;
			mes "[Tikbalang Expert]";
			mes "Of course! The Tikbalang will get mad and try to shake you off with all its might.";
			next;
			mes "[Tikbalang Expert]";
			mes "All you have to do is hold on until the Tikbalang gets exhausted.";
			next;
			mes "[Tikbalang Expert]";
			mes "Then again, itll take 4 days and 3 nights for Tikbalangs to get tired since they are strong creatures. But let's not focus on too much details.";
			next;
			mes "[Tikbalang Expert]";
			mes "Which means!! The Tikbalang is already tamed.";
			close;
		}
	}
}

// Upgrade Boss Equipment :: malaya_mvpitem
//============================================================
ma_fild01,158,243,6	script	Tribe Blacksmith#malaya	582,{
	mes "[Bayani]";
	mes "I will upgrade your armor if you bring one that holds enormous power.";
	next;
	switch (select("What kind of equipment do upgrade?:What are the required materials?:What will it become after an upgrade?:Please upgrade this.")) {
	case 1:
		mes "[Bayani]";
		mes "Your questions are too simple, but!";
		next;
		mes "[Bayani]";
		mes "Are also important.";
		next;
		mes "[Bayani]";
		mes "^7B4772Bakonawa Scale Armor^000000 made from the scales of the Bakonawa monster known to swallow the moon.";
		next;
		mes "[Bayani]";
		mes "Light but sturdy ^7B4772Kalasag^000000 made from rattan that grows wild around Port Malaya.";
		next;
		mes "[Bayani]";
		mes "^7B4772Buwaya Sack Cloth^000000 made from the sack of the man-eating alligator Buwaya.";
		next;
		mes "[Bayani]";
		mes "^7B4772Bangungot Boots of Nightmare^000000 imbued with the hatred and vengeance of the monster Bangungot.";
		next;
		mes "[Bayani]";
		mes "As just mentioned.";
		next;
		mes "[Bayani]";
		mes "I will make powerful armor out of ONLY the strongest armor dropped from fearful monsters.";
		close;
	case 2:
		mes "[Bayani]";
		mes "Learned well.";
		mes "Seems you learned that there is no such thing as free in life.";
		next;
		mes "[Bayani]";
		mes "First thing to remember is that the object to upgrade must be strong itself. At least strong enough to endure ^FF0000+9 Refinement^000000.";
		next;
		mes "[Bayani]";
		mes "Next is true strength that only comes out of power obtained naturally. I need ^FF000020 Ancient Grudges^000000 for protection from evil while Im refining.";
		next;
		mes "[Bayani]";
		mes "When a ^FF0000+9 Refined Strong armor^000000 is combined with ^FF000020 Ancient Grudges^000000 for protection!!";
		next;
		mes "[Bayani]";
		mes "You get a completely new and improved armor from old scraps.";
		next;
		mes "[Bayani]";
		mes "Always look forward to this.";
		close;
	case 3:
		mes "[Bayani]";
		mes "Listen, because this is a very important question.";
		next;
		mes "[Bayani]";
		mes "It won't matter if I say it more than a 100 times that upgraded armor is powerful.";
		next;
		mes "[Bayani]";
		mes "Unless the one that holds it doesn't believe it is! Ask about what has changed and decide for yourself!";
		next;
		while (1) {
			switch (select("There is no more.:Bakonawa Scale Armor:Kalasag:Buwaya Sack Cloth:Bangungot Boots of Nightmare")) {
			case 1:
				mes "[Bayani]";
				mes "Looks like you ran out of questions.";
				mes "Don't forget. You'll have to give up something to gain something.";
				close;
			case 2:
				mes "[Bayani]";
				mes "The Bakonawa Scale Armor adds +1 to all stats for all jobs which is overall great armor for everyone.";
				next;
				mes "[Bayani]";
				mes "But I'm sure the inner you thinks this isn't enough.";
				next;
				mes "[Bayani]";
				mes "That is why +2 can be added to all stats and an extra slot for a card to your socket if upgraded.";
				next;
				break;
			case 3:
				mes "[Bayani]";
				mes "Kalasag is a good shield to reduce damage from boss monsters by 1% per 3 refinements.";
				next;
				mes "[Bayani]";
				mes "But not enough. Can't believe that a shield doesnt have a place to equip a card.";
				next;
				mes "[Bayani]";
				mes "That is why I can add an extra slot for a card to your socket if upgraded.";
				next;
				break;
			case 4:
				mes "[Bayani]";
				mes "The Buwaya Sack Cloth offers healing capacity and healing item effect increase by 1% per 3 refinements. Not to mention it reduces 10% damage from Water, Earth, Fire, and Wind elemental monsters.";
				next;
				mes "[Bayani]";
				mes "But not enough. Can't believe that these clothes don't come with a place to equip a card. Everyone knows that clothes should have Raydric on them!";
				next;
				mes "[Bayani]";
				mes "Don't worry! I can add an extra slot for a card to your socket if upgraded.";
				next;
				break;
			case 5:
				mes "[Bayani]";
				mes "The Bangungot Boots of Nightmare increases +1 MDEF per 1 refinement and speed increases starting at 14 refinement and above.";
				next;
				mes "[Bayani]";
				mes "The speed increase effect from shoes like Moonlight Flower Shoes and Sleipnir items are out of reach for ordinary people.";
				next;
				mes "[Bayani]";
				mes "But of course, +14 refinement isn't easy but there is an easy way to get it.";
				next;
				mes "[Bayani]";
				mes "By upgrading your shoes, you can get speed increase starting from +12 refinement!";
				next;
				mes "[Bayani]";
				mes "And it doesn't end there!!";
				mes "I will also put in an extra slot in your socket to add a card.";
				next;
				break;
			}
			mes "[Bayani]";
			mes "However, you'll have to give up something to gain something.";
			next;
			mes "[Bayani]";
			mes "^0000FFEquipping the Kalasag, Buwaya Sack Cloth, Bakonawa Scale Armor, and Bangungot Boots of Nightmare all at once will lose the ^FF0000Set Effects^0000FF.^000000";
			next;
			mes "[Bayani]";
			mes "Think it through. Next question?";
			next;
		}
	}
	mes "[Bayani]";
	mes "Ha ha ha ha ha ha ha! Good!";
	mes "You've brought the materials, right?";
	next;
	if (select("Oh... sorry...:Preparations are complete!!") == 1) {
		mes "[Bayani]";
		mes "Oh no!!";
		mes "I will need an light but sturdy armor with an refinement of +9 or greater and 20 Ancient Grudges!!";
		close;
	}
	if (countitem(6499) < 20) {
		mes "[Bayani]";
		mes "You said all preparations are done and you give me this?! I need at least 20 Ancient Grudges to refine your item.";
		close;
	}
	mes "[Bayani]";
	mes "So what armor will it be?";
	next;
	switch (select("Bakonawa Scale Armor:Kalasag:Buwaya Sack Cloth:Bangungot Boots of Nightmare")) {
	case 1:
		.@part    = EQI_ARMOR;
		.@item    = 15051;
		.@newItem = 15052;
		break;
	case 2:
		.@part    = EQI_HAND_L;
		.@item    = 2169;
		.@newItem = 2170;
		break;
	case 3:
		.@part    = EQI_GARMENT;
		.@item    = 2590;
		.@newItem = 2591;
		break;
	case 4:
		.@part    = EQI_SHOES;
		.@item    = 2491;
		.@newItem = 2492;
		break;
	}
	
	if (!(.@item)) {
		mes "[Bayani]";
		mes "You should wear the equipment to upgrade and not come without it on you.";
		close;
	} else if (getequipid(.@part) != .@item) {
		mes "[Bayani]";
		mes "What is this! You said you wanted to upgrade " + getitemname(.@item) + " but why are you giving me this? You should be wearing " + getitemname(.@item) + ".";
		close;
	} else if (getequiprefinerycnt(.@part) < 9) {
		mes "[Bayani]";
		mes "No, the sturdiness of this item has not been tested yet. It'll have to be at least +9 refined for me to say, 'Oh this is pretty sturdy armor.";
		close;
	}

	mes "[Bayani]";
	mes "Looks like you did your homework! Don't see a flaw! Then I have one question to ask before I start refinement.";
	next;
	mes "[Bayani]";
	mes "^0000FFOnce your item is refined, the refinement level will be ^FF00000^0000FF and the item will be upgraded.^000000 You get this part?";
	next;
	if (select("No.:Yes.") == 1) {
		mes "[Bayani]";
		mes "What? You didn't know this? Then, read through my instructions and come back again.";
		close;
	}
	mes "[Bayani]";
	mes "Good. Next question. Once refinement is done,";
	mes "^0000FFEquipping the Kalasag, Buwaya Sack Cloth, Bakonawa Scale Armor, and Bangungot Boots of Nightmare all at once will lose the ^FF0000Set Effects^0000FF.^000000";
	mes "Do you understand this point?";
	next;
	if (select("No.:Yes.") == 1) {
		mes "[Bayani]";
		mes "What? You didn't know this? Then, read through my instructions and come back again.";
		close;
	}
	mes "[Bayani]";
	mes "Awesome! Then let's start refining " + getitemname(.@item) + ".";
	next;
	specialeffect EF_SONICBLOW;
	mes "[Bayani]";
	mes "Pow!! Wow!! Flip... flop!";
	next;
	specialeffect2 EF_TRIPLEATTACK;
	mes "[Bayani]";
	mes "BAM!!";
	next;
	
	delitem 6499,20; //Ancient_Grudge
	delequip .@part;
	getitem .@newItem, 1; 
	
	mes "[Bayani]";
	mes "Ha ha. Perfect.";
	mes "Congratulations. Your armor is better than ever.";
	close;
}

// Secret in the Woods :: malaya_buwaya
//============================================================
malaya,305,281,3	script	Guard#buwaya	570,7,7,{
	if (malaya_hi < 10) {
		mes "- From the wary looks on the guard's face, it is obvious he is at alert at the sight of you. He won't intimidate you but seems he won't even deal with you either. -";
		next;
		mes "- Would there be anyone to talk to in the village? -";
		close;
	} else if (malaya_hi < 20) {
		mes "[Guard]";
		mes "There is a small area called ^3131FFBaryo Mahiwaga^000000 outside of Port Malaya.";
		mes "The place is closer to mother nature than what we have here.";
		next;
		mes "[Guard]";
		mes "On the other hand, the area is full of fierce monsters. Take care of yourself while you're traveling there.";
		close;
	}
	if (malaya_buwaya == 0) {
		mes "[Guard]";
		mes "There are more people leaving the village secretly these days. Are you also heading for the woods to look for the mysterious treasure?";
		next;
		if (BaseLevel < 100) {
			mes "[Guard]";
			mes "I take that back. On second thought, I don't think a weakling like you would even dare to go there.";
			next;
			mes "[Guard]";
			mes "You'd better hold tight to your mommy's hand if you want to go outside of Port Malaya or else the monsters will eat you alive. Ha ha.";
			close;
		}
		mes "[Guard]";
		mes "Is that why there are more outsiders here these days? Now don't be sneaky and a know-it-all. How would you know if I'd offered to take you around?";
		next;
		if (select("Treasure?:Ignore.") == 2) {
			mes "[Guard]";
			mes "Are you ignoring me? Bah.";
			close;
		}
		mes "[Guard]";
		mes "Oh, so you aren't here to look for treasure?";
		next;
		mes "[Guard]";
		mes "I hear people are talking about a mysterious treasure hidden deep in the woods.";
		set malaya_buwaya,1;
		setquest 2271;
		next;
	}
	if (malaya_buwaya == 1) {
		mes "[Guard]";
		mes "Do you see that group of people over there? They always gather and talk about it every day.";
		mes "Try talking to them if you are interested, too.";
		close;
	}
	mes "[Guard]";
	mes "So the talk about treasure was just a rumor? I'm not asking because I want to be rich overnight. Ha ha.";
	close;
OnTouch:
	if ((malaya_hi > 19) && (malaya_buwaya == 0)) {
		emotion e_gasp;
		emotion e_gasp,1;
	}
	end;
}
malaya,276,288,5	script	Port Malaya Villager::buwaya_A	582,{
	if (malaya_hi < 20) {
		mes "- Look at you warily while whispering to each other. -";
		close;
	} else if (malaya_buwaya == 1) {
		emotion e_gasp,0,"buwaya_A";
		mes "[Port Malaya Villager]";
		mes "No, I heard they got lost in the woods.";
		mes "Who would hide such a treasure from a small village like ours?";
		next;
		emotion e_swt2,0,"buwaya_B";
		mes "[Port Malaya Villager]";
		mes "Could it been a monster? My grandma said there is a dragon with a huge head living deep inside the woods.";
		next;
		emotion e_no,0,"buwaya_C";
		mes "[Port Malaya Villager]";
		mes "No. Listen to me.";
		next;
		mes "[Port Malaya Villager]";
		mes "You all know ^3131FFTotoy^000000? The kid living at the ^3131FFInn^000000.";
		mes "Well, did you know Totoy came back from the woods recently?";
		next;
		emotion e_omg,0,"buwaya_A";
		emotion e_omg,0,"buwaya_B";
		mes "[Port Malaya Villager]";
		mes "Really??? He came back alive?";
		next;
		emotion e_gasp,0,"buwaya_C";
		mes "[Port Malaya Villager]";
		mes "Yeah. But the strange part is that the troublemaker ^3131FFTotoy^000000 now quietly stays home and never comes out.";
		next;
		emotion e_what,0,"buwaya_B";
		mes "[Port Malaya Villager]";
		mes "Why?";
		next;
		emotion e_gasp,0,"buwaya_C";
		mes "[Port Malaya Villager]";
		mes "Don't you get it? Totoy must have found the treasure.";
		next;
		emotion e_omg,0,"buwaya_A";
		emotion e_omg,0,"buwaya_B";
		mes "[Port Malaya Villager]";
		mes "What!!!! Then ^3131FFTotoy^000000 is rich now?";
		next;
		emotion e_no,0,"buwaya_C";
		mes "[Port Malaya Villager]";
		mes "I don't think so.";
		mes "I saw ^3131FFTotoy^000000 come back home, but Totoy wasn't carrying anything.";
		mes "But then, I must have missed it because I ran back home right away.";
		next;
		emotion e_what,0,"buwaya_B";
		mes "[Port Malaya Villager]";
		mes "Then what is ^3131FFTotoy^000000 doing at home?";
		next;
		emotion e_dots,0,"buwaya_C";
		mes "[Port Malaya Villager]";
		mes "I think Totoy is making a plan to bring the treasure back without us knowing it.";
		mes "To have the whole treasure for himself, that greedy kid.";
		next;
		emotion e_what,0,"buwaya_A";
		mes "[Port Malaya Villager]";
		mes "Is that true?";
		next;
		emotion e_lv2,0,"buwaya_B";
		mes "[Port Malaya Villager]";
		mes "The treasure would be in better hands with me ~";
		mes "I would clean it every day so it shined and would use it as a beautiful ornament. Ah~~~";
		next;
		emotion e_dots,0,"buwaya_C";
		mes "[Port Malaya Villager]";
		mes "Then how about we talk to ^3131FFTotoy^000000 to spill the beans on where the treasure is?";
		next;
		emotion e_what,0,"buwaya_A";
		mes "[Port Malaya Villager]";
		mes "Wow. That is an awesome idea. No wonder you're the leader!";
		next;
		emotion e_dots,0,"buwaya_A";
		mes "[Port Malaya Villager]";
		mes "But will ^3131FFTotoy^000000 give up the information easily?";
		mes "Because Totoy was sneaky enough to think of getting away with taking the whole treasure.";
		next;
		emotion e_sob,0,"buwaya_B";
		mes "[Port Malaya Villager]";
		mes "Then we should convince ^3131FFTotoy^000000 to tell us where the treasure is instead of looking for it ourselves.";
		next;
		emotion e_sob,0,"buwaya_B";
		mes "[Port Malaya Villager]";
		mes "Ah~~~ it is so hard to get something pretty these days ~~~!!!!";
		set malaya_buwaya,2;
		erasequest 2271;
		setquest 2272;
		close;
	} else if (malaya_buwaya == 2) {
		mes "- Better pay a visit to this Totoy to get more information about the treasure. -";
		close;
	} else {
		mes "- People are talking with serious faces. -";
		close;
	}
}
malaya,278,288,3	duplicate(buwaya_A)	Port Malaya Villager::buwaya_B	583
malaya,276,286,7	duplicate(buwaya_A)	Port Malaya Villager::buwaya_C	582

ma_in01,47,101,3	script	Totoy#buwaya	577,7,7,{
	if ((malaya_hi < 20) || (malaya_buwaya < 2)) {
		mes "- See someone shaky with dopey eyes. -";
		close;
	}
	if (malaya_buwaya == 2) {
		mes "- See someone shaky with dopey eyes. -";
		next;
		if (select("Tap him on the shoulder.:Ignore him.") == 2)
			close;
		emotion e_omg;
		mes "[Totoy]";
		mes "Wah! No! Go away! Leave me alone!";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Hey, are you alright?";
		next;
		mes "[Totoy]";
		mes "Huh... you're a person? Who are you?";
		next;
		mes "- He looks you straight in the face but doesn't seem to recognize you. -";
		next;
		mes "[Totoy]";
		mes "Who's there?";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "I am " + strcharinfo(0) + ". You are Totoy, right? People say you've found a treasure. Is it true?";
		next;
		mes "[Totoy]";
		mes "What treasure?";
		mes "I can't see. I'm blinded. Please help me. I'm tired and frustrated.";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "What happened?";
		next;
		mes "[Totoy]";
		mes "Can't talk long. I need to heal my eyes first.";
		mes "There should be some ^3131FFGreen Potion^000000 left inside the drawer. Will you take it out for me?";
		set malaya_buwaya,3;
		close;
	} else if (malaya_buwaya == 3) {
		if (!countitem(506)) {
			mes "[Totoy]";
			mes "Can't talk long. I need to heal my eyes first.";
			mes "There should be some ^3131FFGreen Potion^000000 left inside the drawer. Will you get it for me?";
			close;
		}
		mes "[Totoy]";
		mes "Hello? Hey, are you still there? What happened to the Green Potion? Jeez, this is driving me crazy.";
		next;
		if (select("Hand over the Green Potion.:Do not hand over the potion.") == 2) {
			mes "[Totoy]";
			mes "Did you really leave? Hey! Darn!";
		} else {
			mes "[Totoy]";
			mes "Gulp, gulp...";
			delitem 506,1; //Green_Potion
			set malaya_buwaya,4;
		}
		close;
	} else if (malaya_buwaya == 4) {
		emotion e_gasp;
		mes "[Totoy]";
		mes "I can see!! My eyes work!!!";
		mes "Yay! I feel better now!";
		next;
		emotion e_dots,1;
		emotion e_no1;
		mes "[Totoy]";
		mes "Wow! You look better than you sounded. Ha ha.";
		next;
		mes "[Totoy]";
		mes "But what did you say? Something about a treasure?";
		mes "Did you say I found a treasure?";
		mes "What is that about?";
		next;
		select("Tell him what the people are talking about.");
		emotion e_heh;
		mes "[Totoy]";
		mes "WHAT?";
		mes "Puhaha! Totoy is rich! Became rich overnight! Chief Ed!";
		next;
		emotion e_pif;
		mes "[Totoy]";
		mes "Sorry but I went to the woods to collect bugs. Wish I saw a treasure while I was at it. Hmph!";
		next;
		emotion e_dots;
		mes "[Totoy]";
		mes "I did go deep in the woods because I wasn't getting anywhere with collecting bugs. But who would have thought I'd get into this mess?";
		next;
		if (select("What Totoy saw:About bugs") == 2) {
			mes "[Totoy]";
			mes "I only wanted to show people my collection of cute bugs. Ha ha.";
			next;
			emotion e_heh;
			mes "[Totoy]";
			mes "Dropping ice or bugs down peoples clothes is just like a daily greeting, isn't it?";
			next;
			mes "[Totoy]";
			mes "I love to see people run around the village like they are in a marathon. He he.";
			next;
		}
		mes "[Totoy]";
		mes "I thought people wouldn't run away because of an ordinary bug so I went in the woods with Ed.";
		next;
		mes "[Totoy]";
		mes "Ah, Ed is my cute puppy. He's very nice and cuddly. My best friend in the whole wide world.";
		next;
		emotion e_dots;
		mes "[Totoy]";
		mes "Ed usually barks a lot but I should have looked around when he barked and pulled on my sleeves.";
		next;
		mes "[Totoy]";
		mes "- Totoy bends over and whispers to you as if walls have ears. -";
		next;
		mes "[Totoy]";
		mes "There was a monster with a mouth the size of a house right behind me.";
		next;
		select("A monster?!");
		mes "[Totoy]";
		mes "Shssh! Be quiet. I've never seen a mouth that big before. It was full of a river of saliva flowing out of spiky teeth. Just the thought of it makes me want to hide.";
		next;
		mes "[Totoy]";
		mes "The scariest part is that the monster has two heads. You won't believe it till you see it.";
		next;
		emotion e_sob;
		mes "[Totoy]";
		mes "Ed bit the monsters leg with all his might to let me get away. But I don't know what happened to him afterwards. Sniff~";
		next;
		mes "[Totoy]";
		mes "That's when I hurt my eye. To tell you the truth I don't even remember how I came back.";
		next;
		select("About the monster");
		mes "[Totoy]";
		mes "Don't know. It was the first time I saw a monster like that. Who could live to tell the story?";
		next;
		mes "[Totoy]";
		mes "Wait, maybe the ^FF0000Master of Hunting^000000 might know about the monster. They say he fought with all sorts of monsters.";
		next;
		mes "[Totoy]";
		mes "I need some time alone. I need to make a tombstone for Ed. If you want to meet the ^FF0000Master of Hunting^000000, you'll find him near the Weapon Store.";
		next;
		mes "[Totoy]";
		mes "And tell everyone else to stop spreading rumors about treasure. They don't know what I went through. Sniff! I'm going to put Ancient Worms in everyones clothes!";
		set malaya_buwaya,5;
		erasequest 2272;
		setquest 2273;
		close;
	} else if (malaya_buwaya == 5) {
		mes "[Totoy]";
		mes "I have to make a grave for Ed. My loyal friend, Ed...";
		mes "If you want to meet the ^FF0000Master of Hunting^000000, you'll find him near the Weapon Store.";
		close;
	} else if (malaya_buwaya == 6) {
		mes "[Totoy]";
		mes "Ed!! Eeeeeddddddd!!!";
		mes "Can't believe you gave your life to save me. Wail!!!";
		next;
		mes "- Totoy can't be lying when he's crying his heart out like this. -";
		close;
	} else if (malaya_buwaya == 7) {
		mes "[Totoy]";
		mes "Where I saw the monster?";
		next;
		mes "[Totoy]";
		mes "Um... Hmm...";
		mes "I was so busy running away...";
		next;
		mes "[Totoy]";
		mes "It was really deep in the woods. Probably even past Baryo Mahiwaga.";
		mes "I think I heard the sound of ^3131FFFlowing Water^000000. A large whooshing sound. This is all I remember.";
		close;
	} else if ((malaya_buwaya > 7) && (malaya_buwaya < 12)) {
		mes "[Totoy]";
		mes "Poor Ed. I miss Ed. Wail!!!!";
		close;
	} else if (malaya_buwaya == 12) {
		emotion e_sob;
		mes "[Totoy]";
		mes "Poor Ed. I miss Ed. Wail!!!!";
		next;
		enablenpc "Dog#buwaya_totoi";
		mes "[Dog]";
		mes "Bark bark!!";
		next;
		emotion e_omg;
		mes "[Totoy]";
		mes "Ed!!";
		mes "Ed!!! You're alive!!!";
		mes "You've come back!!! I'm so happy!!!!";
		next;
		mes "[Totoy]";
		mes "Did you bring Ed back?";
		mes "Thank you so much!";
		mes "You didn't see the monster, did you?";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "The monster is called Buwaya. I told the Guard about the monster. You better not go near the place again.";
		next;
		mes "[Totoy]";
		mes "Okay!";
		mes "He he. Ed, the woods are too dangerous so we can't go there for bugs anymore.";
		next;
		mes "[Dog]";
		mes "Whimper...";
		next;
		mes "[Totoy]";
		mes "But I'm sure we can find a way to keep our reputation with other creepy stuff!";
		next;
		mes "[Dog]";
		mes "Bark bark!!";
		next;
		/*
		// Better translation needed.
		mes "[Totoy]";
		mes "Um... hey!";
		next;
		select("You are a " + ((Sex) ? "boy" : "girl") + ", aren't you?");
		emotion e_omg,1;
		mes "[Totoy]";
		mes "Huh?";
		if (!Sex) {
			mes "Totoy is a girl, and you are a boy.";
			mes "You're not a boy?";
		} else {
			mes "Totoy is a girl, and you are a girl.";
			mes "You're not a girl?";
		}
		next;
		mes "[Totoy]";
		mes "Is it because my name, Totoy? But that's the name my parents gave me thinking I would be a boy when I was born. Ha ha!";
		next;
		*/
		mes "[Totoy]";
		mes "Anyway, thanks for bringing my best friend back.";
		mes "I don't have much but would like to thank you. Wait, let me see what's inside my drawer. He he-";
		set malaya_buwaya,13;
		erasequest 2278;
		setquest 2279;
		close;
	} else if (malaya_buwaya == 13) {
//		if (IsPremiumPcCafe == 10)
			.@amount = 10;
//		else
//			.@amount = 5;
		if (checkweight(1201,1) == 0 || MaxWeight - Weight < 2000) {
			mes "- Wait!! -";
			mes "- You have too many items on you. -";
			mes "- Cannot receive the item. -";
			mes "- Clean up your items -";
			mes "- And please try again. -";
			close;
		}
		mes "- Totoy goes through the drawer, turning it upside down. Making a mess of the room. -";
		next;
		mes "[Totoy]";
		mes "Found it!";
		next;
		mes "[Totoy]";
		mes "Here. My mom gave it to me but I don't know how to use it... He he.";
		mes "I hope you can use it.";
		next;
		mes "[Totoy]";
		mes "Visit me when you get bored!";
		mes "Just don't ask about the treasure again~!";
		next;
		mes "[Dog]";
		mes "Woof woof woof!!!!";
		set malaya_buwaya,14;
		getitem 6497,5; //Lesser_Agimat
		disablenpc "Dog#buwaya_totoi";
		erasequest 2279;
		setquest 2280;
		close;
	} else {
		mes "[Totoy]";
		mes "Ed went out to play so I'm alone.";
		mes "Would there be something awesome to surprise people with?";
		close;
	}
OnTouch:
	emotion e_omg;
	end;
}

ma_in01,43,101,7	script	Dog#buwaya_totoi	81,{
	end;
OnInit:
	disablenpc "Dog#buwaya_totoi";
	end;
}

ma_in01,44,105,3	script	Drawer#buwaya	844,{
	if (malaya_buwaya == 3) {
		mes "- You look for the Green Potion in Totoys drawer. -";
		next;
		mes "- Rummaging, fumbling. -";
		next;
		mes "- Rummaging, fumbling. -";
		mes "- Rummaging, fumbling. -";
		next;
		mes "- Clunk, clank, crunch. -";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "What? I only see an empty potion bottle.";
		mes "Does this mean I have to get the potion myself? That Totoy is really a troublemaker.";
		close;
	}
	end;
}

malaya,290,152,5	script	Master of Hunting#buwaya	578,{
	if ((malaya_hi < 20) || (malaya_buwaya < 5)) {
		mes "[Master of Hunting]";
		mes "Oh! Ho! Ho!";
		mes "I am the Master of Hunting! I'm not afraid of anything with just one exception! I'm afraid of outsiders...";
		close;
	}
	if (malaya_buwaya == 5) {
		mes "[Master of Hunting]";
		mes "Yo! Ho! Ho!";
		mes "I went all the way to Rune-Midgarts Kingdom to defeat the Angry Minorous.";
		next;
		mes "[Master of Hunting]";
		mes "And I succeeded in killing Muka, the one with the voice of a demon that disturbs the peace of the world.";
		mes "Wow! He was really tough. I'm starting to sweat just thinking of him.";
		next;
		mes "[Master of Hunting]";
		mes "Yo! You look like you have a few battle stories yourself. Have you ever seen a Minorous? Ha ha ha!";
		next;
		mes "[Master of Hunting]";
		mes "So you came here to learn all about my excellent hunting skills? Or to ask me to publish an essay on Master of Hunting? Ho!";
		next;
		if (select("About Totoys monster:Interrupt.") == 2) {
			mes "[Master of Hunting]";
			mes "Oh? Hey! Where are you going?!";
			close;
		}
		mes "[Master of Hunting]";
		mes "You say someone saw the monster?";
		next;
		mes "[Master of Hunting]";
		mes "There are many monsters in and out of Port Malaya. What is so special about this one?";
		next;
		select("About a monster with two heads");
		mes "[Master of Hunting]";
		mes "Ho! A monster with two heads, you say? Are you kidding? Where on earth is there a monster with two heads?!";
		next;
		mes "[Master of Hunting]";
		mes "The kid must have been scared by a Condor or something.";
		mes "There's a saying that someone surprised to see a Permeter, will also be surprised to see a peach tree. Ha ha!";
		next;
		mes "[Master of Hunting]";
		mes "You shouldn't lie to an adult. I understand you want the Master of Huntings attention. Ha ha!";
		next;
		if (select("I will prove it.:Suspicious of Totoy.") == 2) {
			mes "[Master of Hunting]";
			mes "Kids tell stories for their own reasons. I'm sure Totoy is the same.";
			set malaya_buwaya,6;
			close;
		}
		mes "[Master of Hunting]";
		mes "Oh! Really? Bring proof if you really think the kid is telling the truth.";
		next;
		mes "[Master of Hunting]";
		mes "Every living thing leaves some kind of trace behind. You also leave behind traces and scents wherever you go. Especially in private places, I mean. He he!";
		next;
		mes "[Master of Hunting]";
		mes "Try collecting 10 Animal Samples from where the kid saw the monster. I will look for traces of that monster from the samples.";
		next;
		mes "[Master of Hunting]";
		mes (Sex) ? "It won't be pleasant but any brave man could easily do it, don't you agree?" : "I don't want the hands of a pretty girl to smell bad but I could care less with someone like you. Ha ha!";
		set malaya_buwaya,7;
		erasequest 2273;
		setquest 2274;
		close;
	} else if (malaya_buwaya == 6) {
		mes "[Master of Hunting]";
		mes "Oh, you're back!";
		next;
		if (select("Let's see if we have a monster in it!:I don't think there is a monster.") == 2) {
			mes "[Master of Hunting]";
			mes "It was a kid's joke. Ha ha.";
			close;
		}
		mes "[Master of Hunting]";
		mes "Oh! Really? Bring proof if you really think the kid is telling the truth.";
		next;
		mes "[Master of Hunting]";
		mes "Every living thing leaves some kind of trace behind. You also leave behind traces and scents wherever you go. Especially in private places, I mean. He he!";
		next;
		mes "[Master of Hunting]";
		mes "Try collecting 10 Animal Samples from where the kid saw the monster. I will look for traces of that monster from the samples.";
		next;
		mes "[Master of Hunting]";
		mes (Sex) ? "It won't be pleasant but any brave man could easily do it, don't you agree?" : "I don't want the hands of a pretty girl to smell bad but I could care less with someone like you. Ha ha!";
		set malaya_buwaya,7;
		erasequest 2273;
		setquest 2274;
		close;
	} else if (malaya_buwaya == 7) {
		if (countitem(6519) < 10) {
			mes "[Master of Hunting]";
			mes "Bring me back samples if you want to prove there is a monster with two heads.";
			close;
		}
		mes "[Master of Hunting]";
		mes "Argh! That's so foul.";
		mes "You've really brought back the samples.";
		mes "Ho! Leave it there and come back after washing your hands. Even god won't smile down at you with that stench.";
		set malaya_buwaya,8;
		erasequest 2274;
		setquest 2275;
		close;
	} else if (malaya_buwaya == 8) {
		mes "[Master of Hunting]";
		mes "Ho! Shall I?";
		next;
		mes "- Rummaging, fumbling. -";
		next;
		mes "- Rummaging, fumbling. -";
		mes "- Wriggling, wiggling. -";
		next;
		mes "- Rummaging, fumbling. -";
		mes "- Wriggling, wiggling. -";
		mes "- Sway, swag. -";
		next;
		mes "[Master of Hunting]";
		mes "Ho! This is!!";
		next;
		mes "[Master of Hunting]";
		mes "Wow! Ho! Ho! Ho! Awesome!!!!!!";
		next;
		mes "[Master of Hunting]";
		mes "You! Come here and feel this!";
		set malaya_buwaya,9;
		enablenpc "#buwaya_soil";
		close;
	} else if (malaya_buwaya == 9) {
		mes "[Master of Hunting]";
		mes "Don't just stand there. Touch the sample!";
		enablenpc "#buwaya_soil";
		close;
	} else if (malaya_buwaya == 10) {
		mes "[Master of Hunting]";
		mes "Hurry and tell the Guard Leader that Buwaya is active again. Hurry! You'll find the Guard Leader at the north of the village.";
		close;
	} else {
		mes "[Master of Hunting]";
		mes "Snooze...";
		close;
	}
}

malaya,291,152,3	script	#buwaya_soil	557,{
	if (malaya_buwaya == 9) {
		mes "- Rummaging, fumbling. -";
		next;
		mes "- Rummaging, fumbling. -";
		mes "- Wriggling, wiggling. -";
		next;
		mes "- Rummaging, fumbling. -";
		mes "- Wriggling, wiggling. -";
		mes "- Sway, swag. -";
		next;
		if (rand(1,10) <= 5) {
			mes "[" + strcharinfo(0) + "]";
			mes "I don't see anything.";
			next;
			mes "[Master of Hunting]";
			mes "It can't be! Look closer!";
		} else {
			mes "- Felt something pointy with the end of your fingers. -";
			next;
			mes "[" + strcharinfo(0) + "]";
			mes "Ouch!";
			mes "What is this?";
			next;
			mes "[Master of Hunting]";
			mes "Ho! This is huge! And so dense that it can easily scratch steel!";
			next;
			mes "[Master of Hunting]";
			mes "This is ^3131FFBuwaya^000000's tooth!";
			mes "How could this be!";
			next;
			select("Buwaya?");
			mes "[Master of Hunting]";
			mes "Ah! Yes! Stop holding it up. It stinks. Go wash your hands.";
			next;
			mes "[Master of Hunting]";
			mes "Hmm. The monster the kid saw must be Buwaya. No doubt about it.";
			next;
			mes "[Master of Hunting]";
			mes "I've heard that the wife of the neighbor of my grandfather's uncle on my mom's side was also killed by Buwaya.";
			next;
			mes "[Master of Hunting]";
			mes "They say no living thing is left after Buwaya passes by.";
			mes "Totoy is one lucky kid. Wow!";
			next;
			mes "[Master of Hunting]";
			mes "Buwaya was inactive for a long time. Wonder if it was hibernating? Hmm.";
			next;
			mes "[Master of Hunting]";
			mes "Now that I know that a monster like that is out there, I should be cautious, too.";
			mes "Must tell the villagers not to go too deep into the woods.";
			next;
			mes "[Master of Hunting]";
			mes "Please go and tell the Guard Leader that Buwaya is active again.";
			mes "I will contact other hunters in the meantime and think of a plan to kill Buwaya.";
			set malaya_buwaya,10;
			disablenpc "#buwaya_soil";
			erasequest 2275;
			setquest 2276;
		}
		close;
	}
	end;
OnInit:
	disablenpc "#buwaya_soil";
	end;
}

-	script	Unknown Trace#buwaya	-1,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 2000) {
		mes "- Wait!! -";
		mes "- You have too many items on you. -";
		mes "- Cannot receive the item. -";
		mes "- Clean up your items -";
		mes "- And please try again. -";
		close;
	}
	if (malaya_buwaya == 7) {
		if (countitem(6519) >= 10) {
			mes "- You don't have to collect any more samples. -";
			close;
		}
		mes "- You see something entangled with soil and grass. -";
		next;
		if (rand(1,10) <= 2) {
			mes "- You are nauseous by the foul smell coming from the samples you are collecting. -";
			sc_start SC_POISON,5000,0;
			close;
		}
		mes "- You slowing and cautiously collect the squashy and slightly warm substance. -";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "It's warm as a mother's bosom.";
		getitem 6519,1; //Collected_Sample
		disablenpc strnpcinfo(0);
		initnpctimer;
		close;
	}
	end;
OnTimer20000:
	enablenpc strnpcinfo(0);
	stopnpctimer;
	end;
}
ma_fild02,155,235,3	duplicate(Unknown Trace#buwaya)	Unknown Trace#buwaya_1	557
ma_fild02,143,142,3	duplicate(Unknown Trace#buwaya)	Unknown Trace#buwaya_2	557
ma_fild02,266,155,3	duplicate(Unknown Trace#buwaya)	Unknown Trace#buwaya_3	557
ma_fild02,221,91,3	duplicate(Unknown Trace#buwaya)	Unknown Trace#buwaya_4	557
ma_fild02,205,85,3	duplicate(Unknown Trace#buwaya)	Unknown Trace#buwaya_5	557
ma_fild02,300,98,3	duplicate(Unknown Trace#buwaya)	Unknown Trace#buwaya_6	557
ma_fild02,100,275,3	duplicate(Unknown Trace#buwaya)	Unknown Trace#buwaya_7	557

malaya,290,340,3	script	Guard Leader#buwaya	571,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 2000) {
		mes "- Wait!! -";
		mes "- You have too many items on you. -";
		mes "- Cannot receive the item. -";
		mes "- Clean up your items -";
		mes "- And please try again. -";
		close;
	}
	if (malaya_hi < 20) {
		mes "- Look at you warily while whispering to each other. -";
		close;
	}
	if (malaya_buwaya <= 10) {
		mes "[Guard Leader]";
		mes "We are busy as hell because of Bangungots servants attacking the hospital.";
		next;
		mes "[Guard Leader]";
		mes "We are doing our best in securing the safety of our village so please enjoy your stay in Port Malaya.";
	}
	if (malaya_buwaya == 10) {
		next;
		if (select("Tell him about Buwaya.:Done with conversation.") == 2) {
			close;
		}
		mes "[Guard Leader]";
		mes "Buwaya? The merciless creature is back?";
		next;
		mes "[Guard Leader]";
		mes "That's bad news. We are already short-handed by assigning everyone to fight off Bangungot.";
		next;
		mes "[Guard Leader]";
		mes "And villagers need to go to the woods to collect fruits and vegetables.";
		next;
		mes "[Guard Leader]";
		mes "Hmm... will you be able to help Port Malaya?";
		next;
		if (select("Leave it to me!:I'm pretty busy myself.") == 2) {
			mes "[Guard Leader]";
			mes "Really? That's no good. All the lives of the villagers will be at stake if we don't do something. How can a youth like you be so heartless. Are all outsiders like you? Hmph! Can't trust young people these days. Hmph.";
			close;
		}
		mes "[Guard Leader]";
		mes "I knew I could count on you.";
		next;
		mes "[Guard Leader]";
		mes "Good. I will trust you.";
		mes "I need to know where Buwaya will likely appear in order to secure villagers living area.";
		mes "Guess Buwayas nest will be the best bet.";
		next;
		mes "[Guard Leader]";
		mes "^3131FFShoot a smoke bomb^000000 once you reach the area.";
		mes "Then we will run to where the smoke bomb was shot.";
		next;
		mes "[Guard Leader]";
		mes "Then take care and good luck.";
		set malaya_buwaya,11;
		erasequest 2276;
		setquest 2277;
	} else if (malaya_buwaya == 11) {
		mes "[Guard Leader]";
		mes "^3131FFShoot a smoke bomb^000000 once you reach the area.";
		mes "Then we will run to where the smoke bomb was shot.";
	} else if ((malaya_buwaya == 12) || (malaya_buwaya == 13)) {
		mes "[" + strcharinfo(0) + "]";
		mes "Let's first bring Ed to Totoy.";
	} else if (malaya_buwaya == 14) {
		mes "[Guard Leader]";
		mes "The Guard Leader gave you the location of Buwaya's cave.";
		mes "This can't be happening.";
		next;
		mes "[Guard Leader]";
		mes "I'm way out of men to assign to the Buwaya situation but well have to do something with what we got.";
		next;
		mes "[Guard Leader]";
		mes "Here, this is a symbol of our gratitude.";
		mes "If you would like to help with Buwaya again, please look for me.";
		mes "Hope you have a great journey.";
		set malaya_buwaya,15;
		getexp 1000000, 600000;
		completequest 2280;
	} else {
		set .@hunting, checkquest(2281,HUNTING);
		if (.@hunting == -1) {
			mes "[Guard Leader]";
			mes "Hear Buwaya appeared from the depth of the Forest.";
			mes "As everyone knows, all our manpower is dispatched to handle Bangungots servants attacking the hospital recently.";
			next;
			mes "[Guard Leader]";
			mes "That is why we have no choice but to ask an outsider to help eliminate Buwaya.";
			mes "They say Buwaya is a very strong and ugly monster with two heads.";
			mes "Will you help us defeat Buwaya?";
			next;
			if (select("Of course.:Nope.") == 2) {
				mes "[Guard Leader]";
				mes "Buwaya is known to be a very dangerous monster.";
				mes "There is no shame in rejecting this request.";
				close;
			}
			if (BaseLevel < 130) {
				mes "[Guard Leader]";
				mes "This mission will be a dangerous one.";
				mes "If you want to help get rid of Buwaya, you must be prepared.";
				mes "Come back once you reach LV 130.";
				close;
			}
			mes "[Guard Leader]";
			mes "According to the legend, Buwaya kidnaps people and puts them in the sack on its back and then eats them later.";
			next;
			mes "[Guard Leader]";
			mes "Keep this in mind and be cautious at all times.";
			mes "I recommend asking trustful colleagues for help.";
			setquest 2281;
		} else if (.@hunting == 0 || .@hunting == 1) {
			mes "[Guard Leader]";
			mes "How is it going with the Buwaya situation?";
			next;
			if (select("I give up.:Still fighting.") == 2) {
				mes "[Guard Leader]";
				mes "Keep this in mind and be cautious at all times.";
				mes "I recommend asking trustful colleagues for help.";
				close;
			}
			mes "[Guard Leader]";
			mes "Buwaya is known to be a very dangerous monster.";
			mes "There is no shame in rejecting this request.";
			erasequest 2281;
		} else if (.@hunting == 2) {
//			if (IsPremiumPcCafe == 10)
				.@amount = 10;
//			else
//				.@amount = 5;
			mes "[Guard Leader]";
			mes "Can't believe you really got rid of Buwaya!";
			mes "You aren't just any ordinary youth, aren't you? People of Port Malaya can now sleep at night.";
			next;
			mes "[Guard Leader]";
			mes "Good work.";
			erasequest 2281;
			getitem 6497, .@amount; //Lesser_Agimat
			getexp 0,600000;
		} else {
			mes "[Guard Leader]";
			mes "I will not stand down until all of Port Malaya, including Baryo Mahiwaga, is safe from Buwaya. Promise to take care of yourself.";
			erasequest 2281;
		}
	}
	close;
}

ma_fild02,307,245,0	script	#buwaya_todog1	139,3,3,{
	end;
OnTouch:
	if (malaya_buwaya == 11) {
		enablenpc "Dog#buwaya";
		//mes "[Here something]";
		mes "Bark bark!!";
		close;
	}
	end;
}
ma_fild02,320,241,0	duplicate(#buwaya_todog1)	#buwaya_todog2	139,3,3
ma_fild02,317,250,0	duplicate(#buwaya_todog1)	#buwaya_todog3	139,7,7

ma_fild02,312,259,3	script	Dog#buwaya	81,{
	if (malaya_buwaya == 11) {
		mes "[Dog]";
		mes "Bark bark!!";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Why is a dog here?";
		next;
		if (select("Look closely at the dog.:Ignore it.") == 2) {
			mes "[" + strcharinfo(0) + "]";
			mes "Looks like a lost dog.";
			close;
		}
		mes "- Looked real hard at the dirty dog and noticed an old collar on its neck. -";
		next;
		mes "- The collar says, 'Forever with Totoy'. -";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "So you are Ed?";
		next;
		mes "[Dog]";
		mes "Bark bark!";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "You didn't get killed by Buwaya. You lucky little dog. Let's go back to your owner.";
		next;
		emotion e_ho;
		mes "[Dog]";
		mes "Bark bark!!";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Ah, before we go, do you happen to know where Buwaya's nest is?";
		next;
		mes "[Dog]";
		mes "Woof!";
		next;
		mes "- Ed is one smart dog and understood what you asked him. Ed started to bark towards the north. -";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Buwaya is over there!";
		mes "Then I should shoot the smoke bomb here.";
		next;
		mes "- You take the smoke bomb out of your inventory and shoot towards the sky. -";
		next;
		mes "^FF0000- Shoook-^000000";
		enablenpc "Guard#buwayacave";
		specialeffect2 EF_MVP;
		next;
		mes "[Guard]";
		mes "Job well done!";
		mes "So Buwaya lives in remote place like this. I will make sure this information goes to the Guard Leader!";
		disablenpc "Guard#buwayacave";
		next;
		mes "[" + strcharinfo(0) + "]";
		mes "Should I return Ed to Totoy first and then go see the Guard Leader?";
		next;
		mes "[Dog]";
		mes "Bark bark!";
		set malaya_buwaya,12;
		disablenpc "Dog#buwaya";
		erasequest 2277;
		setquest 2278;
		close;
	} else if (malaya_buwaya == 12) {
		mes "[" + strcharinfo(0) + "]";
		mes "Lets first bring Ed to Totoy and then go back to the Guard Leader.";
		close;
	}
	end;
OnInit:
	disablenpc "Dog#buwaya";
	end;
}

ma_fild02,308,262,3	script	Guard#buwayacave	570,{
	end;
OnInit:
	disablenpc "Guard#buwayacave";
	end;
}

// Bakonawa Extermination :: malaya_bakonawa
//============================================================
malaya,280,331,4	script	Singing Man#bako1	578,{
	if (malaya_bakona1 < 5) {
		mes "[Singing Man]";
		mes "Story of dragon that lives at a lake~";
		mes "Story of an old lady";
		mes "that became a dragon long ago~";
		next;
		mes "[Singing Man]";
		mes "Waiting for the son that left for a foreign land,";
		mes "my son will return";
		mes "when that moon sets for the 90th time";
		next;
		mes "[Singing Man]";
		mes "The moon sets for the 89th,";
		mes "The moon sets for the 90th,";
		mes "The moon sets for the 191st...";
		next;
		mes "[Singing Man]";
		mes "That moon has taken my son away~";
		mes "That horrible thing";
		mes "has swallowed my son,";
		mes "and I will punish that moon~";
		next;
		mes "[Singing Man]";
		mes "The day the furious moon hides itself from sight,";
		mes "the whole world will be flooded with rain";
		mes "with all the villages and people facing death under water~";
		next;
		mes "[Singing Man]";
		mes "The old lady's curse made the moon furious~";
		mes "Get rid of the old lady to calm the moon~";
		mes "If only the old lady wasn't here, If only the old lady wasn't here...";
		next;
		mes "[Singing Man]";
		mes "I hear rumors~";
		mes "The old lady threw herself into the lake~";
		mes "the old lady, now turned into a dragon, will swallow the moon";
		mes "and soon swallow the village too~";
		close;
	} else {
		mes "[Singing Man]";
		mes "You say the legend is all a lie?";
		mes "You mean my ancestors are all liars";
		mes "and swindlers?";
		next;
		mes "[Singing Man]";
		mes "This village is built on an old legend";
		mes "and history.";
		mes "They are not the kind of people that will be shaken by";
		mes "foolish words of an imbecile such as yourself.";
		close;
	}
}

malaya,275,333,5	script	Singing Woman#bako1	579,{
	if (malaya_bakona1 < 5) {
		mes "[Singing Woman]";
		mes "Bakonawa that live at a lake,";
		mes "story of an old lady that became a dragon.";
		next;
		mes "[Singing Woman]";
		mes "The son that was suppose to return after the moon sets for the 90th time";
		mes "never did come back even after the moon had set for a few hundred times~";
		mes "The moon has swallowed the old lady's son~";
		next;
		mes "[Singing Woman]";
		mes "The moon, the moon, you shall receive the old lady's curse~";
		mes "The whole village was immersed in death";
		mes "with rain and floods sent by the furious moon~";
		next;
		mes "[Singing Woman]";
		mes "The moon, the moon, be still and be calm,";
		mes "for the old lady is gone and she is no more~";
		mes "The old lady has drowned in the lake~";
		mes "She will transform into Bakonawa and come back...";
		next;
		mes "[Singing Woman]";
		mes "...to swallow you and";
		mes "punish the village soon~";
		mes "The day the moon dies";
		mes "is the day the village dies too~";
		close;
	} else {
		mes "[Singing Woman]";
		mes "The legends are all a lie?";
		mes "Why do you say such nonsense?";
		mes "Is there nothing";
		mes "that is important for you to protect?";
		next;
		mes "[Singing Woman]";
		mes "Poor Bakonawa...";
		mes "I would be happy";
		mes "if she took a big bite out of someone like you!";
		close;
	}
}

malaya,290,329,4	script	Frightened Boy#bako1	577,{
	if (malaya_hi < 20) {
		mes "- He seems cautious of you. -";
		close;
	}
	if (malaya_bakona1 < 5) {
		mes "[Frightened Boy]";
		mes "The vicious monster Bakonawa will soon come";
		mes "to swallow the moon and take vengeance upon the village.";
		mes "I'm scared, please help...";
		close;
	} else {
		mes "[Frightened Boy]";
		mes "The legend of Bakonawa is all a lie?";
		mes "So that means Bakonawa doesn't exist?";
		mes "I'm going to play with my friends at the lake later.";
		mes "You told me it was all a lie right?";
		close;
	}
}

malaya,264,338,4	script	Frightened Maiden#bako1	576,{
	if (malaya_hi < 20) {
		mes "- She seems cautious of you. -";
		close;
	}
	if (malaya_bakona1 < 5) {
		mes "[Frightened Maiden]";
		mes "It is said that Bakonawa hates loud noises.";
		mes "Pound the pot if you want to live!";
		next;
		switch(select("Hates loud noises?:What is Bakonawa?")) {
		case 1:
			mes "[Frightened Maiden]";
			mes "You already heard that the old lady";
			mes "died and became Bakonawa, right?";
			next;
			mes "[Frightened Maiden]";
			mes "The legend has it that";
			mes "the old lady had very keen hearing";
			mes "because she was always focusing on";
			mes "the returning of her traveling son.";
			next;
			mes "[Frightened Maiden]";
			mes "So naturally, Bakonawa also";
			mes "has very keen hearing.";
			mes "The reason why everyone is banging";
			mes "pots and pans is because of this.";
			close;
		case 2:
			mes "[Frightened Maiden]";
			mes "It is a terrible monster that lives at a lake.";
			mes "We are all trembling with fear";
			mes "because we don't know when it might attack the village.";
			next;
			mes "[Frightened Maiden]";
			mes "Some say that it is more obsessed with swallowing the moon";
			mes "than attacking the village.";
			mes "if that's the case, I wish it would just swallow the moon";
			mes "and leave us alone.";
			close;
		}
	} else {
		mes "[Frightened Maiden]";
		mes "The villagers hate you now.";
		mes "You've been saying that legend of Bakonawa";
		mes "is a lie and they are saying you are more of a monster";
		mes "than Bakonawa.";
		close;
	}
}

malaya,272,339,5	script	Old Fortune Teller#bako1	575,{
	if (malaya_hi < 20) {
		mes "- Old Fortune Teller seems cautious of you. -";
		close;
	}
	if (malaya_bakona1 < 5) {
		mes "[Old Fortune Teller]";
		mes "You must not hate Bakonawa.";
		mes "The hate against it is only feeding its rage";
		mes "to grow bigger.";
		next;
		mes "[Old Fortune Teller]";
		mes "To calm the dead lady's anger,";
		mes "we annually hold a ceremony and prepare food.";
		mes "But there seems to be no way to calm the";
		mes "ever growing anger of the old lady.";
		next;
		mes "[Old Fortune Teller]";
		mes "The day is nearing. I can sense it.";
		mes "Bakonawa will soon swallow the moon";
		mes "and come to punish the village.";
		close;
	} else {
		mes "[Old Fortune Teller]";
		mes "How can you say the legend is a lie!";
		mes "Because of you, the fury of Bakonawa";
		mes "grew even larger!";
		mes "If the village perishes,";
		mes "it is all your fault!";
		close;
	}
}

malaya,285,332,4	script	Old Legend Teller#bako1	574,{
	if (checkweight(1301,3) == 0) {
		mes "You cannot start the conversation. You are carrying too many items. -";
		close;
	}
	if (BaseLevel < 120) {
		mes "[Old Legend Teller]";
		mes "There is something that needs to be done";
		mes "but you look too fragile";
		mes "to give me a hand.";
		next;
		mes "[Old Legend Teller]";
		mes "Come back when";
		mes "your strength grows strong enough";
		mes "to match Incubus.";
		close;
	}
	if (malaya_hi < 20) {
		mes "- He seems cautious of you. -";
		close;
	}
	if (malaya_bakona1 == 0) {
		mes "[Old Legend Teller]";
		mes "The old lady has come back";
		mes "to life as Bakonawa.";
		mes "Soon she will come to take vengeance on the village.";
		mes "We must calm her";
		mes "if to prevent further destruction...";
		next;
		switch(select("Calm Bakonawa?:Further destruction?")) {
		case 1:
			mes "[Old Legend Teller]";
			mes "The old lady faced an unjust death";
			mes "because of villagers' selfishness.";
			mes "She was a caring mother who loved her";
			mes "son dearly.";
			next;
			mes "[Old Legend Teller]";
			mes "If we track the whereabouts of her son and hold a ritual";
			mes "with her son's belongings,";
			mes "her restless soul will be calmed";
			mes "and she will spare us from destruction.";
			next;
			mes "[Villagers]";
			mes "It is no use sir!!";
			next;
			mes "[Villagers]";
			mes "You cannot stop the monster that way!";
			next;
			mes "[Old Legend Teller]";
			mes "Of course, it will not be easy to track down the whereabouts of a person";
			mes "who has been gone for a hundred years.";
			mes "...";
			next;
			mes "[Old Legend Teller]";
			mes "Still, don't you think";
			mes "it is worth a try?";
			mes "Please help us and save us from our misery.";
			next;
			switch(select("It is no use.:I'll help.")) {
			case 1:
				mes "[Old Legend Teller]";
				mes "Yes, you are also right.";
				mes "You are up against not a human,";
				mes "but a monster.";
				mes "Still, I trust in that old lady's";
				mes "good heart.";
				close;
			case 2:
				mes "[Old Legend Teller]";
				mes "Will you do it?";
				mes "According to the legend,";
				mes "the old lady's son was limping";
				mes "and was a traveling merchant that sold wooden dolls.";
				next;
				mes "[Old Legend Teller]";
				mes "There is a ^FF0000Slate Piece^000000 he left.";
				mes "But the piece is small and damaged,";
				mes "its hard to identify it.";
				next;
				mes "[Old Legend Teller]";
				mes "First, bring it to me.";
				mes "Down along this path";
				mes "you will meet my granddaughter near the port.";
				mes "Get the Slate Piece from there.";
				set malaya_bakona1,1;
				setquest 1174;
				close;
			}
		case 2:
			mes "[Old Legend Teller]";
			mes "The grudge against the people of";
			mes "Bakonawa- I mean, the dead old lady.";
			mes "The moon and this village...";
			mes "She will try to destroy it.";
			next;
			select("Take vengeance? After all these years?");
			mes "[Old Legend Teller]";
			mes "For some time, she has";
			mes "blamed the moon and";
			mes "resented the villagers.";
			mes "The feeling grew larger as the time passed.";
			next;
			mes "[Old Legend Teller]";
			mes "Why do you think she became such a monster?";
			mes "What do you think went through her head";
			mes "for years and years?";
			mes "Anger and vengeance.";
			next;
			mes "[Old Legend Teller]";
			mes "Unforgettable grudge";
			mes "that she was abandoned.";
			mes "against the moon and the village.";
			mes "This is why this grudge must be resolved.";
			close;
		}
	} else if (malaya_bakona1 == 1) {
		mes "[Old Legend Teller]";
		mes "Please bring the ^FF0000Slate Piece^000000.";
		mes "Down along this path";
		mes "you will meet my granddaughter near the port.";
		mes "Get the Slate Piece from there.";
		close;
	} else if (malaya_bakona1 == 2) {
		mes "[Old Legend Teller]";
		mes "Good, you have the Slate Piece.";
		mes "Hold on to it and don't lose it.";
		mes "It will be of helpful in tracking down the legend.";
		next;
		mes "[Old Legend Teller]";
		mes "I heard there is a man that lives by himself";
		mes "at the end of northwestern part of Forest Field.";
		mes "I heard someone saw a wooden doll there.";
		mes "It is such a remote place that people like us";
		mes "simply cannot travel there.";
		mes "Could you visit the place for us?";
		next;
		switch(select("Go there yourself!:Your explanation is too vague.:On my way!")) {
		case 1:
			mes "[Old Legend Teller]";
			mes "You twisted youth!";
			close;
		case 2:
			mes "[Old Legend Teller]";
			mes "You have a point, but";
			mes "this is the best I can do for now.";
			mes "The place is at the end of northwestern part of the forest.";
			mes "After you pass the bridge and travel west,";
			mes "you will see a person.";
			break;
		case 3:
			mes "[Old Legend Teller]";
			mes "You have a good heart young man!";
			mes "The place is at the end of northwestern part of the forest.";
			mes "After you pass the bridge and travel west,";
			mes "You will see a ^0000FFMalaya Immigrant^000000.";
			break;
		}
		mes "Good luck to you... for our sake...";
		erasequest 1175;
		setquest 1176;
		set malaya_bakona1,3;
		close;
	} else if (malaya_bakona1 == 3) {
		mes "[Old Legend Teller]";
		mes "The place is at the end of northwestern part of the forest.";
		mes "After you pass the bridge and travel west,";
		mes "you will see a person.";
		mes "Good luck to you... for our sake...";
		close;
	} else if (malaya_bakona1 < 6) {
		mes "[Old Legend Teller]";
		mes "The track of the old lady's son";
		mes "is connected all the way to";
		mes "Baryo Mahiwaga?";
		mes "There is a chance he wasn't a merchant...";
		mes "I'm really curious about who he was...";
		next;
		mes "[Old Legend Teller]";
		mes "Why did you come back here";
		mes "instead of going straight to";
		mes "Baryo Mahiwaga?";
		close;
	} else if (malaya_bakona1 == 6) {
		mes "[Old Legend Teller]";
		mes "Is that really true?";
		mes "Bakonawa turning into an old lady";
		mes "and fabricating the legend...";
		mes "It seems all the villagers up until now";
		mes "have been manipulated by that terrible monster.";
		next;
		mes "[Old Legend Teller]";
		mes "There is no reason to hesitate then.";
		mes "You must go into Bakonawa's lair";
		mes "before it attacks first.";
		mes "I believe we can trust you to do this, yes?";
		next;
		switch(select("Well...:Of course!")) {
		case 1:
			mes "[Old Legend Teller]";
			mes "The atmosphere was really good";
			mes "but suddenly it's all ruined.";
			mes "I didn't expect you to be so shy...";
			close;
		case 2:
			mes "[Old Legend Teller]";
			mes "I will speak to";
			mes "the village chief for you";
			mes "so that you can enter the Bakonawa Lake.";
			mes "Please get rid of this monster for us.";
			erasequest 1179;
			set malaya_bakona1,7;
//			if (IsPremiumPcCafe == 10)
				getitem 6499,5; //Ancient_Grudge
//			else
//				getitem 6499,3; //Ancient_Grudge
			getexp 500000,200000;
			close;
		}
		close;
	} else if (malaya_bakona1 == 7) {
		if (malaya_bakona2 < 15) {
			mes "[Old Legend Teller]";
			mes "If you don't mind,";
			mes "could you lend a hand to the Village Chief?";
			mes "Nobody cares for each other anymore";
			mes "because of Bakonawa...";
			next;
		}
		mes "[Old Legend Teller]";
		mes "The legend that";
		mes "we believed for a hundred years,";
		mes "all lies....";
		mes "Please get rid of this monster for us.";
		close;
	}
}

ma_fild02,40,240,4	script	Malaya Immigrant#bako1	578,{
	if (malaya_bakona1 < 3) {
		mes "[Malaya Immigrant]";
		mes "You must have a brave heart";
		mes "to come to such a remote place.";
		mes "How is Port Malaya these days?";
		mes "I heard the monster that lives at the lake, Baknoawa";
		mes "is threatening the villagers.";
		mes "I am in the dark about what is going on because I'm here all the time.";
		close;
	} else if (malaya_bakona1 == 3) {
		mes "[Malaya Immigrant]";
		mes "You must have a brave heart";
		mes "to come to such a remote place.";
		mes "How is Port Malaya these days?";
		mes "I heard the monster that lives at the lake, Baknoawa";
		mes "is threatening the villagers.";
		mes "I am in the dark about what is going on because I'm here all the time.";
		next;
		mes "[Malaya Immigrant]";
		mes "Are you the traveling merchant who used to sell Wooden Doll, right?";
		mes "I don't know about any traveling merchant, but by Wooden Doll";
		mes "(going through things) do you mean this?";
		mes "I don't know about the specifics, but";
		mes "I think it's related to what I heard long time ago.";
		next;
		switch(select("What are you doing here?:Do you know about this Slate Piece?:Please tell me the story.:Who is the traveling merchant?")) {
		case 1:
			mes "[Malaya Immigrant]";
			mes "I liked the environment here";
			mes "so I decided to stay and live.";
			mes "There is no obligation here.";
			mes "To me, that's as good as heaven.";
			close;
		case 2:
			mes "[Malaya Immigrant]";
			mes "It is a very old Slate Piece.";
			mes "I'm sorry but I never seen this before.";
			mes "There is some kind of writing here";
			mes "but I can't make it out.";
			close;
		case 3:
			mes "[Malaya Immigrant]";
			mes "It's a simple story.";
			mes "^0000FFA wounded man who I had never seen before^000000";
			mes "^0000FFcame to my house and asked for help.^000000";
			mes "^0000FFOnce healed, he made a Wooden Doll^000000";
			next;
			mes "[Malaya Immigrant]";
			mes "^0000FFthat is suppose to chase away evil spirits ^000000";
			mes "^0000FFas a token of gratitude,^000000";
			mes "^0000FFand left for Baryo Mahiwaga.^000000";
			next;
			select("He left for Baryo Mahiwaga?");
			mes "[Malaya Immigrant]";
			mes "According to what I've heard";
			mes "that's correct. But the story has been";
			mes "passed on from mouth to mouth for a";
			mes "long time. I can't be sure.";
			next;
			mes "From Baryo Mahiwaga village, using keyword ^0000FFMalaya^000000,";
			mes "or ^0000FFBakonawa^000000,";
			mes "maybe I could find out the identity and whereabouts";
			mes "of the traveling merchant.";
			erasequest 1176;
			setquest 1177;
			set malaya_bakona1,4;
			close;
		case 4:
			mes "[Malaya Immigrant]";
			mes "Well, there is a lack of information";
			mes "so I can't make say for sure but";
			mes "I'm skeptical if he was in fact even a merchant.";
			mes "Coming to a town with a";
			mes "critical wound seems too suspicious...";
			next;
			mes "[Malaya Immigrant]";
			mes "And craving a Wooden Doll";
			mes "could be seen to have some kind of ritualistic meaning.";
			mes "Protecting one from some evil force...";
			mes "that kind of thing.";
			next;
			mes "Identity of the traveling merchant...";
			mes "Looks like there is one more";
			mes "mystery to be solved.";
			mes "I suppose it will all come to light";
			mes "soon enough.";
			close;
		}
	} else {
		mes "[Malaya Immigrant]";
		mes "I will tell you again slowly";
		mes "the story that has been passed on.";
		mes "Listen carefully and repeat...";
		mes "no, I mean, you don't have repeat it.";
		next;
		mes "[Orally Transmitted Story]";
		mes "^0000FFA wounded man who I had never seen before^000000";
		mes "^0000FFcame to my house and asked for help.^000000";
		mes "^0000FFOnce healed, as a token of gratitude, he made a Wooden Doll^000000";
		mes "^0000FFthat is suppose to chase away evil sprits.^000000";
		mes "^0000FFThen he left for Baryo Mahiwaga.^000000";
		next;
		mes "From Baryo Mahiwaga village, using keyword ^0000FFMalaya^000000,";
		mes "or ^0000FFBakonawa^000000,";
		mes "maybe I could find out the identity and whereabouts";
		mes "of the traveling merchant.";
		close;
	}
}

ma_fild01,165,237,4	script	Malaya Immigrant#bako2	582,{
	if (malaya_bakona1 < 4) {
		mes "[Malaya Immigrant]";
		mes "Have you been to";
		mes "Port Malaya?";
		mes "I am curious to know";
		mes "what is going on there";
		mes "but I can't travel because there are monsters everywhere.";
		close;
	} else if (malaya_bakona1 == 4) {
		mes "[Malaya Immigrant]";
		mes "Wooden Doll?";
		mes "There is a tale related to that,";
		mes "but you didn't come all the way";
		mes "just to hear some folktale right?";
		next;
		switch(select("I just came here to take a break.:Tell me the tale.")) {
		case 1:
			mes "[Malaya Immigrant]";
			mes "You must have a lot of free time on your hands!";
			mes "I'm no travel agent";
			mes "so go bother someone else!";
			close;
		case 2:
			mes "[Malaya Immigrant]";
			mes "It's baloney";
			mes "so I don't really remember the details.";
			next;
			mes "[Summary of the folktale]";
			mes "Long time ago, 5 swordsmen fought";
			mes "against the monster Bakonawa.";
			mes "Four died and one left a critical wound";
			mes "to the monster but in return";
			mes "sustained a serious wound in his leg himself.";
			next;
			mes "[Summary of the folktale]";
			mes "After escaping the scene, Bakonawa transformed into a human";
			mes "and secretly pursued the swordsman.";
			mes "The swordsman made a Wooden Doll that";
			mes "can keep the monster from approaching.";
			next;
			mes "[Malaya Immigrant]";
			mes "This is the end of story.";
			mes "Without any conclusion...";
			next;
			mes "[Malaya Immigrant]";
			mes "I heard there is a record that the swordsman left";
			mes "but I don't understand why";
			mes "he would leave it here in such a distant place";
			mes "here instead of Malaya.";
			next;
			select("I wish to see the record.");
			mes "[Malaya Immigrant]";
			mes "The record is engraved on the stone ahead.";
			mes "However, the stone is so badly";
			mes "damaged and some pieces fell out that";
			mes "it will be hard to make the words out.";
			next;
			mes "Investigate the stone ahead.";
			erasequest 1177;
			setquest 1178;
			set malaya_bakona1,5;
			close;
		}
	} else if (malaya_bakona1 == 5) {
		mes "[Malaya Immigrant]";
		mes "The stone ahead holds a record that";
		mes "a swordsman from a long time ago left.";
		next;
		switch(select("Where did this swordsman go after?:Tell me the tale again.")) {
		case 1:
			mes "[Malaya Immigrant]";
			mes "Well, there is no story after that so";
			mes "I guess nobody would know what happened.";
			close;
		case 2:
			mes "[Summary of the folktale]";
			mes "Long time ago, 5 swordsmen fought";
			mes "against the monster Bakonawa.";
			mes "Four died and one left a critical wound";
			mes "on the monster but in return";
			mes "sustained a serious wound in his leg himself.";
			next;
			mes "[Summary of the folktale]";
			mes "After escaping the scene, Bakonawa transformed into a human";
			mes "and secretly pursued the swordsman.";
			mes "The swordsman made a Wooden Doll that";
			mes "can keep the monster from approaching.";
			close;
		}
	} else {
		mes "[Malaya Immigrant]";
		mes "I suppose you wish to hear the story again right?";
		mes "No problem! I can tell this story forever!";
		next;
		mes "[Summary of the folktale]";
		mes "Long time ago, 5 swordsmen fought";
		mes "against the monster Bakonawa.";
		mes "Four died and one left a critical wound";
		mes "on the monster but in return";
		mes "sustained a serious wound in his leg himself.";
		next;
		mes "[Summary of the folktale]";
		mes "After escaping the scene, Bakonawa transformed into a human";
		mes "and secretly pursued the swordsman.";
		mes "The swordsman made a Wooden Doll that";
		mes "can keep the monster from approaching.";
		close;
	}
}

ma_fild01,171,235,0	script	#bako1	139,2,2,{
	end;
OnTouch:
	if (malaya_bakona1 == 5) {
		mes "The damage is so severe";
		mes "that the record is unidentifiable.";
		mes "When inserting the Slate Piece";
		mes "to a hole on the wall, it fits perfectly like a piece of puzzle.";
		mes "The letters are not clear but you can still read it.";
		next;
		callsub L_Record;
		set malaya_bakona1,6;
		erasequest 1178;
		setquest 1179;
		close;
	} else if (malaya_bakona1 == 6) {
		mes "Here is the record left by a swordsman";
		mes "from a hundred years ago.";
		next;
		switch(select("I don't need to read it.:Read the record again.")) {
		case 1:
			mes "I remember the story clearly.";
			mes "Let's tell the ^0000FFOld Legend Teller^000000 in Malaya";
			mes "about what I discovered.";
			close;
		case 2:
			callsub L_Record;
			close;
		}
	}
	end;

L_Record:
	mes "[Record left by a swordsman from a hundred years ago]";
	mes "After fighting with Bakonawa, I sustained a critical wound";
	mes "and came to this place.";
	mes "Only thing I can do is";
	mes "Place the Wooden Doll in one place";
	mes "the monster would come.";
	next;
	mes "[Record left by a swordsman from a hundred years ago]";
	mes "^0000FFSometimes transforming into a child, or even a old lady,^000000";
	mes "I know that ^0000FFBakonawa^000000has been";
	mes "chasing after me in secret to kill me.";
	mes "Because of that critical injury the monster * sustained,";
	next;
	mes "[Record left by a swordsman from a hundred years ago]";
	mes "** it will need nearly a hundred years";
	mes "for Bakonawa to absorb the power of the moon";
	mes "to fully recover its power.";
	mes "Beware of the day the moon disappears.";
	next;
	mes "[Record left by a swordsman from a hundred years ago]";
	mes "The day will come when Bakonawa";
	mes "will run amuck.";
	mes "But it will take nearly a hundred years to fully recover its power.";
	mes "There will always be someone better than me";
	mes "to defeat the vile creature.";
	next;
	mes "[Record left by a swordsman from a hundred years ago]";
	mes "I will place my trust in the one that will replace me ages from now...";
	next;
	mes "How could this be...";
	mes "Lie told by Bakonawa when it turned into an old lady";
	mes "in order to take revenge on the swordsman";
	mes "turned into a legend after all these years.";
	next;
	mes "I found out that Bakonawa";
	mes "is nothing but a blood thirsty monster.";
	mes "I must tell what I know to the ^0000FFOld Legend Teller^000000";
	mes "in Malaya.";
	return;
}

malaya,304,100,4	script	Old Man's Granddaughter	576,{
	if (malaya_hi < 20) {
		mes "- He seems cautious of you. -";
		close;
	}
	if (malaya_bakona1 == 0) {
		mes "[Old Man's Granddaughter]";
		mes "Grandpa believes";
		mes "Bakonawa can";
		mes "turn good.";
		mes "Do you think it's possible?";
		close;
	} else if (malaya_bakona1 == 1) {
		mes "[Old Man's Granddaughter]";
		mes "^FF0000Slate Piece^000000?";
		mes "Why would you need something";
		mes "that is barely recognizable?";
		mes "I'll give it to you if you want.";
		next;
		mes "Let's go to the";
		mes "^FF0000Old Legend Teller^000000";
		mes "now that I have the Slate Piece.";
		erasequest 1174;
		setquest 1175;
		set malaya_bakona1,2;
		close;
	} else if (malaya_bakona1 == 2) {
		mes "[Old Man's Granddaughter]";
		mes "Please take this Slate Piece";
		mes "and deliver it to my grandpa.";
		next;
		mes "Let's go to the";
		mes "^FF0000Old Legend Teller^000000";
		mes "now that I have the Slate Piece.";
		close;
	} else {
		mes "[Old Man's Granddaughter]";
		mes "Because of Bakonawa,";
		mes "the village is always unpeaceful.";
		close;
	}
}

malaya,286,269,4	script	Angry Man#bako2	578,{
	if (malaya_hi < 20) {
		mes "- He seems cautious of you. -";
		close;
	}
	mes "[Angry Man]";
	mes "Calm Bakonawa?";
	mes "Do you know how many people have been";
	mes "sacrificed by Bakonawa?";
	mes "I will fight on my own if I have to!";
	close;
}

malaya,276,269,5	script	Calm Woman#bako2	579,{
	if (malaya_hi < 20) {
		mes "- He seems cautious of you. -";
		close;
	}
	mes "[Calm Little Girl]";
	mes "It is too dangerous to fight against";
	mes "Bakonawa. There is a chance";
	mes "it will get more angry and put children and";
	mes "elders in danger.";
	close;
}

malaya,276,262,4	script	Angry Boy#bako2	577,{
	if (malaya_hi < 20) {
		mes "- He seems cautious of you. -";
		close;
	}
	mes "[Angry Boy]";
	mes "I lost my father and my friend";
	mes "to that Bakonawa.";
	mes "I will surely revenge them!";
	close;
}

malaya,283,265,4	script	Village Chief#bako2	580,{
	if (checkweight(1301,3) == 0) {
		mes "You cannot start the conversation. You are carrying too many items. -";
		close;
	}
	if (BaseLevel < 120) {
		mes "[Village Chief]";
		mes "I'm desperate for a helping hand";
		mes "but you look";
		mes "too weak and fragile.";
		next;
		mes "[Village Chief]";
		mes "Please come back when";
		mes "you grow strong enough";
		mes "to match Incubus.";
		close;
	}
	if (malaya_hi < 20) {
		mes "- He seems cautious of you. -";
		close;
	}
	if (malaya_bakona2 == 0) {
		if (malaya_bakona1 <= 5) {
			mes "[Village Chief]";
			mes "I'm don't know what's the right decision.";
			mes "To fight against Bakonawa,";
			mes "or calm it by offering it a sacrificial gift.";
		} else {
			mes "[Village Chief]";
			mes "The legend was all a lie?";
			mes "It seems all the villagers up until now";
			mes "were manipulated by that vile monster.";
			next;
			mes "[Village Chief]";
		}
		mes "Recently, there have been more people that have";
		mes "been harmed by Bakonawa.";
		next;
		mes "[Village Chief]";
		mes "There are some missing villagers";
		mes "but I can't find out if";
		mes "they are simply missing or if they have been";
		mes "killed by Bakonawa.";
		next;
		mes "[Village Chief]";
		mes "I heard that the belongings of the missing people";
		mes "are being found at Baryo Mahiwaga Field.";
		mes "Please go there to find ^0000FFLost Belongings^000000";
		mes "and give them to the families of";
		mes "the missing people";
		mes "in whatever amount they want.";
		next;
		mes "[Village Chief]";
		mes "^0000FFLost Belongings^000000";
		mes "are said to be carried by";
		mes "^FF0000Tiucknuc^000000 that roams Baryo Mahiwaga.";
		next;
		switch(select("Do it yourself.:I'm on my way.")) {
		case 1:
			mes "[Village Chief]";
			mes "You give me a lot to think about.";
			mes "Leave the village at once.";
			close;
		case 2:
			mes "[Village Chief]";
			mes "Let's start then. First,";
			mes "retrieve two ^FF0000Lost Belongings^000000 from Tiucknuc";
			mes "and take them to ^0000FFMissing Person's Father^000000";
			mes "for me.";
			set malaya_bakona2,1;
			setquest 1180;
			close;
		}
	} else if (malaya_bakona2 == 1) {
		mes "[Village Chief]";
		mes "From Tiucknuc that roams Baryo Mahiwaga Field,";
		mes "retrieve two ^FF0000Lost Belongings^000000";
		mes "and deliver them to ^0000FFMissing Person's Father^000000";
		mes "for me.";
		close;
	} else if (malaya_bakona2 == 2) {
		mes "[Village Chief]";
		mes "Retrieve Seven ^FF0000Lost Belongings^000000 from Tiucknuc";
		mes "and deliver them to ^0000FFMissing Person's Friend^000000";
		mes "for me.";
		close;
	} else if (malaya_bakona2 == 3) {
		mes "[Village Chief]";
		mes "Retrieve three ^FF0000Lost Belongings^000000 from Tiucknuc";
		mes "and deliver them to ^0000FFMissing Person's Son^000000";
		mes "for me.";
		close;
	} else if (malaya_bakona2 == 4) {
		mes "[Village Chief]";
		mes "Retrieve five ^FF0000Lost Belongings^000000 from Tiucknuc";
		mes "and deliver them to ^0000FFMissing Person's Mother^000000";
		mes "for me.";
		close;
	} else if (malaya_bakona2 == 5) {
		mes "[Village Chief]";
		mes "So it's clear that all the missing people";
		mes "have been killed by Bakonawa.";
		next;
		mes "[Villagers]";
		mes "Kill Bakonawa!";
		mes "Let's get rid of the monster ourselves!";
		next;
		mes "[Village Chief]";
		mes "It seems we would no longer be able to";
		mes "hold rituals to calm Bakonawa.";
		next;
		mes "[Village Chief]";
		mes "Young Fortune Teller is looking for your help";
		mes "saying that the energy of the moon seems strange.";
		erasequest 1184;
		setquest 1185;
		set malaya_bakona2,6;
//		if (IsPremiumPcCafe == 10)
			getitem 12700,7; //Insideout_Shirt
//		else
//			getitem 12700,5; //Insideout_Shirt
		close;
	} else if (malaya_bakona2 == 6) {
		mes "[Village Chief]";
		mes "Young Fortune Teller is looking for your help";
		mes "saying that the energy of the moon seems strange.";
		close;
	} else if (malaya_bakona2 == 7) {
		mes "[Village Chief]";
		mes "I know that terrible things happened";
		mes "long time ago when the moon disappeared.";
		mes "I hope the moon recovers its strength";
		mes "with your devoted effort.";
		close;
	} else if (malaya_bakona2 == 8) {
		mes "[Village Chief]";
		mes "I will tell the";
		mes "Young Fortune Teller to help you.";
		mes "But before that, there is";
		mes "something you must do immediately.";
		next;
		mes "[Village Chief]";
		mes "We never know when Bakonawa will attack";
		mes "the village so we must set traps near the village";
		mes "entrance and near the cave.";
		next;
		mes "[Village Chief]";
		mes "I would be grateful if you help us.";
		mes "I have dispatched workers";
		mes "near where traps will be set up,";
		mes "so you just have to visit about 5 places.";
		next;
		switch(select("Sounds like too much work.:Sure thing.")) {
		case 1:
			mes "[Village Chief]";
			mes "This operation means life and death to us";
			mes "yet you refuse it easily as if";
			mes "it was some kind of a chore...";
			next;
			mes "[Village Chief]";
			mes "What a hero!";
			close;
		case 2:
			mes "[Village Chief]";
			mes "The first trap will be set up at";
			mes "Baryo Mahiwaga Field";
			mes "near the village entrance. ^0000FFGruffy Worker^000000";
			mes "will be waiting for you. He will be very helpful.";
			erasequest 1187;
			setquest 1188;
			set malaya_bakona2,9;
			close;
		}
	} else if (malaya_bakona2 == 9) {
		mes "[Village Chief]";
		mes "The first trap will be set up at";
		mes "Baryo Mahiwaga Field";
		mes "near the village entrance. ^0000FFGruffy Worker^000000";
		mes "will be waiting for you. He will be very helpful.";
		close;
	} else if (malaya_bakona2 == 10) {
		mes "[Village Chief]";
		mes "The second trap will be set up";
		mes "near a place where it connects from";
		mes "Baryo Mahiwaga Field to Bakonawa Lake.";
		mes "^0000FFGrumpy Worker^000000";
		mes "will be waiting for you. He will be very helpful.";
		close;
	} else if (malaya_bakona2 == 11) {
		mes "[Village Chief]";
		mes "The third trap will be set up";
		mes "near Bakonawa Lake Entrance.";
		mes "^0000FFCowardly Worker^000000";
		mes "will be waiting for you. He will be very helpful.";
		close;
	} else if (malaya_bakona2 == 12) {
		mes "[Village Chief]";
		mes "The fourth trap will be set up";
		mes "near the entrance of Bakonawa Lake as well.";
		mes "^0000FFGloomy Worker^000000 will be waiting for you.";
		mes "He will be very helpful.";
		close;
	} else if (malaya_bakona2 == 13) {
		mes "[Village Chief]";
		mes "The fifth trap will be set up";
		mes "near the entrance of Bakonawa Lake too.";
		mes "^0000FFSentimental Worker^000000";
		mes "will be waiting for you. He will be very helpful.";
		close;
	} else if (malaya_bakona2 == 14) {
		mes "[Village Chief]";
		mes "It looks like the traps are all set up.";
		mes "We just finished our village meeting on";
		mes "what to do about Bakonawa.";
		next;
		mes "[Village Chief]";
		mes "We have concluded that";
		mes "we will fight against Bakonawa.";
		mes "Please help us by";
		mes "attacking his lair.";
		erasequest 1193;
		set malaya_bakona2,15;
		getexp 1000000,600000;
//		if (IsPremiumPcCafe == 10)
			getitem 6497,7; //Lesser_Agimat
//		else
//			getitem 6497,5; //Lesser_Agimat
		close;
	} else if (malaya_bakona2 == 15) {
		mes "[Village Chief]";
		if (malaya_bakona1 < 7) {
			mes "Would you visit ^0000FFOld Legend Teller^000000";
			mes "when you have a chance?";
			mes "I think you would be able to help him.";
			next;
			mes "[Village Chief]";
			mes "Thank you.";
		}
		mes "Please think of the countless victims";
		mes "and defeat Bakonawa";
		mes "for their sake.";
		close;
	}
}

malaya,269,267,5	script	Missing Person's Father	582,{
	if (malaya_hi < 20) {
		mes "- He seems cautious of you. -";
		close;
	}
	if (malaya_bakona2 == 0) {
		mes "[Missing Person's Father]";
		mes "Please find our";
		mes "child.";
		mes "Bakonawa would have not harmed our child.";
		mes "He must be around here somewhere.";
		close;
	} else if (malaya_bakona2 == 1) {
		if (countitem(6501) < 2) {
			mes "[Missing Person's Father]";
			mes "You are looking for two of his ^FF0000Lost Belongings^000000?";
			mes "Are you confident that";
			mes "he already died?";
			close;
		}
		mes "[Missing Person's Father]";
		mes "This... is our child's ^FF0000Lost Belongings^000000";
		mes "for sure.";
		mes "The monster got to him after all....";
		next;
		mes "The man is unable to continue as he tries to hold back his tears.";
		mes "Let's continue to find the lost belongings of the missing people.";
		mes "Let's retrieve them from Tiucknuc that roams Baryo Mahiwaga Field,";
		mes "seven ^FF0000Lost Belongings^000000";
		mes "and deliver them to ^0000FFMissing Person's Friend^000000.";
		delitem 6501,2; //Lost_Belongings
		erasequest 1180;
		setquest 1181;
		set malaya_bakona2,2;
		close;
	} else if (malaya_bakona2 == 2) {
		mes "[Missing Person's Father]";
		mes "My baby... my poor baby...";
		next;
		mes "The man is unable to continue as he tries to hold back his tears.";
		mes "Let's continue to find the lost belongings of the missing people.";
		mes "Retrieve seven ^FF0000Lost Belongings^000000 from Tiucknuc";
		mes "and deliver them to ^0000FFMissing Person's Friend^000000.";
		close;
	} else {
		mes "[Missing Person's Father]";
		mes "My baby... my poor baby...";
		close;
	}
}

malaya,265,274,5	script	Missing Person's Friend	577,{
	if (malaya_hi < 20) {
		mes "- He seems cautious of you. -";
		close;
	}
	if (malaya_bakona2 < 2) {
		mes "[Missing Person's Friend]";
		mes "Please find";
		mes "my friend.";
		mes "We were playing ball together";
		mes "and suddenly my friend disappeared.";
		next;
		mes "[Missing Person's Friend]";
		mes "I'm sure he is alive and well";
		mes "somewhere.";
		close;
	} else if (malaya_bakona2 == 2) {
		if (countitem(6501) < 7) {
			mes "[Missing Person's Friend]";
			mes "You are looking for seven ^FF0000Lost Belongings^000000";
			mes "of my friend?";
			mes "My friend is not dead!";
			close;
		}
		mes "[Missing Person's Friend]";
		mes "These are marbles and toys I gave him...";
		mes "These are clearly ^FF0000Lost Belongings^000000";
		mes "of my friend... Where is my friend?";
		mes "Bring him here, bring him here now!";
		callsub L_Quest;
		delitem 6501,7; //Lost_Belongings
		erasequest 1181;
		setquest 1182;
		set malaya_bakona2,3;
		close;
	} else {
		mes "[Missing Person's Friend]";
		mes "Bring back my friend!";
		mes "Bring back my friend now!";
		mes "My friend is alive,";
		mes "It's all a lie, sob~";
		if (malaya_bakona2 == 3)
			callsub L_Quest;
		close;
	}

L_Quest:
	next;
	mes "Leaving behind the crying boy,";
	mes "let's continue to find the lost belongings of the missing people.";
	mes "Retrieve three ^FF0000Lost Belongings^000000 from Tiucknuc";
	mes "and deliver them to ^0000FFMissing Person's Son^000000.";
	return;
}

malaya,270,278,4	script	Missing Person's Son	578,{
	if (malaya_hi < 20) {
		mes "- He seems cautious of you. -";
		close;
	}
	if (malaya_bakona2 < 3) {
		mes "[Missing Person's Son]";
		mes "Bakonawa has hurt my father?";
		mes "I can't believe this.";
		mes "Please find my father!";
		close;
	} else if (malaya_bakona2 == 3) {
		if (countitem(6501) < 3) {
			mes "[Missing Person's Son]";
			mes "You are looking for three ^FF0000Lost Belongings^000000";
			mes "of my father? Why lost belongings and not my father?";
			mes "No, that can't be it. He is alive somewhere!";
			close;
		}
		mes "[Missing Person's Son]";
		mes "These are clearly his clothes and shoes...";
		mes "These are ^FF0000Lost Belongings^000000 of my father.";
		mes "Oh dear lord... father!";
		callsub L_Quest;
		delitem 6501,3; //Lost_Belongings
		erasequest 1182;
		setquest 1183;
		set malaya_bakona2,4;
		close;
	} else {
		mes "[Missing Person's Son]";
		mes "Why did such a thing happen....";
		if (malaya_bakona2 == 4)
			callsub L_Quest;
		close;
	}

L_Quest:
	next;
	mes "Man crying in agony.";
	mes "Let's continue to find the lost belongings of the missing people.";
	mes "Retrieve five ^FF0000Lost Belongings^000000 from Tiucknuc";
	mes "and deliver them to ^0000FFMissing Person's Mother^000000.";
	return;
}

malaya,265,284,4	script	Missing Person's Mother	579,{
	if (malaya_hi < 20) {
		mes "- He seems cautious of you. -";
		close;
	}
	if (malaya_bakona2 < 4) {
		mes "[Missing Person's Mother]";
		mes "Please find my child.";
		mes "I sent her out to do a chore";
		mes "and she still isn't back.";
		close;
	} else if (malaya_bakona2 == 4) {
		if (countitem(6501) < 5) {
			mes "[Missing Person's Mother]";
			mes "You are looking for five ^FF0000Lost Belongings^000000 of my child?";
			mes "What does this mean?";
			mes "Are you saying my child is dead?";
			close;
		}
		mes "[Missing Person's Mother]";
		mes "This is my child's hair comb.";
		mes "Why do you have five ^FF0000Lost Belongings^000000 of my child?";
		mes "Why...? She's... dead?";
		next;
		mes "[Missing Person's Mother]";
		mes "No wait... I think I hear her voice.";
		mes "She's going to be home soon. I should go home now.";
		mes "I should prepare a dinner for her. She must be starving.";
		mes "Ha ha...";
		next;
		mes "A mother that has gone mad...";
		mes "Now that I finished finding the missing people,";
		mes "I should report back to the Village Chief.";
		delitem 6501,5; //Lost_Belongings
		erasequest 1183;
		setquest 1184;
		set malaya_bakona2,5;
		close;
	} else {
		mes "[Missing Person's Mother]";
		mes "Ha ha ha... I can hear my child's voice,";
		mes "just listen closely.";
		mes "Can't you hear her calling her mother?";
		mes "Ha ha ha...";
		next;
		mes "A mother that has gone mad...";
		if (malaya_bakona2 == 5) {
			mes "Now that I finished finding the missing people,";
			mes "I should report back to the Village Chief.";
		}
		close;
	}
}

malaya,289,364,4	script	Young Fortune Teller	583,{
	if (checkweight(1301,3) == 0) {
		mes "You cannot start the conversation. You are carrying too many items. -";
		close;
	}
	if (malaya_hi < 20) {
		mes "- He seems cautious of you. -";
		close;
	}
	if (malaya_bakona2 < 6) {
		mes "[Young Fortune Teller]";
		mes "The energy of the moon grew weak.";
		mes "The reason there are more monsters,";
		mes "and the reason there are more victims,";
		mes "is all because of this.";
		close;
	} else if (malaya_bakona2 == 6) {
		mes "[Young Fortune Teller]";
		mes "The energy of the moon grew weak for a couple of days.";
		mes "The reason there are more monsters,";
		mes "and the reason there are more victims, is all because of this.";
		next;
		mes "[Young Fortune Teller]";
		mes "I'm trying to hold a ritual";
		mes "that will restore the moon's energy by sacrificing monsters' blood,";
		mes "so I need you to hunt fifteen ^FF0000Tikbalang^000000";
		mes "at Baryo Mahiwaga Field.";
		next;
		switch(select("It's none of my business.:You can count on me.")) {
		case 1:
			mes "[Young Fortune Teller]";
			mes "You are so selfish!";
			mes "During the ritual,";
			mes "I will pray for your bad luck too.";
			close;
		case 2:
			mes "[Young Fortune Teller]";
			mes "Hurry.";
			mes "If the moon completely disappears,";
			mes "there will be a great disaster.";
			erasequest 1185;
			setquest 1186;
			set malaya_bakona2,7;
			close;
		}
	} else if (malaya_bakona2 == 7) {
		if (checkquest(1186,HUNTING) == 2) {
			mes "[Young Fortune Teller]";
			mes "It looks like you took care of ^FF0000Tikbalang^000000";
			mes "well enough.";
			mes "I think I can start the ritual now.";
			mes "There are some items that we need, please go to";
			mes "the Village Chief for help.";
			erasequest 1186;
			setquest 1187;
			set malaya_bakona2,8;
//			if (IsPremiumPcCafe == 10)
				getitem 12699,7; //Tikbalang_Belt
//			else
//				getitem 12699,5; //Tikbalang_Belt
			close;
		} else {
			mes "[Young Fortune Teller]";
			mes "I need you to hunt fifteen ^FF0000Tikbalang^000000";
			mes "at Baryo Mahiwaga Field.";
			next;
			mes "[Young Fortune Teller]";
			mes "Hurry.";
			mes "If the moon completely disappears,";
			mes "there will be a great disaster.";
			close;
		}
	} else if (malaya_bakona2 == 8) {
		mes "[Young Fortune Teller]";
		mes "I think I can start the ritual now.";
		mes "There are some items that we need, please go to";
		mes "the Village Chief for help.";
		close;
	} else {
		mes "[Young Fortune Teller]";
		mes "On the day when the moon fully disappears,";
		mes "the dragon will attack the village.";
		mes "No one will be safe.";
		close;
	}
	end;
}

ma_fild01,54,253,4	script	Gruffy Worker#bako2	582,{
	if (malaya_bakona2 < 9) {
		mes "[Gruffy Worker]";
		mes "The Village Chief told me to";
		mes "wait for you here.";
		close;
	} else if (malaya_bakona2 == 9) {
		mes "[Gruffy Worker]";
		mes "The trap will be set right in front.";
		mes "Walk forward a little.";
		close;
	} else if (malaya_bakona2 == 10) {
		mes "[Gruffy Worker]";
		mes "You can find the";
		mes "Grumpy Worker near where";
		mes "Baryo Mahiwaga Field connects to Bakonawa Lake.";
		mes "Go and set up the trap together.";
		close;
	} else {
		mes "[Gruffy Worker]";
		mes "Are you trying to advertise that";
		mes "there is a trap here? Step aside.";
		close;
	}
	end;
}

ma_fild01,54,244,0	script	#bako2	139,2,2,{
	end;
OnTouch:
	if (malaya_bakona2 == 9) {
		mes "I should set up the trap";
		mes "right about here.";
		next;
		mes "[Gruffy Worker]";
		mes "Using the tools like this";
		mes "bang bang bang!";
		next;
		mes "bang bang bang!";
		next;
		mes "The trap is now set.";
		next;
		mes "[Gruffy Worker]";
		mes "You can find the";
		mes "Grumpy Worker near where";
		mes "Baryo Mahiwaga Field connects to Bakonawa Lake.";
		mes "Go and set up the trap together.";
		erasequest 1188;
		setquest 1189;
		set malaya_bakona2,10;
		close;
	} else if (malaya_bakona2 == 10) {
		mes "The trap has been set up here.";
		next;
		mes "[Gruffy Worker]";
		mes "This trap is not meant to capture you,";
		mes "so move.";
		next;
		mes "[Gruffy Worker]";
		mes "You can find the";
		mes "Grumpy Worker near where";
		mes "Baryo Mahiwaga Field connects to Bakonawa Lake.";
		mes "Go there to him.";
		close;
	}
	end;
}

ma_fild01,236,119,5	script	Grumpy Worker#bako2	577,{
	if (malaya_bakona2 < 10) {
		mes "[Grumpy Worker]";
		mes "Village Chief told me to";
		mes "wait for you here.";
		mes "Sooo boring!";
		close;
	} else if (malaya_bakona2 == 10) {
		mes "[Grumpy Worker]";
		mes "A hole needs to be dug up in front of here?";
		mes "I have to dig too?";
		mes "Says who?";
		close;
	} else if (malaya_bakona2 == 11) {
		mes "[Grumpy Worker]";
		mes "Go find the Cowardly Worker";
		mes "near the entrance of Bakonawa Lake.";
		mes "Come on, move it!";
		close;
	} else {
		mes "[Grumpy Worker]";
		mes "I set up the trap";
		mes "and you are advertising that it's here.";
		mes "Scram!";
		close;
	}
}

ma_fild01,242,116,0	script	#bako3	139,2,2,{
	end;
OnTouch:
	if (malaya_bakona2 == 10) {
		mes "I should set up the trap";
		mes "right about here.";
		next;
		mes "[Grumpy Worker]";
		mes "I really don't like it here!";
		mes "...";
		mes "With this pickax,";
		mes "dig dig dig!";
		next;
		mes "dig dig dig!";
		next;
		mes "The trap is now set.";
		next;
		mes "[Grumpy Worker]";
		mes "Go find the Cowardly Worker";
		mes "near the entrance of Bakonawa Lake.";
		mes "Come on, move it!";
		erasequest 1189;
		setquest 1190;
		set malaya_bakona2,11;
		close;
	} else if (malaya_bakona2 == 11) {
		mes "The trap has been set up here.";
		next;
		mes "[Grumpy Worker]";
		mes "Are you trying to test";
		mes "with your body if the trap works?";
		mes "Move aside!";
		next;
		mes "[Grumpy Worker]";
		mes "Go find the Cowardly Worker";
		mes "near the entrance of Bakonawa Lake.";
		mes "Come on, move it!";
		close;
	}
	end;
}

ma_scene01,177,89,4	script	Cowardly Worker#bako2	578,{
	if (malaya_bakona2 < 11) {
		mes "[Cowardly Worker]";
		mes "Village Chief told me to";
		mes "wait for you here.";
		mes "Why me? I have a bad feeling about this....";
		close;
	} else if (malaya_bakona2 == 11) {
		mes "[Cowardly Worker]";
		mes "set up a trap in front of here?";
		mes "Village Chief said I have to help too?";
		mes "Can you please do it by yourself?";
		close;
	} else if (malaya_bakona2 == 12) {
		mes "[Cowardly Worker]";
		mes "Go up and you will";
		mes "find the Gloomy Worker.";
		mes "Go! You scare me.";
		mes "You look like you are going to beat me up.";
		close;
	} else {
		mes "[Cowardly Worker]";
		mes "Go away!";
		mes "What if Bakonawa";
		mes "appears because of you?";
		mes "I'm scared to death!";
		close;
	}
	end;
}

ma_scene01,179,85,0	script	#bako4	139,2,2,{
	end;
OnTouch:
	if (malaya_bakona2 == 11) {
		mes "I should set up the trap";
		mes "right about here.";
		next;
		mes "[Cowardly Worker]";
		mes "There is nothing weird";
		mes "buried here right?";
		mes "...";
		mes "Using the shovel, dig dig dig!";
		next;
		mes "dig dig dig!";
		next;
		mes "The trap is now set.";
		next;
		mes "[Cowardly Worker]";
		mes "Go up and you will";
		mes "find the Gloomy Worker.";
		erasequest 1190;
		setquest 1191;
		set malaya_bakona2,12;
		close;
	} else if (malaya_bakona2 == 12) {
		mes "The trap has been set up here.";
		next;
		mes "[Cowardly Worker]";
		mes "Step aside immediately!";
		mes "Bakonawa might find out this is a trap";
		mes "and come for us.";
		next;
		mes "[Cowardly Worker]";
		mes "Go up and you will";
		mes "find the Gloomy Worker.";
		emotion e_swt,1;
		close;
	}
	end;
}

ma_scene01,141,118,4	script	Gloomy Worker#bako2	582,{
	if (malaya_bakona2 < 12) {
		mes "[Gloomy Worker]";
		mes "Village Chief told me to wait for you here.";
		mes "He must want me to do something.";
		mes "Whew...";
		close;
	} else if (malaya_bakona2 == 12) {
		mes "[Gloomy Worker]";
		mes "set up a trap on the left side?";
		mes "I don't think it will be much use...";
		mes "Whew, I should've moved away or something...";
		close;
	} else if (malaya_bakona2 == 13) {
		mes "[Gloomy Worker]";
		mes "We are all gonna die anyway by Bakonawa.";
		mes "This is pointless.";
		mes "Just go up the path and you will find";
		mes "Sentimental Worker.";
		close;
	} else {
		mes "[Gloomy Worker]";
		mes "Bakonawa is going to attack us anyway.";
		mes "What pointless work...";
		close;
	}
	end;
}

ma_scene01,138,122,0	script	#bako5	139,2,2,{
	end;
OnTouch:
	if (malaya_bakona2 == 12) {
		mes "I should set up the trap";
		mes "right about here.";
		next;
		mes "[Gloomy Worker]";
		mes "Just catch this net,";
		mes "throw throw!";
		next;
		mes "throw throw!";
		next;
		mes "The trap is now set.";
		next;
		mes "[Gloomy Worker]";
		mes "Just go up the path and you will find";
		mes "Sentimental Worker.";
		mes "Though I doubt it will be much help.";
		erasequest 1191;
		setquest 1192;
		set malaya_bakona2,13;
		close;
	} else if (malaya_bakona2 == 13) {
		mes "The trap has been set up here.";
		next;
		mes "[Gloomy Worker]";
		mes "The trap is meaningless.";
		mes "See? It doesn't even work.";
		close;
	}
	end;
}

ma_scene01,175,170,5	script	Sentimental Worker#bako2	578,{
	if (malaya_bakona2 < 13) {
		mes "[Sentimental Worker]";
		mes "Village Chief told me to wait for you here.";
		mes "Is there a some kind of surprise event?";
		mes "My heart is beating faster~";
		close;
	} else if (malaya_bakona2 == 13) {
		mes "[Sentimental Worker]";
		mes "Wow! So we are going to work together";
		mes "to set up a trap behind this place?";
		mes "This is sooo cool!";
		mes "This is the coolest thing in the world!";
		close;
	} else if (malaya_bakona2 == 14) {
		mes "[Sentimental Worker]";
		mes "Now that the trap is set,";
		mes "Are we going to report back to Village Chief?";
		mes "Oh what fun!";
		mes "It sounds so exiting!";
		close;
	} else {
		mes "[Sentimental Worker]";
		mes "More I think about it, more exited I get.";
		mes "I'm secretly guarding the trap!";
		mes "I want to hear out loud.";
		mes "I have a trap in front of me! Ha ha ha ha~";
		emotion e_swt2,1;
		close;
	}
	end;
}

ma_scene01,171,174,0	script	#bako6	139,2,2,{
	end;
OnTouch:
	if (malaya_bakona2 == 13) {
		mes "I should set up the trap";
		mes "right about here.";
		next;
		mes "[Sentimental Worker]";
		mes "Wow! This really is a perfect place";
		mes "to set up a trap.";
		mes "I'm going to throw the rope!";
		mes "Here goes the rope!";
		next;
		mes "Here goes the rope!";
		next;
		mes "The trap is now set.";
		mes "Let's go to the Village Chief";
		mes "now that the trap is set.";
		erasequest 1192;
		setquest 1193;
		set malaya_bakona2,14;
		close;
	} else if (malaya_bakona2 == 14) {
		mes "The trap is set here.";
		next;
		mes "[Sentimental Worker]";
		mes "Try out the trap first!";
		mes "I'm so curious";
		mes "what would happen!";
		mes "It's going to be so much fun!";
		close;
	}
	end;
}

// Original name: "Bakonawa Introduction Quest Helper#bako1"
sec_in02,10,16,5	script	Bakonawa Intro Helper	543,{
	if (callfunc("F_GM_NPC",1854,0) < 1) {
		mes "Seafood and Black Bean Sauce Noodle!";
		close;
	}
	mes "[Briquet Scheme]";
	mes "Just boldly tell me";
	mes "what is it that you want!";
	next;
	switch(select("Reset all quests:Just before the end of first quest:Reset secondary quest:Distribution of lost belongings:Just after hunting")) {
	case 1:
		mes "Here you go!";
		set malaya_bakona1,0;
		set malaya_bakona2,0;
		for(set .@i,1174; .@i<=1193; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		close;
	case 2:
		mes "[Briquet Scheme]";
		mes "Here you go!";
		set malaya_bakona1,6;
		for(set .@i,1174; .@i<=1178; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		setquest 1179;
		close;
	case 3:
		mes "[Briquet Scheme]";
		mes "Here you go!";
		set malaya_bakona2,0;
		for(set .@i,1180; .@i<=1193; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		close;
	case 4:
		mes "[Briquet Scheme]";
		mes "Here you go!";
		getitem 6520,17; //Lost_Belongings
		close;
	case 5:
		mes "[Briquet Scheme]";
		mes "Here you go!";
		set malaya_bakona2,8;
		setquest 1187;
		for(set .@i,1178; .@i<=1193; set .@i,.@i+1) {
			if (checkquest(.@i) > -1)
				erasequest .@i;
		}
		close;
	}
}

// Nurse in Port Malaya :: malaya_bang
//============================================================
function	script	F_Malaya_Nurse	{
	if (malaya_bang == 30) {
		mes "[Nurse Las]";
		mes "A talisman?";
		mes "I think you should search for something else.";
		cutin "malaya_nurseA01",2;
		callsub L_Warp, getarg(0);
	} else if (malaya_bang == 31) {
		mes "[Nurse Las]";
		mes "A talisman and a person?";
		cutin "malaya_nurseA01",2;
		next;
		mes "[Nurse Las]";
		mes "I did see the talisman but I didn't go near it because I got a bad feeling about it.";
		next;
		mes "[Nurse Las]";
		mes "Oh!";
		mes "Speaking of talismans, wouldn't that old lady know about them, since she put some around the village?";
		mes "I think it'll be a good idea to ask her.";
		set malaya_bang,32;
		changequest 11303,11304;
		callsub L_Warp, getarg(0), 1;
	} else if (malaya_bang == 32) {
		mes "[Nurse Las]";
		mes "Oh!";
		mes "Speaking of talismans, wouldn't that old lady know about them, since she put some around the hospital?";
		mes "I think it'll be a good idea to ask her.";
		cutin "malaya_nurseA01",2;
		callsub L_Warp, getarg(0), 1;
	} else if (malaya_bang == 33) {
		mes "[Nurse Las]";
		mes "A shaman... Best if we met her.";
		cutin "malaya_nurseA01",2;
		callsub L_Warp, getarg(0), 1;
	} else if (malaya_bang == 34) {
		mes "[Nurse Las]";
		mes "Oh!";
		mes "You must have met her.";
		mes "I feel something strong...";
		cutin "malaya_nurseA01",2;
		next;
		select("Tell her about the talisman.");
		mes "[Nurse Las]";
		mes "Yes!";
		mes "I have an idea.";
		mes "How about we stick that one over the one we saw on the 2nd floor door?";
		emotion e_ic;
		next;
		mes "[Nurse Las]";
		mes "Maybe it will block the bad energy it's giving out.";
		set malaya_bang,35;
		changequest 11306,11307;
		callsub L_Warp, getarg(0), 1;
	} else if (malaya_bang == 35) {
		mes "[Nurse Las]";
		mes "Yes!";
		mes "I have an idea.";
		mes "How about we stick that one over the one we saw on the 2nd floor door?";
		emotion e_ic;
		cutin "malaya_nurseA01",2;
		next;
		mes "[Nurse Las]";
		mes "Maybe it will block the bad energy it's giving out.";
		callsub L_Warp, getarg(0), 1;
	} else if (malaya_bang == 36) {
		callsub L_Weight;
		mes "[Nurse Maenne]";
		mes "*Sigh*...";
		mes "I thought it strange when you were standing behind me....";
		cutin "malaya_nurseB",2;
		next;
		mes "[Nurse Maenne]";
		mes "I didn't think you'd do something like this.";
		emotion e_dots;
		next;
		mes "[Nurse Maenne]";
		mes "We were just about to enter Bangungot's room, before we were thrown out...";
		next;
		switch(select("Bangungot?:Nurse Maenne?")) {
		case 1:
			callsub L_Bangungot;
			select("Nurse Maenne");
			callsub L_Maenne;
			break;
		case 2:
			callsub L_Maenne;
			select("Bangungot");
			callsub L_Bangungot;
			break;
		}
		callsub L_Incomplete;
		set malaya_bang,42;
		changequest 11308,11309;
		callsub L_Reward;
		callsub L_Warp, getarg(0), 1;
	} else if (malaya_bang == 40) {
		callsub L_Weight;
		if (checkquest(11309,HUNTING) == 2) {
			callsub L_Complete;
			set malaya_bang,41;
			completequest 11309;
			callsub L_Reward;
			callsub L_Warp, getarg(0), 1;
		} else {
			callsub L_Incomplete;
			set malaya_bang,42;
			callsub L_Reward;
			callsub L_Warp, getarg(0);
		}
	} else if (malaya_bang > 40) {
		if (malaya_bang == 42) {
			if (checkquest(11309,HUNTING) == 2) {
				callsub L_Complete;
				set malaya_bang,41;
				completequest 11309;
				callsub L_Warp, getarg(0), 1;
			} else {
				callsub L_Incomplete;
				callsub L_Warp, getarg(0);
			}
		}
		callsub L_Incomplete;
		switch(getarg(0)) {
		case 1:
			next;
			switch(select("Enter the hospital.:Quit.")) {
			case 1:
				callsub L_Warp, getarg(0);
			case 2:
				mes "[Nurse Maenne]";
				mes "Hmmm...";
				close2;
				cutin "",255;
				end;
			}
		case 2:
			callsub L_Warp, getarg(0);
		}
	}
	return;

L_Weight:
	if (checkweight(1201,1) == 0) {
		mes "- Wait !! -";
		mes "- You have too many items. -";
		mes "- Cannot receive item. -";
		mes "- Please lighten your bag -";
		mes "- and try again. -";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "- Wait !! -";
		mes "- You are carrying too many items. -";
		mes "- Cannot receive item. -";
		mes "- Please lighten your bag -";
		mes "- and try again. -";
		close;
	}
	return;

L_Warp:
	switch(getarg(0)) {
	case 1:
		close2;
		cutin "",255;
		if (getarg(1,0) == 0)
			warp "ma_dun01",33,110;
		end;
	case 2:
		next;
		switch(select("Go outside.:Quit.")) {
		case 1:
			close2;
			cutin "",255;
			warp "malaya",58,76;
			end;
		case 2:
			mes "[Nurse Las]";
			mes "Tsk...";
			close2;
			cutin "",255;
			end;
		}
	}

L_Reward:
//	if (IsPremiumPcCafe == 10) {
		getitem 6499,5; //Ancient_Grudge
		getitem 6497,10; //Lesser_Agimat
//	} else {
//		getitem 6499,3; //Ancient_Grudge
//		getitem 6497,5; //Lesser_Agimat
//	}
	getitem 617,1; //Old_Violet_Box
	getexp 1000000,0;
	return;

L_Bangungot:
	mes "[Nurse Maenne]";
	mes "It's a vicious monster roaming this hospital.";
	next;
	mes "[Nurse Maenne]";
	mes "Hmmmm...";
	mes "It's not exactly a monster....";
	mes "More like a curse or disease...";
	next;
	mes "[Nurse Maenne]";
	mes "There's a story saying that it used to be a wood fairy.";
	next;
	mes "[Nurse Maenne]";
	mes "Anyway, it doesnt change the fact that she killed the patients of this hospital and turned them into monsters.";
	next;
	return;

L_Maenne:
	mes "[Nurse Maenne]";
	mes "Me?";
	mes "As you can see, I'm the new nurse here.";
	mes "I'm a nurse who specializes in 'this' kind of work, instead of looking after patients.";
	cutin "malaya_nurseB",2;
	next;
	mes "[Nurse Maenne]";
	mes "Oh!";
	mes "The Bangungot pretended to be me?";
	next;
	mes "[Nurse Maenne]";
	mes "Seeing how much it rattled you.";
	mes "It's a rather smart one.";
	next;
	mes "[Nurse Maenne]";
	mes "Simply said, I cure unnatural phenomenon around hospitals.";
	next;
	mes "[Nurse Maenne]";
	mes "Many things happen in the world.";
	next;
	return;

L_Complete:
	mes "[Nurse Maenne]";
	mes "She may have rooted here deeper than I thought.";
	mes "I can still feel her presence.";
	cutin "malaya_nurseB",2;
	next;
	mes "[Nurse Maenne]";
	mes "What you killed was a part of her...";
	mes "But, it was a big help since you confused and damaged her at the same time.";
	next;
	mes "[Nurse Maenne]";
	mes "It makes things a lot easier.";
	mes "Thank you.";
	return;

L_Incomplete:
	mes "[Nurse Maenne]";
	mes "It would've been easier if she was apart from her body, but now that she returned to her room, this is going to be a little tricky.";
	cutin "malaya_nurseB",2;
	next;
	mes "[Nurse Maenne]";
	mes "Of course, don't you dare walk away from this, since you disturbed my job and led her to her room.";
	next;
	mes "[Nurse Maenne]";
	mes "If you make it to the 2nd floor door, I'll open a small door to her room for you.";
	mes "After that, she's all yours.";
	return;
}

malaya,55,72,4	script	Nurse#ma_n1	569,{
	if (malaya_hi < 20) {
		mes "[Nurse]";
		mes "People of this town are too cautious of outsiders.";
		emotion e_ag;
		cutin "malaya_nurseA01",2;
		next;
		mes "[Nurse]";
		mes "I'm sure they have their reasons, but I wish they'd tell me how to get closer...";
		close2;
		cutin "",255;
		end;
	}
	if (BaseLevel < 100) {
		mes "There's a nurse outside the hospital holding a large bag.";
		mes "I don't think I can help her.";
		close;
	}
	if (malaya_bang == 0) {
		mes "[Nurse]";
		mes "Hey, hold on.";
		mes "Are you planning on going inside?";
		cutin "malaya_nurseA01",2;
		next;
		switch(select("Yes.:No.")) {
		case 1:
			mes "[Nurse]";
			mes "Oh~";
			mes "I'm so glad!";
			mes "I was literally waiting all day for someone to some by.";
			cutin "malaya_nurseA02",2;
			next;
			switch(select("About the hospital:Reason for stalling me:Ignore.")) {
			case 1:
				mes "[Nurse]";
				mes "This hospital is the only one in town.";
				mes "And it's going to be my new job.";
				cutin "malaya_nurseA03",2;
				next;
				mes "[Nurse]";
				mes "I heard it was just built, but it seems so creepy....";
				emotion e_swt;
				next;
				mes "[Nurse]";
				mes "I was surprised when I got here too.";
				mes "It says 'closed' all around it!";
				next;
				select("Reason for stalling me.");
				mes "[Nurse]";
				mes "I was told that they needed nurses in this town,";
				mes "so I came here after turning down numerous proposals.";
				next;
				mes "[Nurse]";
				mes "I'd heard they were really cautious of outsiders...";
				next;
				mes "[Nurse]";
				mes "Not even a soul to welcome me, let alone a party!";
				mes "Shocking!";
				emotion e_sob;
				next;
				mes "[Nurse]";
				mes "What's more, I made it here after being lost and now I'm facing a creepy and locked hospital!";
				next;
				break;
			case 2:
				mes "[Nurse]";
				mes "I was told that they needed nurses in this town,";
				mes "so I came here after turning down numerous proposals.";
				cutin "malaya_nurseA03",2;
				next;
				mes "[Nurse]";
				mes "I'd heard they were really cautious of outsiders...";
				next;
				mes "[Nurse]";
				mes "Not even a soul to welcome me, let alone a party!";
				mes "Shocking!";
				emotion e_sob;
				next;
				mes "[Nurse]";
				mes "What's more, I made it here after being lost and now I'm facing a creepy and locked hospital!";
				next;
				select("About the hospital");
				mes "[Nurse]";
				mes "This hospital is the only one in town.";
				mes "And it's going to be my new job.";
				next;
				mes "[Nurse]";
				mes "I heard it was just built, but it seems so creepy....";
				emotion e_swt;
				next;
				mes "[Nurse]";
				mes "I was surprised when I got here too.";
				mes "It says 'closed' all around it!";
				next;
				break;
			case 3:
				mes "[Nurse]";
				mes "Yes, you must be busy.";
				mes "Oh, well.";
				mes "I'll let you be on your way.";
				mes "Don't mind me. *Sob*";
				emotion e_sob;
				cutin "malaya_nurseA03",2;
				close2;
				cutin "",255;
				end;
			}
			break;
		case 2:
			mes "[Nurse]";
			mes "Oh, I see...";
			emotion e_sob;
			close2;
			cutin "",255;
			end;
		}
		mes "[Nurse]";
		mes "Now that you say it... If you're going inside, could you take me with you?";
		cutin "malaya_nurseA04",2;
		next;
		mes "[Nurse]";
		mes "Doors are locked!";
		mes "My bags are heavy!";
		mes "And my legs are killing me.";
		cutin "malaya_nurseA03",2;
		next;
		mes "[Nurse]";
		mes "If I knew this was going to happen, I would've worn ER night-shift shoes instead of first-day shoes... *sniff*";
		emotion e_sob;
		next;
		switch(select("Help.:Don't help.")) {
		case 1:
			mes "[Nurse]";
			mes "*Sob*";
			mes "I guess this world is still worth living in.";
			mes "You are too kind.";
			emotion e_sob;
			next;
			mes "[Nurse Las]";
			mes "I'm 'Las', who's supposed to work in this hospital.";
			mes "By the looks of it, though, I may become jobless...";
			next;
			mes "[Nurse Las]";
			mes "Let's start by getting inside.";
			next;
			mes "[Nurse Las]";
			mes "Before that....";
			mes "Could you get something to wrap my feet? I can't put my shoes on because I've got blisters.";
			emotion e_hlp;
			cutin "malaya_nurseA04",2;
			next;
			mes "[Nurse Las]";
			mes "2 Rotten Bandages should do to wrap both my feet. They may look dirty, but they have special liquid on them that have amazing effects.";
			set malaya_bang,1;
			setquest 11284;
			close2;
			cutin "",255;
			end;
		case 2:
			mes "[Nurse]";
			mes "Yes, you must be busy.";
			mes "Oh, well.";
			mes "I'll let you be on your way.";
			mes "Don't mind me. *Sob*";
			emotion e_sob;
			cutin "malaya_nurseA03",2;
			close2;
			cutin "",255;
			end;
		}
	} else if (malaya_bang == 1) {
		if (countitem(930) > 1) {
			mes "[Nurse Las]";
			mes "Oh......";
			mes "I know they're effective but... Not so tempting.";
			cutin "malaya_nurseA01",2;
			next;
			mes "[Nurse Las]";
			mes "Rotten Bandages... A fit name for something that seems to have been cut fresh from a mummy.";
			next;
			mes "[Nurse Las]";
			mes "I'm having second thoughts looking at them, but as I am to be a professional nurse!!";
			mes "Here goes nothing!!!";
			mes "Ewwww!!";
			next;
			mes "[Nurse Las]";
			mes "*Squish*";
			mes "*Squelch*";
			delitem 930,2; //Rotten_Bandage
			set malaya_bang,2;
			close2;
			cutin "",255;
			end;
		} else {
			mes "[Nurse Las]";
			mes "Before that...";
			mes "Could you get something to wrap my feet? I can't put my shoes on because I've got blisters.";
			emotion e_hlp;
			cutin "malaya_nurseA03",2;
			next;
			mes "[Nurse Las]";
			mes "2 Rotten Bandages should do to wrap both my feet. They may look dirty, but they have special liquid on that have with amazing effects.";
			close2;
			cutin "",255;
			end;
		}
	} else if (malaya_bang == 2) {
		mes "[Nurse Las]";
		mes "Ahhhhh...";
		mes "My feet feel a lot better now, but it smells funny.";
		cutin "malaya_nurseA01",2;
		next;
		mes "[Nurse Las]";
		mes "Oh...... the smell......";
		mes "My new shoes will be ruined...";
		emotion e_swt2;
		next;
		mes "[Nurse Las]";
		mes "Okay!!!!!!";
		mes "I don't know if it's locked or stuck, let's try pushing it together!";
		set malaya_bang,3;
		changequest 11284,11285;
		close2;
		cutin "",255;
		end;
	} else if (malaya_bang == 3) {
		mes "[Nurse Las]";
		mes "Okay!!!!!!";
		mes "I don't know if it's locked or stuck, let's try pushing it together!";
		cutin "malaya_nurseA01",2;
		close2;
		cutin "",255;
		end;
	} else if (malaya_bang == 4) {
		mes "["+strcharinfo(0)+"]";
		mes "We pushed and pulled, but it won't budge.";
		emotion e_swt2,1;
		next;
		mes "[Nurse Las]";
		mes "Strange~";
		mes "They wouldn't have sent me to a closed down hospital.";
		cutin "malaya_nurseA03",2;
		next;
		mes "[Nurse Las]";
		mes "Hmmm!";
		mes "I can't stand it anymore!";
		emotion e_an;
		next;
		mes "[Nurse Las]";
		mes "Could you ask the townsfolk about the hospital while I contact HQ?";
		cutin "malaya_nurseA01",2;
		next;
		mes "[Nurse Las]";
		mes "Hey, why don't you start with that girl over there?";
		mes "Perhaps she'll tell you something.";
		set malaya_bang,5;
		changequest 11286,11287;
		close2;
		cutin "",255;
		end;
	} else if (malaya_bang == 5) {
		mes "[Nurse Las]";
		mes "Could you ask the townsfolk about the hospital while I contact HQ?";
		cutin "malaya_nurseA01",2;
		next;
		mes "[Nurse Las]";
		mes "Hey, why don't you start with that girl over there?";
		mes "Perhaps she'll tell you something.";
		close2;
		cutin "",255;
		end;
	} else if (malaya_bang == 6) {
		mes "[Nurse Las]";
		mes "What did she say?";
		emotion e_what;
		cutin "malaya_nurseA02",2;
		next;
		select("Tell her what she said.");
		mes "[Nurse Las]";
		mes "Strange.";
		mes "HQ confirmed that I am assigned here.";
		cutin "malaya_nurseA01",2;
		next;
		mes "[Nurse Las]";
		mes "Maybe that girl doesn't know about this place?";
		mes "HQ couldn't have sent me here and be lying about it. Could you ask someone else in town?";
		next;
		mes "[Nurse Las]";
		mes "I'll contact HQ again for more info.";
		mes "Hey, why not ask that man over there?";
		mes "I'm sure he'll know something.";
		set malaya_bang,7;
		changequest 11288,11289;
		close2;
		cutin "",255;
		end;
	} else if (malaya_bang == 7) {
		mes "[Nurse Las]";
		mes "I'll contact HQ again for more info.";
		mes "Hey, why not ask that man over there?";
		mes "I'm sure he'll know something.";
		cutin "malaya_nurseA01",2;
		close2;
		cutin "",255;
		end;
	} else if (malaya_bang == 8) {
		mes "[Nurse Las]";
		mes "An inn?";
		mes "Good gracious!";
		mes "If they'd have told me earlier I wouldn't have had to stand out here for so long!";
		emotion e_pif;
		cutin "malaya_nurseA01",2;
		next;
		mes "[Nurse Las]";
		mes "Ummm......";
		mes "......";
		mes "......";
		next;
		mes "[Nurse Las]";
		mes "Hey... you know what...";
		next;
		mes "[Nurse Las]";
		mes "I don't think I can move anymore because of my feet. Could you go to the inn for me?";
		emotion e_swt2;
		cutin "malaya_nurseA03",2;
		next;
		mes "[Nurse Las]";
		mes "I can't carry my bags around so I'll stay here and watch over them while I treat my feet.";
		next;
		mes "[Nurse Las]";
		mes "I have to be back here again anyway.";
		mes "Thank you.";
		set malaya_bang,9;
		changequest 11290,11291;
		close2;
		cutin "",255;
		end;
	} else if (malaya_bang == 9) {
		mes "[Nurse Las]";
		mes "I don't think I can move anymore because of my feet. Could you go to the inn for me?";
		emotion e_swt2;
		cutin "malaya_nurseA03",2;
		next;
		mes "[Nurse Las]";
		mes "I can't carry my bags around so I'll stay here and watch over them while I treat my feet.";
		next;
		mes "[Nurse Las]";
		mes "I have to be back here again anyway.";
		mes "Thank you.";
		close2;
		cutin "",255;
		end;
	} else if (malaya_bang == 10) {
		mes "[Nurse Las]";
		mes "Hey~";
		mes "How'd it go?";
		cutin "malaya_nurseA02",2;
		next;
		select("Hand over the key and message.");
		mes "[Nurse Las]";
		mes "Keys?";
		mes "Well this is one step closer to my goals!";
		mes "Let's open the door right now!";
		set malaya_bang,11;
		close2;
		cutin "",255;
		end;
	} else if (malaya_bang == 11) {
		mes "[Nurse Las]";
		mes "Keys?";
		mes "Well this is one step closer to my goals!";
		mes "Let's open the door right now!";
		cutin "malaya_nurseA02",2;
		close2;
		cutin "",255;
		end;
	} else if (malaya_bang == 12) {
		mes "[Nurse Las]";
		mes "That's weird~!";
		mes "The door's not locked?";
		mes "How can this be?????";
		mes "????";
		emotion e_what;
		emotion e_what,1;
		cutin "malaya_nurseA04",2;
		next;
		mes "[Nurse Las]";
		mes "Oh no!!!";
		mes "Everything's falling apart.";
		mes "Maybe we should wait for the doctor to come.....";
		cutin "malaya_nurseA03",2;
		next;
		mes "[???]";
		mes "...";
		cutin "",255;
		next;
		mes "[???]";
		mes "*Snigger*";
		emotion e_what,1;
		emotion e_what;
		next;
		mes "[???]";
		mes "Hey "+((Sex)?"dude":"missy")+",";
		mes "You're not getting in the hospital.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Who's there?!";
		next;
		mes "[???]";
		mes "*Snigger*";
		next;
		mes "[???]";
		mes "That's a secret~";
		mes "My mom will kill me if she knew I was here!";
		next;
		switch(select("About entering the hospital.:About it's mom.:About ???:Quit.")) {
		case 1:
			mes "[???]";
			mes "A few days ago, the old lady who lives near us went around the hospital sticking some kind of sticks into the ground.";
			next;
			mes "[???]";
			mes "She was mumbling and looking around a lot.";
			next;
			mes "[???]";
			mes "I was well hidden here because I wasn't supposed to be here.";
			next;
			break;
		case 2:
			mes "[???]";
			mes "My mom once told me.";
			mes "The old lady's daughter was hospitalized here.";
			next;
			mes "[???]";
			mes "She never got out of it though...";
			next;
			mes "[???]";
			mes "She wasn't the only one. There were many strange things going on at the hospital.";
			next;
			mes "[???]";
			mes "That's why my mom doesn't want me coming around here.";
			next;
			break;
		case 3:
			mes "[???]";
			mes "No way Jose!";
			mes "I got a spanking last time I was caught around here!";
			next;
			mes "[???]";
			mes "If I'm caught again, it won't end with a spanking....";
			mes "So scary.";
			next;
			break;
		case 4:
			mes "[???]";
			mes "Humph!!";
			close;
		}
		mes "The voice seems to be coming from the bushes near the entrance of the hospital.";
		specialeffect EF_STEAL,AREA,"Bushes#ma";
		set malaya_bang,13;
		changequest 11293,11294;
		close;
	} else if (malaya_bang == 13) {
		mes "The voice seems to be coming from the bushes near the entrance of the hospital.";
		mes "Let's check around.";
		specialeffect EF_STEAL,AREA,"Bushes#ma";
		close;
	} else if (malaya_bang == 14) {
		mes "[Nurse Las]";
		mes "Hmmm... Let's look around the hospital.";
		cutin "malaya_nurseA01",2;
		close2;
		cutin "",255;
		end;
	} else if (malaya_bang == 15) {
		mes "[Nurse Las]";
		mes "Hey... ummm...";
		mes "You know...";
		mes "Could you give that old lady a visit?";
		cutin "malaya_nurseA04",2;
		next;
		mes "[Nurse Las]";
		mes "Oh, me? I'll look be looking around here.";
		next;
		mes "[Nurse Las]";
		mes "As you know, my feet hurt...";
		mes "Yes?";
		mes "Yes?";
		next;
		switch(select("Go.:Don't go.")) {
		case 1:
			mes "[Nurse Las]";
			mes "Okay, off you go.";
			mes "I think she lives on the west side of town.";
			mes "Go on.";
			next;
			mes "[Nurse Las]";
			mes "Hey you in the bushes, I'll tell on you if you don't go home now!";
			set malaya_bang,16;
			changequest 11296,11297;
			close2;
			cutin "",255;
			end;
		case 2:
			mes "[Nurse Las]";
			mes "Why!?";
			mes "Staying here won't solve anything.";
			close2;
			cutin "",255;
			end;
		}
	} else if (malaya_bang == 16 || malaya_bang == 17) {
		mes "[Nurse Las]";
		mes "Okay, off you go.";
		mes "I think she lives on the west side of town.";
		mes "Go on.";
		cutin "malaya_nurseA04",2;
		next;
		mes "[Nurse Las]";
		mes "Hey you in the bushes, I'll tell on you if you don't go home now!";
		emotion e_omg,0,"Bushes#ma";
		close2;
		cutin "",255;
		end;
	} else if (malaya_bang == 18) {
		mes "[Nurse Las]";
		mes "How'd it go?";
		mes "Did you meet the old lady?";
		cutin "malaya_nurseA02",2;
		next;
		mes "[Nurse Las]";
		mes "Oh by the way, when ["+strcharinfo(0)+"], you were gone, I tried the door.";
		mes "It did open...";
		next;
		mes "[Nurse Las]";
		mes "But the way to the 2nd floor was blocked.";
		mes "I thought the door opening was a break through, but turns out it wasn't.";
		cutin "malaya_nurseA03",2;
		next;
		mes "[Nurse Las]";
		mes "Anyway, the first floor door is open, so let's go inside.";
		mes "Everything would be meaningless if the second floor door is not opened.";
		emotion e_sob;
		set malaya_bang,19;
		changequest 11299,11300;
		close2;
		cutin "",255;
		warp "ma_dun01",33,110;
		end;
	} else if (malaya_bang == 19) {
		mes "[Nurse Las]";
		mes "Anyway, the first floor door is open, so let's go inside.";
		mes "Everything would be meaningless if the second floor door is not opened.";
		emotion e_sob;
		cutin "malaya_nurseA01",2;
		close2;
		cutin "",255;
		warp "ma_dun01",33,110;
		end;
	} else if (malaya_bang < 30) {
		mes "[Nurse Las]";
		mes "Could you check the 2nd floor door again in case I missed something?";
		cutin "malaya_nurseA01",2;
		close2;
		cutin "",255;
		warp "ma_dun01",33,110;
		end;
	} else {
		callfunc "F_Malaya_Nurse",1;
		end;
	}
	mes "There's a nurse outside the hospital holding a large bag.";
	mes "I don't think I can help her.";
	close;
}

ma_dun01,35,108,4	script	Nurse#ma_n2	569,{
	if (malaya_bang < 19) {
		// fall through
	} else if (malaya_bang < 30) {
		if (malaya_bang == 19) {
			mes "The hospital is infested with monsters, like the old lady said.";
			mes "How could she have gone back and forth to the 2nd floor with her feet like that....";
			next;
			set malaya_bang,20;
			changequest 11300,11301;
		}
		mes "[Nurse Las]";
		mes "Could you check the 2nd floor door again in case I missed something?";
		cutin "malaya_nurseA01",2;
		next;
		switch(select("Go outside.:Quit.")) {
		case 1:
			close2;
			cutin "",255;
			warp "malaya",58,76;
			end;
		case 2:
			mes "[Nurse Las]";
			mes "Tsk...";
			close2;
			cutin "",255;
			end;
		}
	} else {
		callfunc "F_Malaya_Nurse",2;
		end;
	}
	mes "[Nurse]";
	mes "I want to be left alone.";
	mes "Please leave.";
	close2;
	warp "malaya",58,76;
	end;
}

ma_dun01,152,23,4	script	Suspicious Wooden Stick::MalayaStick0	858,{
	if (malaya_bang == 20) {
		mes "There's a talisman similar to the ones outside the hospital.";
		mes "Let's look around for something else.";
		set malaya_bang,30;
		changequest 11301,11302;
		close;
	} else if (malaya_bang == 30) {
		mes "There's a talisman similar to the ones outside the hospital.";
		mes "Let's look around for something else.";
		close;
	} else if (malaya_bang == 35) {
		mes "After sticking on the talisman over the other one, the dark feeling lifted away, just like Las said.";
		next;
		mes "[Nurse Las]";
		mes "*Snigger*";
		cutin "malaya_nurseA05",2;
		next;
		mes "["+strcharinfo(0)+"]";
		mes "?!";
		cutin "",255;
		next;
		mes "[Nurse Las]";
		mes "Yes, yes!";
		cutin "malaya_nurseA05",2;
		next;
		mes "[Nurse Las]";
		mes "The annoying talismans are gone!";
		next;
		mes "[Nurse Las]";
		mes "*Giggle*";
		next;
		mes "[Nurse Las]";
		mes "Human's are so dumb. You show them a pretty little helpless look and they fall for it.";
		next;
		mes "[Nurse Las]";
		mes "*Snigger*";
		next;
		mes "[Nurse Las]";
		mes "For your work, I shall take you to my room...";
		mes "Darn...";
		next;
		mes "[Nurse Las]";
		mes "......";
		next;
		mes "[Nurse Las]";
		mes "No no no!";
		mes "You still have those annoying talismans!!!";
		next;
		mes "[Nurse Las]";
		mes "This is your lucky day!";
		mes "*Snigger*";
		set malaya_bang,36;
		changequest 11307,11308;
		close2;
		cutin "",255;
		warp "malaya",58,76;
		end;
	} else if (malaya_bang > 35) {
		mes "Cannot feel anything evil about the talisman.";
		mes "Only the bitter taste of being fooled around Las remains...";
		close;
	} else {
		mes "No power can be felt.";
		close;
	}
}

malaya,48,76,4	script	Hospital Door#ma_n1	844,{
	if (malaya_bang == 3) {
		mes "Pushed hard on the door, but it won't open.";
		mes "It doesn't feel like it's locked or stuck, but encased by a layer of something.";
		set malaya_bang,4;
		changequest 11285,11286;
		close;
	} else if (malaya_bang == 4) {
		mes "Pushed hard on the door, but it won't open.";
		mes "It doesn't feel like it's locked or stuck, but encased by a layer of something.";
		close;
	} else if (malaya_bang == 11) {
		mes "Put the key inside the lock of the hospital door...";
		mes "But it's not locked as expected.";
		next;
		mes "Then why is the door not opening?";
		set malaya_bang,12;
		changequest 11292,11293;
		close;
	} else if (malaya_bang == 12) {
		mes "Put the key inside the lock of the hospital door...";
		mes "But it's not locked as expected.";
		next;
		mes "Then why is the door not opening?";
		close;
	} else if (malaya_bang > 18) {
		if (select("Enter the hospital.:Quit.") == 1)
			warp "ma_dun01",33,110;
		end;
	} else {
		mes "The hospital door seems to be closed.";
		close;
	}
}

malaya,64,78,4	script	Village Woman#mab	583,{
	if (malaya_hi < 20) {
		mes "[Village Woman]";
		mes "......";
		next;
		mes "Seems very cautious about you.";
		close;
	}
	if (malaya_bang == 5) {
		mes "[Village Woman]";
		mes "Oh~Are you an adventurer?";
		mes "It seems like we have a lot of them in town lately.";
		next;
		mes "[Village Woman]";
		mes "I was born here and never went far away from here, so I always feel like going on my adventures when I hear the stories they bring.";
		next;
		switch(select("Ask about the hospital.:End conversation.")) {
		case 1:
			mes "[Village Woman]";
			mes "The hospital?";
			mes "It's been closed for a very long time.";
			mes "They don't talk about it around here.";
			next;
			mes "[Village Woman]";
			mes "I never had to go to the hospital.";
			mes "I've been there once when I had a stomach ache as a child. I remember the place being creepy.";
			next;
			mes "[Village Woman]";
			mes "Children never like hospitals.";
			next;
			select("Ask about the nurse.");
			mes "[Village Woman]";
			mes "The new nurse?";
			mes "I don't know.";
			mes "I haven't given it a thought.";
			mes "It is strange to have a new nurse coming to a closed hospital.";
			set malaya_bang,6;
			changequest 11287,11288;
			close;
		case 2:
			mes "[Village Woman]";
			mes "Have a nice day~";
			close;
		}
	} else if (malaya_bang == 6) {
		mes "[Village Woman]";
		mes "The new nurse?";
		mes "I don't know.";
		mes "I haven't given it a thought.";
		mes "It is strange to have a new nurse coming to a closed hospital.";
		set malaya_bang,6;
		changequest 11287,11288;
		close;
	} else {
		mes "[Village Woman]";
		mes "Oh~Are you an adventurer?";
		mes "It seems like we have a lot of them in town lately.";
		next;
		mes "[Village Woman]";
		mes "I was born here and never went far away from here, so I always feel like going on my adventures when I hear the stories they bring.";
		close;
	}
}

malaya,62,37,4	script	Village Man#mab	582,{
	if (malaya_hi < 20) {
		mes "[Village Man]";
		mes "Hmmm! Haven't seen you around?";
		mes "What brings you to our town?";
		next;
		mes "Seems very cautious about you.";
		close;
	}
	if (malaya_bang == 7) {
		mes "[Village Man]";
		mes "*Laughs*";
		mes "An adventurer, are you?";
		mes "When you have time, come and take a look around my pineapple farm.";
		next;
		mes "[Village Man]";
		mes "Just a little bit~";
		mes "far from the village, but I'll give you all the pineapple you want in exchange for a good story of yours!";
		next;
		switch(select("Ask about the hospital.:End conversation.")) {
		case 1:
			mes "[Village Man]";
			mes "Ummm......";
			mes "You mean that hospital?";
			next;
			mes "[Village Man]";
			mes "It was closed down because of an accident.";
			mes "But I wouldn't trouble an outsider with the details......";
			mes "There's not much I can tell you.";
			next;
			select("Ask about the nurse.");
			mes "[Village Man]";
			mes "Oh!!!";
			mes "Did you meet the nurse?!";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "She was standing in front of the hospital.";
			mes "Oh!";
			mes "She must have gone to contact HQ.";
			next;
			mes "[Village Man]";
			mes "We requested 'the nurse', and she's already here! We're saved!";
			next;
			select("The nurse?");
			mes "[Village Man]";
			mes "She was invited here to save our hospital.";
			next;
			mes "[Village Man]";
			mes "Now I have to spread the good news! Could you bring her to the inn at the center of town?";
			next;
			mes "[Village Man]";
			mes "That's where the doctor is staying.";
			mes "He's been there ever since the hospital was closed.";
			set malaya_bang,8;
			changequest 11289,11290;
			close;
		case 2:
			mes "[Village Man]";
			mes "Whoopeee!";
			close;
		}
	} else if (malaya_bang == 8) {
		mes "[Village Man]";
		mes "Now I have to spread the good news! Could you bring her to the inn at the center of town?";
		next;
		mes "[Village Man]";
		mes "That's where the doctor is staying.";
		mes "He's been there ever since the hospital was closed.";
		close;
	} else {
		mes "[Village Man]";
		mes "Whoopeee!";
		mes "An adventurer, are you?";
		mes "When you have time, come and take a look around my pineapple farm.";
		next;
		mes "[Village Man]";
		mes "Just a little bit~";
		mes "far from the village, but I'll give you all the pineapple you want in exchange for a good story of yours!";
		close;
	}
}

malaya,210,200,5	script	Dr. Boon#ma	865,{
	if (malaya_hi < 20) {
		mes "[Dr. Boon]";
		mes "......";
		next;
		mes "Seems very cautious about you.";
		close;
	}
	if (malaya_bang == 9) {
		mes "[Dr. Boon]";
		mes "So~ You're the new nurse?";
		next;
		switch(select("Yes.:No.")) {
		case 1:
			mes "[Dr. Boon]";
			mes "Nothing's more important for a nurse than their white uniform.";
			mes "Go get changed!";
			close;
		case 2:
			mes "[Dr. Boon]";
			mes "Oh! I'm sorry.";
			mes "We're waiting for a new nurse.";
			mes "My bad.";
			next;
			select("Explain the situation.");
			mes "[Dr. Boon]";
			mes "Aha~";
			mes "So that's what happened.";
			mes "Oh, dear. I guess there was a misunderstanding.";
			next;
			mes "[Dr. Boon]";
			mes "You see, I've been treating patients at the inn after what happened to the hospital.";
			next;
			mes "[Dr. Boon]";
			mes "Even so, I must apologize for making her stand there so long.";
			next;
			mes "[Dr. Boon]";
			mes "I can't leave right now because I have patients to look after. Why don't you go over and hand over this key?";
			next;
			mes "[Dr. Boon]";
			mes "And give her a message with the key saying, 'I'll leave it to your own discretion'.";
			next;
			mes "[Dr. Boon]";
			mes "I'll be there as soon as I'm done here.";
			mes "Good luck~";
			set malaya_bang,10;
			changequest 11291,11292;
			close;
		}
	} else if (malaya_bang == 10) {
		mes "[Dr. Boon]";
		mes "I can't leave right now because I have patients to look after. Why don't you go over and hand over this key?";
		next;
		mes "[Dr. Boon]";
		mes "And give her a message with the key saying, 'I'll leave it to your own discretion'.";
		next;
		mes "[Dr. Boon]";
		mes "I'll be there as soon as I'm done here.";
		mes "Good luck~";
		close;
	} else {
		mes "[Dr. Boon]";
		mes "*Sigh*";
		mes "The work... It never ends...";
		mes "How am I supposed to handle all these patients on my own?";
		next;
		mes "[Dr. Boon]";
		mes "What? What's a doctor doing in an inn?";
		mes "Well, why not?";
		close;
	}
}

malaya,53,68,4	script	Bushes#ma	844,{
	if (malaya_bang < 13) {
		mes "It's just a bush.";
		mes "A sweet scent of wood rises when shaken.";
		close;
	}
	if (malaya_bang == 13) {
		mes "[???]";
		mes "Don't come any closer!";
		mes "Old "+((Sex)?"man":"lady")+"!";
		mes "How'd you know I was here?";
		emotion e_omg;
		next;
		mes "["+strcharinfo(0)+"]";
		mes "I'm not old.";
		emotion e_an,1;
		next;
		switch(select("About entering the hospital.:About its mom.:About ???.:Ask about the old lady.:Ask about the hospital grounds.:Quit.")) {
		case 1:
			mes "[???]";
			mes "A few days ago, the old lady who lives near us went around the hospital sticking some kind of sticks into the ground.";
			next;
			mes "[???]";
			mes "She was mumbling and looking around a lot.";
			next;
			mes "[???]";
			mes "I was well hidden here because I wasn't supposed to be here.";
			next;
			break;
		case 2:
			mes "[???]";
			mes "My mom once told me.";
			mes "The old lady's daughter was hospitalized here.";
			next;
			mes "[???]";
			mes "She never got out of it though...";
			next;
			mes "[???]";
			mes "She wasn't the only one. There were many strange things going on at the hospital.";
			next;
			mes "[???]";
			mes "That's why my mom doesn't want me coming around here.";
			next;
			break;
		case 3:
			mes "[???]";
			mes "No way Jose!";
			mes "I got a spanking last time I was caught around here!";
			next;
			mes "[???]";
			mes "If I'm caught again, it won't end with a spanking....";
			mes "So scary.";
			next;
			break;
		case 4:
			mes "[???]";
			mes "It's the lady who lives next door to us.";
			next;
			mes "[???]";
			mes "I saw her a few days ago doing something around the hospital.";
			next;
			mes "[???]";
			mes "I couldn't see what she was doing from here, but I found some sticks there after she'd left.";
			set malaya_bang,14;
			changequest 11294,11295;
			close;
		case 5:
			mes "[???]";
			mes "I dunno.";
			mes "Nothing's different except for the sticks.";
			next;
			mes "[???]";
			mes "The old lady comes back once in a while to check on the sticks.";
			mes "My heart races when that happens!";
			next;
			break;
		case 6:
			mes "[???]";
			mes "Humph!!";
			emotion e_pif;
			close;
		}
		mes "[???]";
		mes "Promise me you won't tell anyone that you saw me!!!";
		mes "Promise?!";
		close;
	} else if (malaya_bang == 14) {
		mes "[???]";
		mes "I couldn't see what she was doing from here, but I found some sticks there after she'd left.";
		close;
	} else if (malaya_bang == 15) {
		mes "[???]";
		mes "Don't come any closer!";
		mes "Old "+((Sex)?"man":"lady")+"!";
		mes "How'd you know I was here?";
		emotion e_omg;
		next;
		mes "["+strcharinfo(0)+"]";
		mes "I'm not old.";
		emotion e_an,1;
		close;
	} else {
		mes "There's a trace of a young child.";
		mes "Think the child's gone home now.";
		close;
	}
}

-	script	Suspicious Wooden Stick::MalayaStick	-1,{
	if (checkweight(1201,1) == 0) {
		mes "- Wait !! -";
		mes "- You have too many items. -";
		mes "- Cannot receive item. -";
		mes "- Please lighten your bag -";
		mes "- and try again. -";
		close;
	}
	if (MaxWeight - Weight < 1000) {
		mes "- Wait !! -";
		mes "- You are carrying too many items. -";
		mes "- Cannot receive item. -";
		mes "- Please lighten your bag -";
		mes "- and try again. -";
		close;
	}
	if (malaya_bang == 14) {
		mes "A strange stick is planted on the ground.";
		mes "A mysterious force can be felt.";
		next;
		switch(select("Pull it out.:Leave it.")) {
		case 1:
			if (rand(1,5) == 4) {
				mes "Pulled out the deeply planted stick.";
				mes "The hospital seems to have become more gloomy.";
				if (rand(2)) {
					set malaya_bang,15;
					changequest 11295,11296;
					getitem 6497,1; //Lesser_Agimat
					donpcevent "Tent"+replacestr(strnpcinfo(3),"MalayaStick","")+"#ma::OnEnable";
					next;
					mes "Better show Las the talisman.";
					close;
				} else {
					getitem 6497,1; //Lesser_Agimat
					donpcevent "Tent"+replacestr(strnpcinfo(3),"MalayaStick","")+"#ma::OnEnable";
					close;
				}
			} else {
				mes "After pulling out the deeply planted stick, an uneasy feeling washes over.";
				donpcevent "Tent"+replacestr(strnpcinfo(3),"MalayaStick","")+"#ma::OnEnable";
				close;
			}
		case 2:
			mes "It looks ominous. Better leave it alone.";
			close;
		}
	} else {
		mes "There's a strange looking stick.";
		close;
	}
	end;
OnEnable:
	enablenpc strnpcinfo(3); // NPC name is too long for strnpcinfo(0).
	end;
OnDisable:
	disablenpc strnpcinfo(3);
	end;
}
malaya,40,52,4	duplicate(MalayaStick)	Suspicious Wooden Stick::MalayaStick1	858
malaya,31,42,4	duplicate(MalayaStick)	Suspicious Wooden Stick::MalayaStick2	858
malaya,34,36,4	duplicate(MalayaStick)	Suspicious Wooden Stick::MalayaStick3	858
malaya,40,32,4	duplicate(MalayaStick)	Suspicious Wooden Stick::MalayaStick4	858
malaya,50,85,4	duplicate(MalayaStick)	Suspicious Wooden Stick::MalayaStick5	858
malaya,46,93,4	duplicate(MalayaStick)	Suspicious Wooden Stick::MalayaStick6	858
malaya,36,98,4	duplicate(MalayaStick)	Suspicious Wooden Stick::MalayaStick7	858
malaya,48,79,4	duplicate(MalayaStick)	Suspicious Wooden Stick::MalayaStick8	858
malaya,50,46,4	duplicate(MalayaStick)	Suspicious Wooden Stick::MalayaStick9	858
malaya,59,84,4	duplicate(MalayaStick)	Suspicious Wooden Stick::MalayaStick10	858

-	script	Tent#ma	-1,{ //557
	end;
OnInit:
	disablenpc strnpcinfo(0);
	end;
OnEnable:
	enablenpc strnpcinfo(0);
	initnpctimer;
	end;
OnDisable:
	stopnpctimer;
	disablenpc strnpcinfo(0);
	end;
OnTimer1000:
	donpcevent "MalayaStick"+replacestr(strnpcinfo(1),"Tent","")+"::OnDisable";
	end;
OnTimer30000:
	donpcevent "MalayaStick"+replacestr(strnpcinfo(1),"Tent","")+"::OnEnable";
	donpcevent strnpcinfo(0)+"::OnDisable";
	end;
}
-	duplicate(Tent#ma)	Tent1#ma	-1
-	duplicate(Tent#ma)	Tent2#ma	-1
-	duplicate(Tent#ma)	Tent3#ma	-1
-	duplicate(Tent#ma)	Tent4#ma	-1
-	duplicate(Tent#ma)	Tent5#ma	-1
-	duplicate(Tent#ma)	Tent6#ma	-1
-	duplicate(Tent#ma)	Tent7#ma	-1
-	duplicate(Tent#ma)	Tent8#ma	-1
-	duplicate(Tent#ma)	Tent9#ma	-1
-	duplicate(Tent#ma)	Tent10#ma	-1

malaya,114,183,3	script	Bent Old Lady#ma	575,{
	if (malaya_bang == 16) {
		mes "[Bent Old Lady]";
		mes "Ho ho ho ho~~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Ma'am, excuse me, but can I ask you a question?";
		next;
		mes "[Bent Old Lady]";
		mes "Ho ho ho ho~~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Ma'am?";
		next;
		mes "[Bent Old Lady]";
		mes "Ho ho ho ho~~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Ma'am?";
		next;
		mes "[Bent Old Lady]";
		mes "Ho ho ho ho~~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Ma'am!!!!!!!!!";
		next;
		mes "[Bent Old Lady]";
		mes "Who? What?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Excuse me, but can I ask you something?";
		next;
		mes "[Bent Old Lady]";
		mes "What? I can't hear you.";
		mes "Speak up!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "I! Have! Something! To! Ask! You!";
		next;
		mes "[Bent Old Lady]";
		mes "Oh~Yes dear~";
		mes "I'll tell you everything I know, dear~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Do you know anything about the hospital?";
		next;
		mes "[Bent Old Lady]";
		mes "Hospital?";
		mes "........";
		next;
		mes "[Bent Old Lady]";
		mes "Hospital?!?!?!?";
		next;
		mes "[Bent Old Lady]";
		mes "That hospital is cursed!";
		mes "Something wicked is living there!";
		next;
		mes "[Bent Old Lady]";
		mes "The thing took away my poor little girl.";
		next;
		switch(select("Ask about the hospital.:Ask about her daughter.")) {
		case 1:
			mes "[Bent Old Lady]";
			mes "Everybody was happy to hear about the hospital being built.";
			next;
			mes "[Bent Old Lady]";
			mes "We no longer had to go to other towns for medical care.";
			next;
			mes "[Bent Old Lady]";
			mes "But the one they built didn't work out so well.";
			mes "It couldn't cure people.";
			mes "I knew this would happen when they chopped down the old tree to build it.";
			next;
			mes "[Bent Old Lady]";
			mes "But the administrator wouldn't listen.";
			mes "Far from curing people, they started to die.";
			mes "So did my daughter...";
			set malaya_bang,17;
			changequest 11297,11298;
			close;
		case 2:
			mes "[Bent Old Lady]";
			mes "She suffered from nothing life threatening.";
			mes "It was...";
			mes "Just a cold......";
			next;
			mes "[Bent Old Lady]";
			mes "The wicked thing.... My daughter...";
			mes "There's something in that hospital.";
			close;
		}
	} else if (malaya_bang == 17) {
		select("Show her the stick.");
		mes "[Bent Old Lady]";
		mes "What?";
		mes "Arghhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh";
		emotion e_omg;
		next;
		mes "[Bent Old Lady]";
		mes "Arghhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh";
		emotion e_omg;
		next;
		mes "[Bent Old Lady]";
		mes "Arghhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh";
		emotion e_omg;
		next;
		mes "[Bent Old Lady]";
		mes "Arghhhhhhhhhh!!!!!!!!!!!";
		emotion e_omg;
		next;
		mes "[Bent Old Lady]";
		mes "What have you done!";
		mes "That... That was a talisman to stop the wicked thing!";
		next;
		mes "[Bent Old Lady]";
		mes "If you pull them up, it will go after people again!";
		next;
		mes "[Bent Old Lady]";
		mes "I saw it!";
		mes "I saw it when they closed the hospital saying that everybody had died.";
		next;
		mes "[Bent Old Lady]";
		mes "But they all knew.";
		mes "The patients weren't all dead.";
		next;
		mes "[Bent Old Lady]";
		mes "Taken alive...";
		mes "By the thing that took my daughter...";
		next;
		mes "[Bent Old Lady]";
		mes "Oh dear.";
		next;
		mes "Nurse Las may be in danger, standing alone in front of the hospital.";
		mes "If I don't return quickly...";
		set malaya_bang,18;
		changequest 11298,11299;
		close;
	} else if (malaya_bang == 18) {
		mes "Nurse Las may be in danger, standing alone in front of the hospital.";
		mes "If I don't return quickly...";
		close;
	} else if (malaya_bang == 32) {
		mes "[Bent Old Lady]";
		mes "Yes? The talisman?";
		mes "I asked the shaman up north of the village to make them,";
		next;
		mes "[Bent Old Lady]";
		mes "Not famous, but a talented shaman.";
		set malaya_bang,33;
		changequest 11304,11305;
		close;
	} else {
		mes "[Bent Old Lady]";
		mes "Ho ho ho ho~~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Ma'am, excuse me, but can I ask you a question?";
		next;
		mes "[Bent Old Lady]";
		mes "Ho ho ho ho~~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Ma'am?";
		next;
		mes "[Bent Old Lady]";
		mes "Ho ho ho ho~~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Ma'am?";
		next;
		mes "[Bent Old Lady]";
		mes "Ho ho ho ho~~";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Ma'am!!!!!!!!!";
		next;
		mes "[Bent Old Lady]";
		mes "Who? What?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Excuse me, but can I ask you something?";
		next;
		mes "[Bent Old Lady]";
		mes "What? I can't hear you.";
		mes "Speak up!";
		close;
	}
}

malaya,276,367,4	script	Bent Shaman#ma	782,{
	if (malaya_hi < 20) {
		mes "[Bent Shaman]";
		mes "Urgh Urgh Urghhhhhh";
		next;
		mes "Doesn't give even a glance...";
		close;
	}
	mes "[Bent Shaman]";
	mes "Hmmmm...";
	mes "I feel, feel....";
	next;
	mes "[Bent Shaman]";
	mes "I feel something bad from you...";
	if (malaya_bang == 33) {
		next;
		mes "[Bent Shaman]";
		mes "No no...";
		mes "You need not say anything!";
		mes "You'll be needing this.";
		next;
		mes "[Bent Shaman]";
		mes "It's okay.";
		mes "No need for money.";
		mes "It's the karma this village must face...";
		set malaya_bang,34;
		changequest 11305,11306;
	}
	close;
}

// Pintados Festival :: malaya_pintados
//============================================================
/*
Description
-----------
The Pintados Festival begins when players have accumulated 1000 Lesser Agimats,
1000 Silver Crosses, and 300 dyestuffs, and lasts for 7 days. During that time,
players are able to create a tattoo.

Global Variables
----------------
$malaya_pintados_00  - Festival time limit, in 30-minute intervals. (range: 0~344)
$malaya_pintados_01  - Number of Lesser Agimats collected. (range: 0~1000)
$malaya_pintados_02  - Number of Silver Crosses collected. (range: 0~1000)
$malaya_pintados_03  - Number of dyestuffs collected. (range: 0~300)
$malaya_pintados_04$ - Last player to create a tattoo.
*/

ma_fild01,1,1,4	script	Pintados Manager#pin	894,{
	if (callfunc("F_GM_NPC",1854,0) == 1) {
		mes "Bingo!";
		next;
	} else {
		mes "Error occurred.";
		close;
	}
	mes "Hi, I'm the Pintados Festival Manager. Please select an item.";
	mes "Time Value: ("+$malaya_pintados_00+"/344)";
	mes "Lesser Agimat Value: ("+$malaya_pintados_01+"/1,000)";
	mes "Cross Value: ("+$malaya_pintados_02+"/1,000)";
	mes "Dyestuffs Value: ("+$malaya_pintados_03+"/300)";
	mes "Recent Tattoo Creator: "+$malaya_pintados_04$;
	next;
	switch(select("Eastern Medicine Button ? Start & End:Detail Button ? Adjust Value:Start Timer:End Timer")) {
	case 1:
		mes "This is the Eastern Medicine Control Button.";
		mes "You can set the Start or End values for the festival.";
		next;
		switch(select("Start Pintados Festival:End Pintados Festival:NPC_ON:NPC_OFF")) {
		case 1:
			set $malaya_pintados_00,1;
			donpcevent "Pintados Manager#pin::OnEnable";
			mes "Start the Pintados Festival.";
			close;
		case 2:
			donpcevent "Pintados Manager#pin::OnDisable";
			mes "End the Pintados Festival.";
			close;
		case 3:
			donpcevent "Pintados Manager#pin::OnEnableNPC";
			mes "Add an NPC.";
			close;
		case 4:
			donpcevent "Pintados Manager#pin::OnDisableNPC";
			mes "Remove an NPC.";
			close;
		}
	case 2:
		mes "Adjust the global value. Please select the value to adjust.";
		next;
		while(1) {
			switch(select("Complete Adjustment:Time ("+$malaya_pintados_00+"):Lesser Agimat ("+$malaya_pintados_01+"):Silver Cross ("+$malaya_pintados_02+"):Dyestuffs ("+$malaya_pintados_03+")")) {
			case 1:
				mes "Completed global adjustment.";
				close;
			case 2:
				mes "Adjust Time [0~344]";
				mes "Global Increase by 1/30 min.";
				mes "1 - 49 -> Day 1";
				mes "50 - 98 -> Day 2";
				mes "99 - 147 -> Day 3";
				mes "148 - 196 -> Day 4";
				mes "197 - 245 -> Day 5";
				mes "246 - 294 -> Day 6";
				mes "295 - 343 -> Day 7";
				mes "Global 1 = 1 hr.";
				next;
				input .@input;
				if (.@input < 0 || .@input > 344)
					close;
				set $malaya_pintados_00, .@input;
				break;
			case 3:
				mes "Adjust the accumulated value for the Lesser Agimat.";
				mes "Values can be adjusted between 0 to 1000.";
				next;
				input .@input;
				if (.@input < 0 || .@input > 1000)
					close;
				set $malaya_pintados_01, .@input;
				break;
			case 4:
				mes "Adjust the accumulated value of the Silver Cross.";
				mes "Values can be adjusted between 0 to 1000.";
				next;
				input .@input;
				if (.@input < 0 || .@input > 1000)
					close;
				set $malaya_pintados_02, .@input;
				break;
			case 5:
				mes "Adjust the accumulated value for the Dyestuff.";
				mes "Values can be adjusted between 0 to 300.";
				next;
				input .@input;
				if (.@input < 0 || .@input > 300)
					close;
				set $malaya_pintados_03, .@input;
				break;
			}
			mes "Time Value: ("+$malaya_pintados_00+"/344)";
			mes "Lesser Agimat Value: ("+$malaya_pintados_01+"/1,000)";
			mes "Cross Value: ("+$malaya_pintados_02+"/1,000)";
			mes "Dyestuffs Value: ("+$malaya_pintados_03+"/300)";
			mes "This is the current value. Do you want to adjust it?";
			next;
		}
	case 3:
		initnpctimer;
		break;
	case 4:
		stopnpctimer;
		break;
	}
	end;

// Moved to individual NPCs for smoother processing.
//OnInit:
//	if ($malaya_pintados_00 > 0)
//		donpcevent "Pintados Manager#pin::OnEnableNPC";
//	end;

OnTimer1800000:
	set $malaya_pintados_00, $malaya_pintados_00;
	if ($malaya_pintados_00 > 0 && $malaya_pintados_00 < 344) {
		set $malaya_pintados_00,$malaya_pintados_00+1;
		stopnpctimer;
		initnpctimer;
	} else {
		set $malaya_pintados_00,0;
		donpcevent "Pintados Manager#pin::OnDisable";
	}
	end;
OnEnable:
	initnpctimer;
	donpcevent "Pintados Manager#pin::OnEnableNPC";
	announce "The 'Pintados Festival' will be held for a week in Baryo Mahiwaga.",bc_all,"0xFB9D04",FW_NORMAL,12;
	end;
OnDisable:
	stopnpctimer;
	set $malaya_pintados_00,0;
	set $malaya_pintados_01,0;
	set $malaya_pintados_02,0;
	set $malaya_pintados_03,0;
	donpcevent "Pintados Manager#pin::OnDisableNPC";
	announce "The 'Pintados Festival' ended with great success.",bc_all,"0xFB9D04",FW_NORMAL,12;
	end;
OnEnableNPC:
	set .@str$, "::OnEnable";
OnDisableNPC:
	if (.@str$ == "")
		set .@str$, "::OnDisable";
	donpcevent "Tourist#pin01"+.@str$;
	donpcevent "Tourist#pin02"+.@str$;
	donpcevent "Tourist#pin03"+.@str$;
	donpcevent "Young Tattooist#pin04"+.@str$;
	donpcevent "Tourist#pin05"+.@str$;
	donpcevent "Drumming Young Man#pin06"+.@str$;
	donpcevent "Drumming Young Man#pin07"+.@str$;
	donpcevent "Drumming Young Man#pin08"+.@str$;
	donpcevent "Beat Catching Boy#pin09"+.@str$;
	donpcevent "Beat Catching Boy#pin10"+.@str$;
	donpcevent "Beat Catching Boy#pin11"+.@str$;
	end;
}

ma_fild01,179,260,2	script	Festival Helper Boy#pin	577,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 1000) {
		mes "Cannot proceed because you have too many items in your possession.";
		close;
	}
	if ($malaya_pintados_00 == 0) {
		if ($malaya_pintados_01 > 999 && $malaya_pintados_02 > 999 && $malaya_pintados_03 > 299) {
			set $malaya_pintados_00,1;
			donpcevent "Pintados Manager#pin::OnEnable";
			emotion e_lv;
			mes "[Isco]";
			mes "Many adventurers helped find festival items that I returned to the village.";
			next;
			emotion e_ho;
			mes "[Isco]";
			mes "He he... Now we can hold the '^7A96E0Pintados Festival^000000'.";
			close;
		}
		// fall through
	} else {
		mes "[Isco]";
		mes "He he... The fun '^7A96E0Pintados Festival^000000' is in full swing.";
		next;
		if ($malaya_pintados_00 > 0 && $malaya_pintados_00 < 50) {
			emotion e_ho;
			mes "[Isco]";
			mes "Today's the first day of the '^7A96E0Pintados Festival^000000'. The festival is held for 7 days, so have fun.";
			close;
		} else if ($malaya_pintados_00 > 49 && $malaya_pintados_00 < 99) {
			mes "[Isco]";
			mes "Oh! Did you know?";
			mes "Village tattooists draw tattoos only during the '^7A96E0Pintados Festival^000000'.";
			close;
		} else if ($malaya_pintados_00 > 98 && $malaya_pintados_00 < 148) {
			mes "[Isco]";
			mes "Today's the third day of the '^7A96E0Pintados Festival^000000'.";
			next;
			mes "[Isco]";
			mes "Villagers say that an adventurer named "+$malaya_pintados_04$+" got a tattoo at the festival.";
			close;
		} else if ($malaya_pintados_00 > 147 && $malaya_pintados_00 < 197) {
			mes "[Isco]";
			mes "Villagers say that an adventurer named "+$malaya_pintados_04$+" got a tattoo at the festival.";
			next;
			mes "[Isco]";
			mes "The Tattooist is scary and doesn't draw tattoos for just anyone so the adventurer must be special.";
			close;
		} else if ($malaya_pintados_00 > 196 && $malaya_pintados_00 < 246) {
			mes "[Isco]";
			mes "An adventurer named "+$malaya_pintados_04$+" is famous in the village.";
			next;
			mes "[Isco]";
			mes "Have you every seen ^FF8440Bakonawa^000000, the monster known to swallow the moon? They say he is really ferocious.";
			close;
		} else if ($malaya_pintados_00 > 245 && $malaya_pintados_00 < 295) {
			emotion e_sob;
			mes "[Isco]";
			mes "I'm so sad. Many adventurers helped to hold the '^7A96E0Pintados Festival^000000' and now only one day is left.";
			close;
		} else {
			emotion e_sob;
			mes "[Isco]";
			mes "Oh gosh! It's already the last day of the '^7A96E0Pintados Festival^000000'. Can't believe there won't be more festivities.";
			close;
		}
	}
	emotion e_spin;
	mes "[Isco]";
	mes "Oh no. What will we do with the festival coming to an end.";
	next;
	switch(select("What is it?:How many did you collect?:Brought back a lost belonging.")) {
	case 1:
		mes "[Isco]";
		mes "There is a traditional festival held since ancient times";
		mes "in Baryo Mahiwaga called the '^7A96E0Pintados Festival^000000'.";
		next;
		emotion e_otl;
		mes "[Isco]";
		mes "I don't think I'll make it to the festival this time.";
		next;
		select("Why?");
		mes "[Isco]";
		mes "I was going back to the village delivering 1000 Lesser Agimats, 1000 Silver Crosses, and 300 Dyestuffs as an errand from Port Malaya.";
		next;
		mes "[Isco]";
		mes "But '^FF8440Bongisungisu^000000' appeared out of nowhere and took the items away from me.";
		next;
		select("Are you hurt?");
		emotion e_sigh;
		mes "[Isco]";
		mes "Fortunately not.";
		next;
		mes "[Isco]";
		mes "But I'm in deep trouble. The '^7A96E0Pintados Festival^000000' can't be held without those items. What should I do.";
		close;
	case 2:
		mes "[Isco]";
		mes "Many adventurers are helping out but only collected...";
		next;
		mes "[Isco]";
		mes "Lesser Agimat "+$malaya_pintados_01+", Silver Cross "+$malaya_pintados_02+", Dyestuff "+$malaya_pintados_03+" so far.";
		next;
		emotion e_sigh;
		mes "[Isco]";
		mes "Sigh... We are still short of materials to start the '^7A96E0Pintados Festival^000000'.";
		close;
	case 3:
		set .@str$, (Sex)?"Bro":"Sis";
		break;
	}
	emotion e_lv;
	mes "[Isco]";
	mes "Oh~ Really? Wow!";
	mes "Thanks! "+strcharinfo(0)+" "+.@str$+"!!";
	mes "He he. What did you bring?";
	next;
	set .@i, select(
		"Lesser Agimat (^FF0000"+(($malaya_pintados_01 > 999)?"Collection complete":(1000 - $malaya_pintados_01)+" short")+"^000000):"+
		"Silver Cross (^FF0000"+(($malaya_pintados_02 > 999)?"Collection complete":(1000 - $malaya_pintados_02)+" short")+"^000000):"+
		"Dyestuff (^FF0000"+(($malaya_pintados_03 > 299)?"Collection complete":(300 - $malaya_pintados_03)+" short")+"^000000)"
	);
	switch(.@i) {
	case 1:
		set .@item,6497; //Lesser_Agimat
		set .@name$,"Lesser Agimats";
		set .@total,1000;
		break;
	case 2:
		set .@item,6502; //Silver_Cross
		set .@name$,"Silver Crosses";
		set .@total,1000;
		break;
	case 3:
		setarray .@items[0],975,976,978,979,980,981,982,983;
		set .@name$,"Dyestuffs";
		set .@total,300;
		break;
	}
	mes "[Isco]";
	mes "Wow! "+.@str$+" You've brought "+.@name$+"!";
	next;
	mes "[Isco]";
	mes "Wait. One... two...";
	if (getd("$malaya_pintados_0"+.@i) >= .@total) {
		mes "Eh... oh? I already have all the "+.@name$+" I need. "+.@str$+"! But thank you for helping.";
		close;
	}
	if (.@i < 3) {
		mes "I am "+(.@total - getd("$malaya_pintados_0"+.@i))+" short of "+.@name$+". How many did you bring?";
		next;
		switch(select("One?!:Enter quantity.")) {
		case 1:
			set .@amount,1;
			mes "[Isco]";
			mes "He he... You've brought back one.";
			next;
			break;
		case 2:
			mes "[Isco]";
			mes "He he... I'm slow with numbers. I get lost when it's over 50. How many will you give me?";
			next;
			input .@amount;
			if (.@amount < 1 || .@amount > 50) {
				mes "[Isco]";
				mes "Sigh~ I'm lost! I can't count if the numbers are weird.";
				close;
			}
			break;
		}
		if (countitem(.@item) < .@amount) {
			mes "[Isco]";
			mes "Sigh~ "+.@str$+"! Where is the "+getitemname(.@item)+"?";
			close;
		}
	} else {
		mes "I am "+(.@total - getd("$malaya_pintados_0"+.@i))+" short of Dyestuffs. What kind of Dyestuff did you bring?";
		next;
		for(set .@j,0; .@j<getarraysize(.@items); set .@j,.@j+1)
			set .@menu$, .@menu$+getitemname(.@items[.@j])+" (^FF0000"+countitem(.@items[.@j])+"^000000):";
		set .@item, .@items[select(.@menu$)-1];
		if (countitem(.@item) == 0) {
			mes "[Isco]";
			mes "Sigh~ You don't have any "+getitemname(.@item)+".";
			close;
		}
		mes "[Isco]";
		mes .@str$+"! How many Scarlet Dyestuffs can you give me from the "+countitem(.@item)+" you have?";
		next;
		switch(select("Enter Quantity:All")) {
		case 1:
			mes "[Isco]";
			mes "He he... I'm slow with numbers. I get lost when it's over 50. How many will you give me?";
			next;
			input .@amount;
			if (.@amount < 1 || .@amount > 50) {
				mes "[Isco]";
				mes "Sigh~ I told you I'm not good with numbers.";
				close;
			}
			break;
		case 2:
			set .@amount, countitem(.@item);
			break;
		}
		if (countitem(.@item) < .@amount) {
			mes "[Isco]";
			mes "Sigh... I'm short of "+getitemname(.@item)+".";
			close;
		}
	}
	delitem .@item,.@amount;
	setd "$malaya_pintados_0"+.@i, getd("$malaya_pintados_0"+.@i)+.@amount;
	set .@amount_left, .@total - getd("$malaya_pintados_0"+.@i);
	mes "[Isco]";
	mes "He he... Thanks. "+.@str$+"!";
	if (.@amount_left <= 0)
		mes "Whoa! We've collected all the "+.@name$+" we need. Happy~!";
	else
		mes "I only need "+.@amount_left+" more "+.@name$+".";
	close;
}

ma_fild01,172,223,6	script	Tattooist#pin	574,{
	if (checkweight(1201,1) == 0 || MaxWeight - Weight < 1000) {
		mes "Cannot proceed because you have too many items in your possession.";
		close;
	}
	emotion e_what;
	mes "[Tattooist]";
	mes "Why do you want a Tattoo?";
	next;
	switch(select("What is a Tattoo?:I'm curious about the effect of Tattoos.:I need a Tattoo.")) {
	case 1:
		mes "[Tattooist]";
		mes "A Tattoo of a powerful monster is said to increase the ability of the holder.";
		next;
		select("Awesome. How can I get one?");
		mes "[Tattooist]";
		mes "Drawing a Tattoo is a very holy task.";
		next;
		mes "[Tattooist]";
		mes "10 Ancient Grudges to protect me while I draw Tattoos.";
		next;
		mes "[Tattooist]";
		mes "1 Doll that looks like a powerful monster.";
		next;
		mes "[Tattooist]";
		mes "And last but not least, 1 Spirit Piece to imbue the energy of a powerful monster into the Tattoo.";
		next;
		select("What kind of Tattoo will you draw?");
		mes "[Tattooist]";
		mes "I can draw 3 kinds of Tattoos.";
		next;
		mes "[Tattooist]";
		mes "Bangungot Agimat Tattoo for a powerful monster that comes from an old gigantic tree in Port Malaya.";
		next;
		mes "[Tattooist]";
		mes "Bakonawa Agimat Tattoo for a huge monster that can swallow the moon.";
		next;
		mes "[Tattooist]";
		mes "Buwaya Agimat Tattoo for a giant alligator that kidnaps people.";
		next;
		select("Where can I get the Spirit Pieces and Doll?");
		mes "[Tattooist]";
		mes "You can get these powerful items from Buwaya, Bangungot, and Bakonawa themselves but it won't be an easy task.";
		next;
		mes "[Tattooist]";
		mes "This holy task isn't done every day. Tattoos are drawn only during the '^7A96E0Pintados Festival^000000'.";
		close;
	case 2:
		mes "[Tattooist]";
		mes "Which Tattoo's effect are you curious about?";
		next;
		while(1) {
			switch (select("Bangungot Agimat Tattoo:Buwaya Agimat Tattoo:Bakonawa Agimat Tattoo:I have no questions.")) {
			case 1:
				mes "[Tattooist]";
				mes "Need 10 Ancient Grudges, 1 Piece of Bangungot's Spirit, and 1 Bangungot Doll to create";
				next;
				mes "[Tattooist]";
				mes "The Bangungot Agimat Tattoo holds the energy of an old gigantic tree in Port Malaya.";
				next;
				mes "[Tattooist]";
				mes "Increases the effect of healing others by 4% and healing from others by 7%.";
				next;
				break;
			case 2:
				mes "[Tattooist]";
				mes "Need 10 Ancient Grudges, 1 Piece of Buwaya's Spirit, and 1 Buwaya Doll to create";
				next;
				mes "[Tattooist]";
				mes "The Buwaya Agimat Tattoo contains the energy from a giant alligator.";
				next;
				mes "[Tattooist]";
				mes "Increases MATK by +7% and decreases Fixed Casting by 7%.";
				next;
				break;
			case 3:
				mes "[Tattooist]";
				mes "Need 10 Ancient Grudges, 1 Piece of Bakonawa's Spirit, and 1 Bakonawa Doll to create";
				next;
				mes "[Tattooist]";
				mes "The Bakonawa Agimat Tattoo holds the energy from a gigantic monster that can swallow the moon.";
				next;
				mes "[Tattooist]";
				mes "Increases ATK by +7% and ASPD by 10%.";
				next;
				break;
			case 4:
				mes "[Tattooist]";
				mes "Looks like you've got all the answers. Hope you enjoy your journey.";
				close;
			}
			mes "[Tattooist]";
			mes "Do you have any questions about other Tattoo effects?";
			next;
		}
	case 3:
		break;
	}
	if ($malaya_pintados_00 == 0) {
		mes "[Tattooist]";
		mes "The holy task of drawing Tattoos is only done during the '^7A96E0Pintados Festival^000000'. Sorry but looks like the festival is not on.";
		close;
	}
	mes "[Tattooist]";
	mes "You've come right on time during the '^7A96E0Pintados Festival^000000'.";
	next;
	mes "[Tattooist]";
	mes "There is no time like during the holy '^7A96E0Pintados Festival^000000' to draw Tattoos.";
	next;
	mes "[Tattooist]";
	mes "The festival doesn't last long so I should start drawing. What Tattoo do you need?";
	next;
	switch(select("I will think it over.:Bangungot Agimat Tattoo:Buwaya Agimat Tattoo:Bakonawa Agimat Tattoo")) {
	case 1:
		mes "[Tattooist]";
		mes "Hope you enjoy the '^7A96E0Pintados Festival^000000'.";
		close;
	case 2:
		set .@tattoo,2911; //Bangungot_Tattoo
		set .@doll,6517; //Bangungot_Doll
		set .@spirit,6524; //Bangungot_Spirit_Piece
		set .@name$,"Bangungot";
		break;
	case 3:
		set .@tattoo,2907; //Buwaya_Tattoo
		set .@doll,6518; //Buwaya_Doll
		set .@spirit,6525; //Buwaya_Spirit_Piece
		set .@name$,"Buwaya";
		break;
	case 4:
		set .@tattoo,2910; //Bakonawa_Tattoo
		set .@doll,6516; //Bakonawa_Doll
		set .@spirit,6523; //Bakonawa_Spirit_Piece
		set .@name$,"Bakonawa";
		break;
	}
	if (countitem(6499) < 10 || countitem(.@spirit) == 0 || countitem(.@doll) == 0) {
		mes "[Tattooist]";
		mes "I think you are short on materials.";
		mes "Need 10 Ancient Grudges, 1 Piece of "+.@name$+"'s Spirit, and 1 "+.@name$+" Doll to create a ^EE1D11"+.@name$+" Agimat Tattoo^000000.";
		close;
	}
	emotion e_flash;
	mes "[Tattooist]";
	mes "The materials are full with holy energy. I'm sure we'll get a great Tattoo using these.";
	next;
	mes "[Tattooist]";
	mes "Please don't interrupt while I'm working on drawing a holy Tattoo if you want it to come out right.";
	next;
	mes "The Tattooist placed the Ancient Grudges around the workplace.";
	next;
	specialeffect EF_FLAMELAUNCHER,AREA,"Ancient Grudge#01";
	specialeffect EF_FLAMELAUNCHER,AREA,"Ancient Grudge#02";
	specialeffect EF_FLAMELAUNCHER,AREA,"Ancient Grudge#03";
	specialeffect EF_FLAMELAUNCHER,AREA,"Ancient Grudge#04";
	specialeffect EF_FLAMELAUNCHER,AREA,"Ancient Grudge#05";
	mes "The Ancient Grudge lit up and tools starts to glow. He smiled satisfyingly at the glowing tools and materials.";
	next;
	mes "And then "+.@name$+" stared intensely at the doll as if to remember every detail of it in his head.";
	next;
	if (select("Aren't you going to start?:... ... ..") == 1) {
		emotion e_an;
		delitem 6499,5; //Ancient_Grudge
		mes "[Tattooist]";
		mes "Oh no, now you ruined it.";
		mes "I cannot draw a Tattoo for someone like you who doesn't understand art. You can take back the remaining materials.";
		next;
		mes "Received back 5 Ancient Grudges, "+.@name$+" Doll, and Piece of "+.@name$+"'s Spirit.";
		close;
	}
	emotion e_bzz;
	mes "Think he will melt the doll with his eyes?";
	next;
	specialeffect EF_SONICBLOWHIT;
	mes "He closed and opened his eyes slowly as if to memorize the doll in his head and then held up a glowing tool to start drawing.";
	next;
	mes "The "+.@name$+" Tattoo was completed almost instantly.";
	next;
	emotion e_an;
	mes "But he kept on looking at each corner of the drawing as if he didn't like some of its details.";
	next;
	if (select("Looks good to me.:... ... ..") == 1) {
		emotion e_an;
		emotion e_ag;
		delitem 6499,5; //Ancient_Grudge
		mes "[Tattooist]";
		mes "Ergh! I told you not to interrupt!";
		next;
		mes "The Tattooist ripped up the drawing irritably.";
		next;
		mes "[Tattooist]";
		mes "I can't continue like this. Maybe another time. You can take back the remaining materials.";
		next;
		mes "Received back 5 Ancient Grudges, "+.@name$+" Doll, and Piece of "+.@name$+"'s Spirit.";
		close;
	}
	mes "He looked at the drawing intensely for a long time and then nodded with a satisfied smile.";
	next;
	mes "Looks like he is satisfied with the "+.@name$+" drawing.";
	next;
	emotion e_dum;
	mes "But now he is staring at the sky without doing anything else. What is he waiting for?";
	next;
	if (select("When will it be done?:... ... ..") == 1) {
		emotion e_an;
		emotion e_ag;
		delitem 6499,5; //Ancient_Grudge
		mes "[Tattooist]";
		mes "Ergh! I told you not to interrupt!";
		next;
		mes "The Tattooist ripped up the drawing irritably.";
		next;
		mes "[Tattooist]";
		mes "I can't continue like this. Maybe another time. You can take back the remaining materials.";
		next;
		mes "Received back 5 Ancient Grudges, "+.@name$+" Doll, and Piece of "+.@name$+"'s Spirit.";
		close;
	}
	emotion e_dots;
	mes "[Tattooist]";
	mes ".";
	next;
	mes "[Tattooist]";
	mes ". .";
	next;
	mes "[Tattooist]";
	mes ". . .";
	next;
	emotion e_dots;
	mes "[Tattooist]";
	mes ". . . .";
	next;
	mes "[Tattooist]";
	mes ". . . . .";
	next;
	mes "[Tattooist]";
	mes ". . . . . .";
	next;
	mes "[Tattooist]";
	mes ". . . . . . .";
	next;
	emotion e_flash;
	mes "The Tattooist's eyes started to shine after staring at the sky for awhile, then he broke the Piece of "+.@name$+"'s Spirit with both his hands.";
	next;
	specialeffect EF_DETOXICATION;
	mes "The Piece of "+.@name$+"'s Spirit is shattered into powder. The Tattooist's hands are glowing.";
	next;
	if (select("Why did you break the pieces...:... ... ..") == 1) {
		delitem 6499,5; //Ancient_Grudge
		delitem .@spirit,1;
		emotion e_an;
		emotion e_ag;
		mes "[Tattooist]";
		mes "Ergh! I told you not to interrupt!";
		next;
		mes "The glowing light from his hands faded away. He starred at his hands for a while and then ripped up the drawing irritably.";
		next;
		mes "[Tattooist]";
		mes "I was this close to completing a wonderful piece but you ruined it. Not in a good mood. You can take the remaining materials.";
		next;
		mes "Received back 5 Ancient Grudges and the doll.";
		close;
	}
	mes "He held up the powder in both hands and then blew it onto the drawing.";
	next;
	specialeffect EF_FLAMELAUNCHER,AREA,"Ancient Grudge#01";
	specialeffect EF_FLAMELAUNCHER,AREA,"Ancient Grudge#02";
	specialeffect EF_FLAMELAUNCHER,AREA,"Ancient Grudge#03";
	specialeffect EF_FLAMELAUNCHER,AREA,"Ancient Grudge#04";
	specialeffect EF_FLAMELAUNCHER,AREA,"Ancient Grudge#05";
	mes "All Ancient Grudges started to burn and then the glowing light from the "+.@name$+" drawing faded away.";
	next;
	specialeffect EF_LIGHTSPHERE;
	mes "Blinking light on top of the drawing.";
	next;
	mes "Light faded away and the "+.@name$+" drawing is no longer the simple one it was before.";
	next;
	mes "The "+.@name$+" drawing looks as if it is... alive.";
	next;
	mes "The Tattooist is finally satisfied and is all smiles.";
	next;
	emotion e_heh;
	mes "[Tattooist]";
	mes "Ha ha. It came out great.";
	next;
	delitem 6499,10; //Ancient_Grudge
	delitem .@spirit,1;
	delitem .@doll,1;
	getitem .@tattoo,1;
	set $malaya_pintados_04$, strcharinfo(0);
	mes "[Tattooist]";
	mes "I'm sorry you had to wait for a long time. But it was worth it cause I haven't created a Tattoo of this quality in a long time.";
	next;
	mes "[Tattooist]";
	mes "The ^EE1D11"+.@name$+" Agimat Tattoo^000000 you've waited for is now completed.";
	next;
	mes "[Tattooist]";
	mes "Hope you enjoy the '^7A96E0Pintados Festival^000000'.";
	close;
}

ma_fild01,171,224,0	script	Ancient Grudge#01	139,{ end; }
ma_fild01,173,224,0	duplicate(Ancient Grudge#01)	Ancient Grudge#02	139
ma_fild01,173,223,0	duplicate(Ancient Grudge#01)	Ancient Grudge#03	139
ma_fild01,172,222,0	duplicate(Ancient Grudge#01)	Ancient Grudge#04	139
ma_fild01,171,223,0	duplicate(Ancient Grudge#01)	Ancient Grudge#05	139

ma_fild01,192,200,8	script	Tourist#pin01	58,{
	mes "[Tourist]";
	mes "I came from afar and dropped everything to come and enjoy the 'Pintados Festival'.";
	next;
	mes "[Tourist]";
	mes "I don't regret visiting but...";
	next;
	mes "[Tourist]";
	mes "I don't like the Tattoo I got after all I've gone through to get it.";
	next;
	mes "[Tourist]";
	mes "I've looked at it in the light but I think the Tattooist made a mistake.";
	next;
	mes "[Tourist]";
	mes "This ruined my whole visit.";
	next;
	mes "[Tourist]";
	mes "Tsk!";
	close;
OnInit:
	if (!$malaya_pintados_00)
		disablenpc "Tourist#pin01";
	end;
OnEnable:
	enablenpc "Tourist#pin01";
	end;
OnDisable:
	disablenpc "Tourist#pin01";
	end;
}

ma_fild01,211,200,6	script	Tourist#pin02	775,{
	mes "[Tourist]";
	mes "I heard of the 'Pintados Festival' and came all the way from Gonryun.";
	next;
	mes "[Tourist]";
	mes "Just in case you might think otherwise, this is a mask on my face and not a tattoo.";
	close;
OnInit:
	if (!$malaya_pintados_00)
		disablenpc "Tourist#pin02";
	end;
OnEnable:
	enablenpc "Tourist#pin02";
	end;
OnDisable:
	disablenpc "Tourist#pin02";
	end;
}

ma_fild01,251,205,2	script	Tourist#pin03	824,{
	mes "[Tourist]";
	mes "Hey, hear me. This isn't the Tattoo I wanted.";
	next;
	mes "[Tourist]";
	mes "I asked for a Bakonawa Tattoo but the more I look at it, this is Bangungot.";
	next;
	mes "[Tattooist]";
	mes "No... you said that you wanted that one. Don't be so difficult.";
	next;
	mes "[Tourist]";
	mes "Don't you know that customer is king? Huh? Do you want a bad reputation?";
	next;
	mes "[Tattooist]";
	mes "Ugh... Can't believe this.";
	close;
OnInit:
	if (!$malaya_pintados_00)
		disablenpc "Tourist#pin03";
	end;
OnEnable:
	enablenpc "Tourist#pin03";
	end;
OnDisable:
	disablenpc "Tourist#pin03";
	end;
}

ma_fild01,249,206,6	script	Young Tattooist#pin04	582,{
	mes "[Tattooist]";
	mes "Ah... I can't work with customers like this.";
	next;
	mes "[Tattooist]";
	mes "How many times do I have to tell you, you said you wanted a Bangungot.";
	next;
	mes "[Tattooist]";
	mes "Ouch, my throat... Shouting will get me nowhere.";
	close;
OnInit:
	if (!$malaya_pintados_00)
		disablenpc "Young Tattooist#pin04";
	end;
OnEnable:
	enablenpc "Young Tattooist#pin04";
	end;
OnDisable:
	disablenpc "Young Tattooist#pin04";
	end;
}

ma_fild01,162,235,6	script	Tourist#pin05	815,{
	mes "[Tourist]";
	mes "They say the Pintados Festival will only be held for one week.";
	next;
	mes "[Tourist]";
	mes "I came from Louyang without knowing about the festival. Must be my lucky day.";
	close;
OnInit:
	if (!$malaya_pintados_00)
		disablenpc "Tourist#pin05";
	end;
OnEnable:
	enablenpc "Tourist#pin05";
	end;
OnDisable:
	disablenpc "Tourist#pin05";
	end;
}

ma_fild01,164,234,6	script	Drumming Young Man#pin06	578,{
	mes "ba-dum-DUM- ba-dum-DUM";
	next;
	mes "[Drumming Young Man]";
	mes "The Pintados Festival wouldn't be a festival without a drummer.";
	next;
	mes "[Drumming Young Man]";
	mes "Why don't you join?";
	close;
OnInit:
	if (!$malaya_pintados_00)
		disablenpc "Drumming Young Man#pin06";
	end;
OnEnable:
	enablenpc "Drumming Young Man#pin06";
	end;
OnDisable:
	disablenpc "Drumming Young Man#pin06";
	end;
}

ma_fild01,170,231,4	script	Drumming Young Man#pin07	578,{
	mes "ba-dum-DUM- ba-dum-DUM";
	next;
	mes "[Drumming Young Man]";
	mes "The Pintados from Pintados Festival means painted in our language.";
	next;
	mes "[Drumming Young Man]";
	mes "So that is probably why we have people drawing special Tattoos during the festival.";
	close;
OnInit:
	if (!$malaya_pintados_00)
		disablenpc "Drumming Young Man#pin07";
	end;
OnEnable:
	enablenpc "Drumming Young Man#pin07";
	end;
OnDisable:
	disablenpc "Drumming Young Man#pin07";
	end;
}

ma_fild01,164,228,6	script	Drumming Young Man#pin08	578,{
	mes "ba-dum-DUM- ba-dum-DUM";
	next;
	mes "[Drumming Young Man]";
	mes "I don't remember it accurately, but they say the Pintados Festival was to celebrate a rich harvest.";
	close;
OnInit:
	if (!$malaya_pintados_00)
		disablenpc "Drumming Young Man#pin08";
	end;
OnEnable:
	enablenpc "Drumming Young Man#pin08";
	end;
OnDisable:
	disablenpc "Drumming Young Man#pin08";
	end;
}

ma_fild01,170,234,4	script	Beat Catching Boy#pin09	577,{
	mes "ba-dum-TSH- ba-dum-TSH-";
	next;
	mes "[Beat Catching Boy]";
	mes "I always get energetic when I hear drums and sticks in a rhythmic beat.";
	next;
	mes "[Beat Catching Boy]";
	mes "ba-dum-TSH- ba-dum-TSH- So much fun!";
	close;
OnInit:
	if (!$malaya_pintados_00)
		disablenpc "Beat Catching Boy#pin09";
	end;
OnEnable:
	enablenpc "Beat Catching Boy#pin09";
	end;
OnDisable:
	disablenpc "Beat Catching Boy#pin09";
	end;
}

ma_fild01,164,231,6	script	Beat Catching Boy#pin10	577,{
	mes "ba-dum-TSH- ba-dum-TSH-";
	next;
	mes "[Beat Catching Boy]";
	mes "I may be using sticks to catch the beat right now but you never know if I'll grow big enough to play the drums, right?";
	close;
OnInit:
	if (!$malaya_pintados_00)
		disablenpc strnpcinfo(0);
	end;
OnEnable:
	enablenpc strnpcinfo(0);
	end;
OnDisable:
	disablenpc strnpcinfo(0);
	end;
}
ma_fild01,170,228,4	duplicate(Beat Catching Boy#pin10)	Beat Catching Boy#pin11	577

/*
malaya,178,211,0	script	旅館入り口	45,1,1,{
OnTouch:
	if (MALAYA_1QUE < 2) {
		mes "‐扉が閉じられている。";
		mes "　住民は・なたを警戒しているようだ‐";
		close;
	}
	warp "ma_in01",24,80;
	end;
}
malaya,112,212,0	script	武器屋入り口	45,1,1,{
OnTouch:
	if (MALAYA_1QUE < 6) {
		mes "‐扉が閉じられている。";
		mes "　住民は・なたを警戒しているようだ‐";
		close;
	}
	warp "ma_in01",83,16;
	end;
}
malaya,299,167,0	script	道具屋入り口	45,1,1,{
OnTouch:
	if (MALAYA_1QUE < 6) {
		mes "‐扉が閉じられている。";
		mes "　住民は・なたを警戒しているようだ‐";
		close;
	}
	warp "ma_in01",12,24;
	end;
}
malaya,261,240,0	script	商家入り口	45,1,1,{
OnTouch:
	if (MALAYA_1QUE < 6) {
		mes "‐扉が閉じられている。";
		mes "　住民は・なたを警戒しているようだ‐";
		close;
	}
	warp "ma_in01",126,20;
	end;
}
malaya,300,211,0	script	民家入り口	45,1,1,{
OnTouch:
	if (MALAYA_1QUE < 2) {
		mes "‐扉が閉じられている。";
		mes "　住民は・なたを警戒しているようだ‐";
		close;
	}
	warp "ma_in01",36,152;
	end;
}
malaya,309,70,0	script	ペリー号入り口	45,1,1,{
OnTouch:
	if (MALAYA_2QUE < 1) {
		mes "‐鍵がかかっていて";
		mes "　中に入れない‐";
		close;
	}
	warp "ma_in01",108,92;
	end;
}
ma_dun01,150,6,0	script	病院2階入口	45,1,1,{
OnTouch:
	if (MALAYA_3QUE < 27) {
		mes "‐看護師ラズは、階段が";
		mes "　封鎖されていると言っていたが";
		mes "　通れるようだ‐";
		next;
		if (select("2階に行く","引き返す")==2) {
			mes "‐・なたは階段に背を向けた‐";
			close;
		}
		mes "‐・なたは階段を上った‐";
		close2;
	}
	warp "ma_dun01_jp",36,156;
	end;
}

//============================================================
// ポートマラヤNPC
//------------------------------------------------------------

malaya,234,204,4	script	カプラ職員	581,{
	callfunc "KafraMain",1,0x5b,"malaya",281,211,"NULL",0,0,0,800;
	close;
}

malaya,71,72,4	script	ポートマラヤガイド#01	579,{
	mes "[ポートマラヤガイド]";
	mes "多様な文化と伝説が生きる町";
	mes "^8B4513ポートマラヤ^000000にようこそ。";
	mes "私は町案内をしているので";
	mes "知りたいことが・れば";
	mes "なんでも聞いて下さい。";
	while(1) {
		next;
		switch(select("カプラ職員","旅館","武器商人","道具商人","病院","公園","港","ミニマップ上の位置表示を消す","やめる")) {
		case 1:
			mes "[ポートマラヤガイド]";
			mes "^0000FFカプラ職員^000000の";
			mes "位置をミニマップに";
			mes "表示します。";
			mes "他に案内が必要ですか？";
			viewpoint 1,71,79,0,0x0A82FF;
			viewpoint 1,234,204,1,0x0A82FF;
			continue;
		case 2:
			mes "[ポートマラヤガイド]";
			mes "^006400旅館^000000の";
			mes "位置をミニマップに";
			mes "表示します。";
			mes "他に案内が必要ですか？";
			viewpoint 1,178,208,2,0xAAFF00;
			continue;
		case 3:
			mes "[ポートマラヤガイド]";
			mes "^008080武器商人^000000の";
			mes "位置をミニマップに";
			mes "表示します。";
			mes "他に案内が必要ですか？";
			viewpoint 1,114,212,3,0x008080;
			continue;
		case 4:
			mes "[ポートマラヤガイド]";
			mes "^FF1493道具商人^000000の";
			mes "位置をミニマップに";
			mes "表示します。";
			mes "他に案内が必要ですか？";
			viewpoint 1,297,167,4,0xFF1493;
			continue;
		case 5:
			mes "[ポートマラヤガイド]";
			mes "^FF4500病院^000000の";
			mes "位置をミニマップに";
			mes "表示します。";
			mes "他に案内が必要ですか？";
			viewpoint 1,50,75,5,0xFF4500;
			continue;
		case 6:
			mes "[ポートマラヤガイド]";
			mes "^FF8C00公園^000000の";
			mes "位置をミニマップに";
			mes "表示します。";
			mes "他に案内が必要ですか？";
			viewpoint 1,280,360,6,0xFF8C00;
			continue;
		case 7:
			mes "[ポートマラヤガイド]";
			mes "^8A2BE2港^000000の";
			mes "位置をミニマップに";
			mes "表示します。";
			mes "他に案内が必要ですか？";
			viewpoint 1,276,55,7,0x8A2BE2;
			continue;
		case 8:
			mes "[ポートマラヤガイド]";
			mes "ミニマップ上の位置表示を消去します。";
			mes "他に何か必要ですか？";
			viewpoint 2,1,1,0,0xFFFFFF;
			viewpoint 2,1,1,1,0xFFFFFF;
			viewpoint 2,1,1,2,0xFFFFFF;
			viewpoint 2,1,1,3,0xFFFFFF;
			viewpoint 2,1,1,4,0xFFFFFF;
			viewpoint 2,1,1,5,0xFFFFFF;
			viewpoint 2,1,1,6,0xFFFFFF;
			viewpoint 2,1,1,7,0xFFFFFF;
			continue;
		case 9:
			mes "[ポートマラヤガイド]";
			mes "楽しんで行って下さいね。";
			close;
		}
	}
}
malaya,250,83,6		duplicate(ポートマラヤガイド#01)	ポートマラヤガイド#02	579
malaya,224,204,6	duplicate(ポートマラヤガイド#01)	ポートマラヤガイド#03	579

//============================================================
// 旅館
//------------------------------------------------------------
ma_in01,30,94,4	script	旅館の主	583,{
	if (MALAYA_1QUE < 6) {
		mes "[旅館の主]";
		mes "最近、町で噂になっている冒険者って";
		mes "・なたのことですよね？";
		mes "おかげ様で営業をすることが";
		mes "できるようになりました。";
		mes "・りがとうございます。";
	} else {
		mes "[旅館の主]";
		mes "いらっしゃいませ。";
		mes "ポートマラヤで最高の旅館";
		mes "コーラルリーフです";
	}
	next;
	mes "[旅館の主]";
	mes "休んでいかれるんですか？";
	mes "宿泊費は5000Zenyです。";
	next;
	switch(select("セーブする","休んでいく - 5000z","やめる")) {
	case 1:
		mes "[旅館の主]";
		mes "セーブしました。";
		mes "またお会いしましょう。";
		savepoint "ma_in01",44,97;
		close;
	case 2:
		if (Zeny < 5000) {
			mes "[旅館の主]";
			mes "お客様、すみませんが";
			mes "宿泊費が足りないようです。";
			close;
		}
		mes "[旅館の主]";
		mes "ではゆっくり休んで下さい。";
		close2;
		set Zeny,Zeny-5000;
		warp "ma_in01",43,98;
		percentheal 100,100;
		end;
	case 3:
		mes "[旅館の主]";
		mes "またのご来店をお待ちしております。";
		close;
	}
}

//============================================================
// ジプニードライバーNPC
//------------------------------------------------------------
function	script	MalayaJeepney	{
	set '@type,getarg(0);
	switch(select("搭乗する","ジプニー？","他のジプニーは・りませんか？","今は乗りません")) {
	case 1:
		mes "[ジプニードライバー]";
		mes "どこにいきますか？";
		next;
		//イベント用
		//switch(select("病院前","北の住宅地","船着き場","ポートマラヤ出口","中央広場","武器防具屋前","道具屋前","バリオ・マヒワガ","バリオ・マヒワガ南東","バリオ・フォレスト南","バリオ・フォレスト北東","ジプニーに乗り込む","やっぱりやめる")) {
		switch(select("病院前","北の住宅地","船着き場","ポートマラヤ出口","中央広場","武器防具屋前","道具屋前","ジプニーに乗り込む","やっぱりやめる")) {
		case 1:
			set '@x,66;
			set '@y,46;
			break;
		case 2:
			set '@x,183;
			set '@y,350;
			break;
		case 3:
			set '@x,258;
			set '@y,56;
			break;
		case 4:
			set '@x,361;
			set '@y,281;
			break;
		case 5:
			set '@x,239;
			set '@y,217;
			break;
		case 6:
			set '@x,119;
			set '@y,212;
			break;
		case 7:
			set '@x,292;
			set '@y,171;
			break;
		//case 8:
		//	set '@map$,"ma_fild01";
		//	set '@name$,"バリオ・マヒワガ";
		//	set '@x,202;
		//	set '@y,189;
		//case 9:
		//	if ('@map$=="") {
		//		set '@map$,"ma_fild01";
		//		set '@name$,"バリオ・マヒワガ南東";
		//		set '@x,290;
		//		set '@y,65;
		//	}
		//case 10:
		//	if ('@map$=="") {
		//		set '@map$,"ma_fild02";
		//		set '@name$,"バリオ・フォレスト南";
		//		set '@x,246;
		//		set '@y,40;
		//	}
		//case 11:
		//	if ('@map$=="") {
		//		set '@map$,"ma_fild02";
		//		set '@name$,"バリオ・フォレスト北東";
		//		set '@x,315;
		//		set '@y,314;
		//	}
		//	mes "[ジプニードライバー]";
		//	mes '@name$+ "には";
		//	mes "モンスターが出没します。";
		//	mes "また、ポートマラヤへ戻る";
		//	mes "ジプニーはございませんので";
		//	mes "ご注意ください。";
		//	if ('@name$=="バリオ・フォレスト北東") {
		//		next;
		//		mes "[ジプニードライバー]";
		//		mes "これは噂なのですが";
		//		mes "バリオ・フォレストの北東に・る洞窟で";
		//		mes "宝・を背負った巨大なワニが";
		//		mes "目撃されたらしいですよ。";
		//	}
		//	next;
		//	mes "[ジプニードライバー]";
		//	mes "本当に移動してもよろしいですか？";
		//	next;
		//	if (select("搭乗する","やっぱりやめる")==2) {
		//		mes "[ジプニードライバー]";
		//		mes "そうですか、";
		//		mes "必要になったら";
		//		mes "また声をかけてください。";
		//		close;
		//	}
		//	mes "[ジプニードライバー]";
		//	mes "では、お気をつけて。";
		//	close2;
		//	warp '@map$,'@x,'@y;
		//	end;
		//case 12:
		case 8:
			mes "[ジプニードライバー]";
			mes "では、楽しい時間をお送りください。";
			close2;
			warp "ma_zif0" +'@type+ "",29,24;
			end;
		//case 13:
		case 9:
			close;
		}
		mes "[ジプニードライバー]";
		mes "では、楽しい時間をお送りください。";
		close2;
		warp "malaya",'@x,'@y;
		end;
	case 2:
		switch('@type) {
		case 1:
			mes "[ジプニードライバー]";
			mes "ポートマラヤの町は初めてですか？";
			mes "では、説明しましょう。";
			next;
			mes "[ジプニードライバー]";
			mes "ジプニーは元々、";
			mes "貨物用の車両だったのですが、";
			mes "乗り合いタクシーとして改造し、";
			mes "大衆交通手段となっています。";
			next;
			mes "[ジプニードライバー]";
			mes "改造する人の個性によって";
			mes "様々なデザインのジプニーを";
			mes "見ることができます。";
			close;
		case 2:
			mes "[ジプニードライバー]";
			mes "ポートマラヤの町は初めてですか？";
			mes "では、説明しましょう。";
			next;
			mes "[ジプニードライバー]";
			mes "ジプニーは元々、";
			mes "貨物用の車両だったのですが、";
			mes "乗り合いタクシーとして改造し、";
			mes "大衆交通手段となっています。";
			next;
			mes "[ジプニードライバー]";
			mes "このジプニーは私が改造しました。";
			mes "定員は少なめですが、";
			mes "重さで潰れたりはしませんよ。";
			close;
		case 3:
			mes "[ジプニードライバー]";
			mes "ポートマラヤの町は初めてですか？";
			mes "では、説明しましょう。";
			next;
			mes "[ジプニードライバー]";
			mes "ジプニーは元々、";
			mes "貨物用の車両だったのですが、";
			mes "乗り合いタクシーとして改造し、";
			mes "大衆交通手段となっています。";
			next;
			mes "[ジプニードライバー]";
			mes "改造する人の個性によって";
			mes "様々なデザインのジプニーを";
			mes "見ることができます。";
			mes "今やポートマラヤの名物です。";
			close;
		case 4:
			mes "[ジプニードライバー]";
			mes "ポートマラヤの町は初めてですか？";
			next;
			mes "[ジプニードライバー]";
			mes "ジプニーは元々、";
			mes "貨物用の車両だったのですが、";
			mes "乗り合いタクシーとして改造し、";
			mes "大衆交通手段となっています。";
			next;
			mes "[ジプニードライバー]";
			mes "ポートマラヤに来たからには";
			mes "ジプニーに乗らないと後悔しますよ。";
			close;
		case 5:
			mes "[ジプニードライバー]";
			mes "ポートマラヤの町は初めてですか？";
			mes "ま・、サービスで説明しましょう。";
			next;
			mes "[ジプニードライバー]";
			mes "ジプニーはポートマラヤを代表する";
			mes "大衆交通手段です。";
			mes "安全上の問題で、ジプニーごとに";
			mes "搭乗人数を調整しています。";
			next;
			mes "[ジプニードライバー]";
			mes "以前は、ジプニーに180人も";
			mes "乗る場合も・ったといいますが、";
			mes "最近では、そんな大勢が乗ることは";
			mes "・りませんね。";
			close;
		case 6:
			mes "[ジプニードライバー]";
			mes "ポートマラヤの町は初めてですか？";
			mes "旅行者へのご案内もドライバーの仕事！";
			mes "さっそく、ご説明しましょう。";
			next;
			mes "[ジプニードライバー]";
			mes "貨物用の車両を";
			mes "オシャレに改造したのがジプニーだ！";
			mes "もちろん、このジプニーは";
			mes "私が改造したんです。";
			mes "イケてるでしょう？";
			next;
			mes "[ジプニードライバー]";
			mes "たとえ、お客様が王侯貴族で・っても";
			mes "私のジプニーを運転させるわけには";
			mes "いきませんよ。";
			close;
		case 7:
			mes "[ジプニードライバー]";
			mes "ジプニーはポートマラヤの";
			mes "大衆交通手段です。";
			mes "町の・ちこちで見かけますし、";
			mes "なんといっても無料です！";
			next;
			mes "[ジプニードライバー]";
			mes "ジプニーによって定員がバラバラで";
			mes "統一感が・りませんけど、";
			mes "誰も問題にしません。";
			mes "満員なら、他のジプニーに乗れば";
			mes "いいだけですからね。";
			close;
		case 8:
			mes "[ジプニードライバー]";
			mes "ジプニーは安全性が重視された";
			mes "大衆交通手段です。";
			next;
			mes "[ジプニードライバー]";
			mes "私のジプニーは、";
			mes "現在ポートマラヤでの最高等級";
			mes "「60人ジプニー賞」を貰っています！";
			next;
			mes "[ジプニードライバー]";
			mes "絶対!!　安全ですから";
			mes "心配しないで乗ってください。";
			close;
		case 9:
			mes "[ジプニードライバー]";
			mes "ポートマラヤの町は初めてですか？";
			mes "では、説明しましょう。";
			next;
			mes "[ジプニードライバー]";
			mes "ジプニーは元々";
			mes "貨物用の車両だったのですが、";
			mes "乗り合いタクシーとして改造し、";
			mes "大衆交通手段となっています。";
			next;
			mes "[ジプニードライバー]";
			mes "改造する人の個性によって";
			mes "様々なデザインのジプニーを";
			mes "見ることができます。";
			close;
		}
	case 3:
		mes "[ジプニードライバー]";
		mes "ここポートマラヤでは";
		mes "全部で9つのジプニーが運行中です。";
		next;
		mes "[ジプニードライバー]";
		mes "他のジプニーの位置を";
		mes "知りたいですか？";
		next;
		if (select("はい","いいえ")==2) {
			mes "[ジプニードライバー]";
			mes "わかりました。";
			mes "では、楽しい旅をお過ごしください！";
			close;
		}
		viewpoint 1,237,240,1,0xF7E009;
		viewpoint 1,67,44,2,0xF7E009;
		viewpoint 1,282,129,3,0xF7E009;
		viewpoint 1,134,250,4,0xF7E009;
		viewpoint 1,341,153,5,0xF7E009;
		viewpoint 1,293,290,6,0xF7E009;
		viewpoint 1,242,221,7,0xF7E009;
		viewpoint 1,62,245,8,0xF7E009;
		viewpoint 1,257,58,9,0xF7E009;
		mes "[ジプニードライバー]";
		mes "地図上に、ジプニーの位置を";
		mes "メモしておきました。";
		close;
	case 4:
		mes "[ジプニードライバー]";
		mes "ジプニーを利用したくなったら、";
		mes "近くのドライバーに";
		mes "声をかけてください。";
		close;
	}
}

ma_zif01,30,22,0	warp	jeepney01	1,1,malaya,241,238
ma_zif02,30,22,0	warp	jeepney02	1,1,malaya,71,43
ma_zif03,30,22,0	warp	jeepney03	1,1,malaya,284,129
ma_zif04,30,22,0	warp	jeepney04	1,1,malaya,134,247
ma_zif05,30,22,0	warp	jeepney05	1,1,malaya,341,150
ma_zif06,30,22,0	warp	jeepney06	1,1,malaya,294,293
ma_zif07,30,22,0	warp	jeepney07	1,1,malaya,239,221
ma_zif08,30,22,0	warp	jeepney08	1,1,malaya,59,246
ma_zif09,30,22,0	warp	jeepney09	1,1,malaya,254,68

//============================================================
// ポートマラヤ室内NPC
//------------------------------------------------------------
ma_in01_jp,76,14,1	script	タトゥーイスト	574,{
	emotion 1;
	mes "[タトゥーイスト]";
	mes "タトゥーが必要なのか？";
	mes "　";
	mes "おや……？";
	next;
	mes "[タトゥーイスト]";
	mes "君からは不思議な力を感じる。";
	mes "ただの観光客ではなさそうだね。";
	mes "　";
	mes "よし、君には他の人とは違う、";
	mes "特別なタトゥーを作って・げよう。";
	next;
	switch(select("タトゥーとは何ですか？","タトゥーの効果が知りたいです","タトゥーが欲しいです","特に用はないです")) {
	case 1:
		mes "[タトゥーイスト]";
		mes "強力なモンスターの姿を象った";
		mes "タトゥーは、その人の能力を上昇させる";
		mes "効果が・る。";
		next;
		menu "作成するにはどうすればいいですか？",-;
		mes "[タトゥーイスト]";
		mes "タトゥーはとても神聖なものだ。";
		mes "それ故、作成には貴重な材料が";
		mes "必要となる。";
		next;
		mes "[タトゥーイスト]";
		mes "タトゥーを作っている間に";
		mes "私を守ってくれる";
		mes "古代の呪符10個。";
		next;
		mes "[タトゥーイスト]";
		mes "強力なモンスターの姿をしている";
		mes "人形1個。";
		next;
		mes "[タトゥーイスト]";
		mes "最後はタトゥーに強力な";
		mes "モンスターの気を吹き込む為に";
		mes "魂の欠片が必要になる。";
		next;
		mes "[タトゥーイスト]";
		mes "必要な魂の欠片の数は";
		mes "タトゥーによって異なるから";
		mes "それぞれのタトゥーの効果を";
		mes "説明するときに教えて・げよう。";
		next;
		menu "どのようなタトゥーが・るんですか？",-;
		mes "[タトゥーイスト]";
		mes "私が作れるタトゥーは";
		mes "全部で3つ・る。";
		next;
		mes "[タトゥーイスト]";
		mes "ポートマラヤの古い巨木から生まれた";
		mes "モンスター、ビョンウンゴのタトゥー。";
		next;
		mes "[タトゥーイスト]";
		mes "空に・る月を飲み込むといわれている";
		mes "怪物、バコナワのタトゥー。";
		next;
		mes "[タトゥーイスト]";
		mes "人々を拉致する巨大なワニ、";
		mes "ブワヤのタトゥー。";
		next;
		menu "材料はどこに・りますか？",-;
		mes "[タトゥーイスト]";
		mes "タトゥーの材料はそれぞれ";
		mes "ブワヤ、ビョンウンゴ、バコナワから";
		mes "入手することができる。";
		mes "つまり、決して簡単なことではない。";
		next;
		mes "[タトゥーイスト]";
		mes "そして、神聖な作業で・るため、";
		mes "^7A96E0ピンタドスフェスティバル^000000の間だけ";
		mes "タトゥーを作ることができる。";
		mes "タトゥーが欲しかったら材料を揃えて";
		mes "^7A96E0ピンタドスフェスティバル^000000開催中に";
		mes "来るのだな。";
		close;
	case 2:
		mes "[タトゥーイスト]";
		mes "どのタトゥーの効果が知りたいんだ？";
		while(1) {
			next;
			switch(select("ビョンウンゴの守護タトゥー","ブワヤの守護タトゥー","バコナワの守護タトゥー","特に知りたいことはない")) {
			case 1:
				mes "[タトゥーイスト]";
				mes "ビョンウンゴの守護タトゥーには";
				mes "ポートマラヤの古い巨木の気が";
				mes "吹き込まれている。";
				next;
				mes "[タトゥーイスト]";
				mes "ヒール、サンクチュアリ";
				mes "ポーションピッチャー";
				mes "ハイネスヒール、コルセオヒール";
				mes "使用時、HP回復量+4%、";
				next;
				mes "[タトゥーイスト]";
				mes "ヒール、サンクチュアリ";
				mes "ポーションピッチャー";
				mes "ハイネスヒール、コルセオヒール";
				mes "を受けた時のHP回復量+7%、";
				mes "一部の回復アイテムによる";
				mes "HP回復量+7%、の効果を持っている。";
				next;
				mes "[タトゥーイスト]";
				mes "ビョンウンゴの守護タトゥーを作るには";
				mes "古代の呪符10個";
				mes "ビョンウンゴ人形1個";
				mes "ビョンウンゴの魂の欠片100個";
				mes "が必要だ。";
				break;
			case 2:
				mes "[タトゥーイスト]";
				mes "ブワヤの守護タトゥーには";
				mes "巨大なワニの気が";
				mes "吹き込まれている。";
				next;
				mes "[タトゥーイスト]";
				mes "Matk+7%、詠唱時間-7%";
				mes "の効果を持っている。";
				next;
				mes "[タトゥーイスト]";
				mes "ブワヤの守護タトゥーを作るには";
				mes "古代の呪符10個";
				mes "ブワヤ人形1個";
				mes "ブワヤの魂の欠片350個";
				mes "が必要だ。";
				break;
			case 3:
				mes "[タトゥーイスト]";
				mes "バコナワの守護タトゥーには";
				mes "月を飲み込む巨大な怪物の気が";
				mes "吹き込まれている。";
				next;
				mes "[タトゥーイスト]";
				mes "物理攻撃で与えるダメージ+7%";
				mes "攻撃速度+10%";
				mes "の効果を持っている。";
				next;
				mes "[タトゥーイスト]";
				mes "バコナワの守護タトゥーを作るには";
				mes "古代の呪符10個";
				mes "バコナワ人形1個";
				mes "バコナワの魂の欠片50個";
				mes "が必要だ。";
				break;
			case 4:
				mes "[タトゥーイスト]";
				mes "聞きたいことは無いようだな。";
				mes "では良い旅を。";
				close;
			}
			next;
			mes "[タトゥーイスト]";
			mes "他のタトゥーの効果を知りたいのか？";
		}
	case 3:
		mes "[タトゥーイスト]";
		mes "神聖なるタトゥーの作成は";
		mes "^7A96E0ピンタドスフェスティバル^000000の";
		mes "開催期間中にのみ行っている。";
		next;
		mes "[タトゥーイスト]";
		mes "今はピンタドスフェスティバルの";
		mes "開催期間ではないようだな……。";
		mes "フェスティバルが開催されたら";
		mes "材料を持ってまた来なさい。";
		close;
	case 4:
		mes "[タトゥーイスト]";
		mes "タトゥーが欲しくなったら";
		mes "また来なさい。";
		close;
	}
}

ma_in01_jp,76,13,0	script	古代の呪符#01	139,{}
ma_in01_jp,77,14,0	script	古代の呪符#02	139,{}
ma_in01_jp,77,15,0	script	古代の呪符#03	139,{}
ma_in01_jp,76,15,0	script	古代の呪符#04	139,{}
ma_in01_jp,75,15,0	script	古代の呪符#05	139,{}

ma_in01_jp,63,18,7	script	部族鍛冶屋	582,{
	mes "[バヤニ]";
	mes "俺はここで鍛冶屋をやっているバヤニ。";
	mes "良い名前だろう？";
	mes "「英雄」って意味なんだが、";
	mes "その名に恥じぬよう修行を";
	mes "積み重ねているうちに、いつしか俺は";
	mes "神の手と呼ばれるようになった。";
	next;
	mes "[バヤニ]";
	mes "もしお前が強力な力を秘めた";
	mes "防具を持ってきたら、この神の手で";
	mes "その防具を更に強力な防具に";
	mes "生まれ変わらせてやろう。";
	next;
	switch(select("どんな防具を強化してくれるんですか？","強化に必要なものは何ですか？","強化でどんな効果が付与されますか？","強化をお願いします")) {
	case 1:
		mes "[バヤニ]";
		mes "いかにもな質問だな。";
		mes "しかし！";
		mes "重要な質問でも・る。";
		next;
		mes "[バヤニ]";
		mes "今から言う防具が対象だから、";
		mes "ちゃんとメモしておくように。";
		next;
		mes "[バヤニ]";
		mes "月を飲み込む怪物で・る";
		mes "バコナワの鱗で作られた";
		mes "^FF0000バコナワの鱗鎧^000000。";
		next;
		mes "[バヤニ]";
		mes "ポートマラヤに生息している";
		mes "フジを使い、軽く丈夫に作った";
		mes "^FF0000カラサック^000000。";
		next;
		mes "[バヤニ]";
		mes "人々を拉致して食べてしまうワニ";
		mes "ブワヤの皮で作られた";
		mes "^FF0000ブワヤのフードマント^000000。";
		next;
		mes "[バヤニ]";
		mes "強力なモンスタービョンウンゴの";
		mes "憎悪と復讐心が込められている";
		mes "^FF0000ビョンウンゴブーツ^000000。";
		next;
		mes "[バヤニ]";
		mes "この強力な4種類の防具を、";
		mes "超強力な防具にしてやろう！";
		close;
	case 2:
		mes "[バヤニ]";
		mes "良い心構えだ。";
		mes "タダでうまい話は無いことを";
		mes "知っているようだな。";
		next;
		mes "[バヤニ]";
		mes "まず！　強化させる防具自体が";
		mes "丈夫でないといけない！";
		mes "最低でも^FF0000精錬値が9以上^000000は";
		mes "必要だ!!";
		next;
		mes "[バヤニ]";
		mes "更に！　混ざりものが・っては";
		mes "真の強さは得られない！";
		mes "純粋なものにこそ、本当の強さが宿る！";
		mes "作業中、有害な物から守ってくれる";
		mes "^FF0000古代の呪符20個^000000が必要だ!!";
		next;
		mes "[バヤニ]";
		mes "^FF0000精錬値9以上の防具^000000と";
		mes "^FF0000古代の呪符20個^000000、";
		mes "そこにこの俺の神の手が加わった時！";
		next;
		mes "[バヤニ]";
		mes "その防具は新たな力を得て";
		mes "生まれかわるだろう！";
		next;
		mes "[バヤニ]";
		mes "そしてこの神の手に";
		mes "強化の失敗など有りえない！";
		mes "その点は安心してくれ！";
		close;
	case 3:
		mes "[バヤニ]";
		mes "それはとても重要な質問だ。";
		next;
		mes "[バヤニ]";
		mes "俺が強力だと100回言っても、";
		mes "当事者がそれに満足できなければ、";
		mes "それは本当に強力になったと言えない！";
		mes "どう強化されるのか、しっかり聞いて";
		mes "判断するようにしてくれ！";
		next;
		mes "[バヤニ]";
		mes "どの防具について聞きたいんだ？";
		while(1) {
			next;
			switch(select("バコナワの鱗鎧","カラサック","ブワヤのフードマント","ビョンウンゴブーツ","もう大丈夫")) {
			case 1:
				mes "[バヤニ]";
				mes "バコナワの鱗鎧は";
				mes "全てのステータスが+1され、";
				mes "さらに精錬値が2上がる度に";
				mes "1%ずつ、ボスモンスターから受ける";
				mes "ダメージが減少できる鎧だ。";
				mes "これだけでも十分な性能だが……";
				next;
				mes "[バヤニ]";
				mes "しかし！";
				mes "君の魂はこの程度では";
				mes "足りないと言うだろう……。";
				next;
				mes "[バヤニ]";
				mes "そこで！";
				mes "全てのステータスを+2に増やし、";
				mes "さらにカードが装着できるように、";
				mes "スロットをひとつ増やしてやろう！";
				break;
			case 2:
				mes "[バヤニ]";
				mes "カラサックは精錬値が3上がる度に";
				mes "1%ずつ、ボスモンスターから受ける";
				mes "ダメージが減少できる";
				mes "素晴らしい盾だが……";
				next;
				mes "[バヤニ]";
				mes "盾のくせにカードを装着できる";
				mes "スロットがないとは……";
				mes "これでは君の心は満たされない。";
				next;
				mes "[バヤニ]";
				mes "だから！";
				mes "カードを装着できるスロットを";
				mes "ひとつ増やしてやろう！";
				break;
			case 3:
				mes "[バヤニ]";
				mes "ブワヤのフードマントは";
				mes "精錬値が3上がる度に1%ずつ、";
				mes "回復アイテムとヒールを";
				mes "受けたときの回復量が増加する。";
				next;
				mes "[バヤニ]";
				mes "さらに！　水、地、火、風属性の";
				mes "モンスターから受ける物理ダメージを";
				mes "-10%するという";
				mes "とてつもないアイテムなのだが……";
				next;
				mes "[バヤニ]";
				mes "やはりこれだけではもの足りない。";
				mes "肩にかける物なのに、";
				mes "スロットが無いとは……。";
				mes "肩にかける物と言ったら";
				mes "レイドリックカードだろう!?";
				next;
				mes "[バヤニ]";
				mes "心配するな！";
				mes "カードを装着できるよう、";
				mes "スロットをひとつ増やしてやるぞ！";
				break;
			case 4:
				mes "[バヤニ]";
				mes "ビョンウンゴブーツは";
				mes "精錬値が1上がる度に";
				mes "Mdefが1ずつ増加する";
				mes "凄いブーツだ。";
				next;
				mes "[バヤニ]";
				mes "その凄いブーツに";
				mes "カードが装着できるスロットを";
				mes "ひとつお付けしよう!!";
				next;
				mes "[バヤニ]";
				mes "素晴らしいだろう!?";
				mes "さ・、強化するなら今すぐだ！";
				break;
			case 5:
				mes "[バヤニ]";
				mes "これ以上の質問は無さそうだな。";
				mes "忘れるなよ。";
				mes "得る物が・れば失う物も";
				mes "・るという事を。";
				close;
			}
			next;
			mes "[バヤニ]";
			mes "・と、俺が強化した装備には";
			mes "すべて俺の銘を入れるようにしている。";
			mes "装備の名前の前に「バヤニ」が付くが、";
			mes "せいぜい自慢しすぎないようにな！";
			mes "ハッハッハッハ！";
			emotion e_heh;
			next;
			mes "[バヤニ]";
			mes "ただし！";
			mes "得る物が・れば失う物も・る。";
			next;
			mes "[バヤニ]";
			mes "^0000FFカラサック、ブワヤのフードマント、";
			mes "バコナワの鱗鎧、ビョンウンゴブーツを";
			mes "すべて装着した時に得る事ができていた";
			mes "^FF0000セット効果^0000FFは失われてしまう！^000000";
			next;
			mes "[バヤニ]";
			mes "また、新しい防具に生まれ変わるため、";
			mes "^FF0000精錬値も0になってしまう。^000000";
			mes "それでも強化するかどうか、";
			mes "よく考えて判断するんだ！";
			mes "　";
			mes "まだ質問は・るのか？";
		}
	case 4:
		mes "[バヤニ]";
		mes "ハッハッハッハ！";
		mes "いいぞ！　いいぞ!!";
		mes "強化に必要なアイテムは揃っているか？";
		next;
		if (select("まだ揃っていません","揃っています")==1) {
			mes "[バヤニ]";
			mes "そうか！";
			mes "精錬値が9以上の防具と";
			mes "古代の呪符20個だ、覚えておけよ！";
			close;
		}
//		if (countitem(6499)<20) {
			mes "[バヤニ]";
			mes "何だ、足りないじゃないか！";
			mes "強化には古代の呪符20個が必要だ。";
			close;
//		}
	}
}

//============================================================
// 警戒する街クエストNPC
//- Registry -------------------------------------------------
// MALAYA_1QUE -> 0～6
//------------------------------------------------------------
malaya,266,76,3	script	警備隊員ロデル	570,7,7,{
	switch(MALAYA_1QUE) {
	case 0:
		break;
	case 1:
		mes "[警備隊員ロデル]";
		mes "まずはムンバキ・ポンに";
		mes "会ってみなさい。";
		mes "君に問題がないと認められれば、";
		mes "町の人たちも避けたりはしないだろう。";
		mes "位置を君の持っている地図に記したから";
		mes "参考にしてみてくれ。";
		viewpoint 1,185,358,0,0x0A82FF;
		close;
	case 2:
	case 3:
	case 4:
	case 5:
		mes "[警備隊員ロデル]";
		mes "不快な思いをさせて申し訳ないが、";
		mes "町の人たちの気持ちも";
		mes "理解して・げてくれないか。";
		mes "悪霊に苦しめられているから";
		mes "知らないものに対する警戒が強いんだ。";
		close;
	case 6:
		if (BaseLevel < 100) {
			mes "[警備隊員ロデル]";
			mes "ここの生活はどうだい？";
			mes "町の人もそんなに悪くないだろう。";
			next;
			mes "[警備隊員ロデル]";
			mes "そうそう、出来れば君にお願いしたい";
			mes "仕事が・ったんだが……";
			mes "まだちょっと無理そうだね。";
			next;
			mes "‐警備隊員に実力不足を指摘された";
			mes "　^FF0000BaseLv100以上^000000になってから";
			mes "　・らためて、話かけてみよう‐";
			close;
		}
		if (checkquest(7404)) {
			if (!(checkquest(7404) & 0x4)) {
				mes "[警備隊員ロデル]";
				mes "ジェジェリンを退治してきてくれ。";
				mes "20匹ほど退治すれば、";
				mes "奴らも少し大人しくなるだろう。";
				close;
			}
			mes "[警備隊員ロデル]";
			mes "お、ジェジェリン20匹退治、";
			mes "確かに確認した。";
			mes "これはジェジェリン退治の参加者に";
			mes "渡してくれと送られて来た褒賞だ。";
			next;
			mes "[警備隊員ロデル]";
			mes "これからもジェジェリンは";
			mes "定期的に退治する予定なので、";
			mes "良ければ次も一緒に参加してくれ。";
			setquest 7405;
			getitem 6497, 1;
			getexp 500000,0,1;
			getexp 0,200000,0;
			delquest 7404;
			close;
		}
		switch(rand(1,4)){
		case 1:
			if (
				$MalayaName$[0] != "" && $MalayaName$[0] != strcharinfo(0) &&
				$MalayaName$[1] != "" && $MalayaName$[1] != strcharinfo(0) &&
				$MalayaName$[2] != "" && $MalayaName$[2] != strcharinfo(0)
			) {
				mes "[警備隊員ロデル]";
				mes "最近、勇敢な戦士として、";
				mes $MalayaName$[0];
				mes $MalayaName$[1];
				mes $MalayaName$[2];
				mes "の話題で町は持ちきりさ。";
				break;
			}
		case 2:
			if ($MalayaName$[1] != "" && $MalayaName$[1] != strcharinfo(0)) {
				mes "[警備隊員ロデル]";
				mes "最近、友達になった人がいるんだ。";
				mes $MalayaName$[1];
				mes "という人だけど知っているか？";
				mes "・、もちろん君もいい友達だよ。";
				break;
			}
		case 3:
			mes "[警備隊員ロデル]";
			mes "ジプニーで知らない異性と";
			mes "ふたりきりになったこと・るかい？";
			mes "は・……本当にぎくしゃくしたよ……。";
			mes "こんなんで結婚できるのかな。";
			break;
		case 4:
			mes "[警備隊員ロデル]";
			mes "暇なら代わりに警備でもしてみるかい？";
			mes "最悪な仕事だよ。";
			mes "太陽が頭の上に昇っていても";
			mes "動いちゃいけないし……";
			break;
		}
		next;
		if (checkquest(7405)) {
			if (!(checkquest(7405) & 0x2)) {
				mes "[警備隊員ロデル]";
				mes "そうそう、ジェジェリン退治だけど、";
				mes "これからも定期的に討伐していく";
				mes "つもりだから、その気が・るなら";
				mes "また来てくれ。";
				close;
			}
			mes "[警備隊員ロデル]";
			mes "ところで、この前のジェジェリン";
			mes "退治だけど、バリオ・マヒワガを";
			mes "行き来する人たちに、すごく評判が";
			mes "良かったよ。";
			mes "是非、もう一度参加してくれないか。";
			next;
			if (select("ジェジェリン退治に参加する","断る")==2) {
				mes "[警備隊員ロデル]";
				mes "そうか？残念だ。";
				close;
			}
			mes "[警備隊員ロデル]";
			mes "おお、・りがとう。";
			mes "それじゃジェジェリンを";
			mes "^FF000020匹^000000倒してくれ。";
			mes "君なら簡単だろう。";
			mes "頼んだぞ。";
			delquest 7405;
			setquest 7404;
			close;
		}
		mes "[警備隊員ロデル]";
		mes "ところで君にお願いしたい";
		mes "仕事が・るんだけどやってみないか？";
		next;
		mes "[警備隊員ロデル]";
		mes "バリオ・マヒワガへの往来を妨げる";
		mes "ジェジェリンを大々的に";
		mes "退治することが決定したんだ。";
		next;
		mes "[警備隊員ロデル]";
		mes "数が多いので殲滅は難しいが、";
		mes "定期的に・る程度退治することで";
		mes "奴らの活動範囲を狭める事が目的だ。";
		mes "どうだろう、参加してみないか？";
		next;
		if (select("ジェジェリン退治に参加する","断る")==2) {
			mes "[警備隊員ロデル]";
			mes "そうか？残念だ。";
			close;
		}
		mes "[警備隊員ロデル]";
		mes "おお、・りがとう。";
		mes "それじゃジェジェリンを";
		mes "^FF000020匹^000000倒してくれ。";
		mes "君なら簡単だろう。";
		mes "頼んだぞ。";
		delquest 72082;
		setquest 7404;
		close;
	}
OnTouch:
	emotion e_gasp;
	if (MALAYA_1QUE==0) {
		mes "[警備隊員ロデル]";
		mes "やぁ！";
		mes "ようこそポートマラヤへ！";
		next;
		mes "[警備隊員ロデル]";
		mes "これまで君が見たことのないような";
		mes "独特な雰囲気の町並みや、";
		mes "隣村バリオ・マヒワガの名物";
		mes "ピンタドスフェスティバルなど、";
		mes "見どころはいっぱいだ。";
		mes "目いっぱい観光していってくれ！";
		next;
		mes "[警備隊員ロデル]";
		mes "……と言いたいところだが、";
		mes "ちょっとばかり来る時期が悪かったな。";
		next;
		mes "[警備隊員ロデル]";
		mes "実は……";
		mes "最近、町に悪霊が出没するんだ。";
		mes "それで町の住民はみんな、恐怖と不安に";
		mes "駆られている。";
		next;
		mes "[警備隊員ロデル]";
		mes "中には、人間に化ける";
		mes "ズル賢い悪霊もいてな……";
		mes "住民は顔の知らない人には近寄らない";
		mes "ようになってしまったのさ。";
		next;
		mes "[警備隊員ロデル]";
		mes "だから……悪気はないのだけど、";
		mes "ポートマラヤの住民たちは";
		mes "外から来た冒険者の君を避けようと";
		mes "するだろう。";
		mes "旅館も、商店も外部の人には";
		mes "商売をしてくれないかもしれない。";
		next;
		mes "[警備隊員ロデル]";
		mes "町の人たちの警戒を解くために、";
		mes "まずはムンバキ・ポンに";
		mes "会ってみなさい。";
		next;
		mes "[警備隊員ロデル]";
		mes "ムンバキ・ポンは、この町の指導者だ。";
		mes "霊的な力を持っていて、";
		mes "町の住民に信頼されている。";
		mes "ムンバキ・ポンに認められれば";
		mes "みんなもきっと安心するだろう。";
		next;
		mes "[警備隊員ロデル]";
		mes "ムンバキ・ポンがいる場所を";
		mes "君の持っている地図に記しておくよ。";
		mes "このような時期で申し訳ない。";
		mes "訪問してくれたことは歓迎するよ。";
		viewpoint 1,185,358,0,0x0A82FF;
		set MALAYA_1QUE,1;
		setquest 7350;
		close;
	}
	end;
OnInit:
	waitingroom "警戒する街",0;
	end;
}

//============================================================
// 街の救済者クエストNPC
//- Registry -------------------------------------------------
// MALAYA_1QUE -> 0～6
// MALAYA_1SUBQUE -> 0x0～0x3F
//------------------------------------------------------------
malaya,185,358,3	script	指導者ムンバキ・ポン	580,{
	switch(MALAYA_1QUE) {
	case 0:
	case 1:
		mes "[ムンバキ・ポン]";
		mes "海を渡って来た人だね。";
		mes "若き旅人よ";
		mes "ようこそ、ポートマラヤへ。";
		next;
		mes "[ムンバキ・ポン]";
		mes "私はムンバキ・ポン。";
		mes "霊的な力によって、";
		mes "町の人々を導く者だ。";
		next;
		mes "[ムンバキ・ポン]";
		mes "君が私を訪ねたのは……";
		mes "そうか、";
		mes "ロデルに言われたのだね。";
		next;
		mes "[ムンバキ・ポン]";
		mes "わかっている……";
		mes "町の人たちの態度のことだろう。";
		mes "私なら町の人たちに顔が利くから";
		mes "なんとかできるだろうと";
		mes "君を私の所によこした。";
		mes "違うかね？";
		if (MALAYA_1QUE==0) {
			next;
			mes "[ムンバキ・ポン]";
			mes "なに。違うのか？";
			mes "では君と私の間に何か";
			mes "霊的な導きが・ったからだろうな。";
			mes "これも何かの思し召しよ。";
		}
		next;
		mes "[ムンバキ・ポン]";
		mes "若き旅人よ";
		mes "とにかくよく来てくれた。";
		mes "町の人たちの警戒心が強いからといって";
		mes "どうか彼等を嫌いにならないでほしい。";
		next;
		mes "[ムンバキ・ポン]";
		mes "彼等は不安なのだよ。";
		mes "最近、悪い魂たちが激しく暴れて、";
		mes "人々を苦しめているのだ……。";
		next;
		mes "[ムンバキ・ポン]";
		mes "魂というのは、";
		mes "本来、森や海、大気といった";
		mes "大自然の守護者だ。";
		next;
		mes "[ムンバキ・ポン]";
		mes "私たちはこれまでこの魂と供に";
		mes "平和を祈っていたのに、";
		mes "どうして人々を苦しめるような";
		mes "悪い魂が現れるようになったのか……";
		mes "まったくわからないんだ。";
		next;
		soundeffect "se_pay_grass_05.wav",0,0;
		mes "‐ムンバキ・ポンの話の最中に";
		mes "　物音が聞こえたような気がする‐";
		next;
		musiceffect "120";
		mes "‐いつの間にか・たりは暗くなり";
		mes "　肌寒さを感じる‐";
		next;
		sc_start3 SC_BLIND,0,0,0,0,360000,10;
		soundeffect "se_moaning01.wav",0,0;
		mes "[ムンバキ・ポン]";
		mes "むむ……";
		mes "さっそく来てしまったようだな。";
		next;
		mes "^4d4dff‐ムンバキ・ポンが横を向くと";
		mes "　黒い影がぽつぽつと姿を現した。";
		mes "　周辺の人々が恐怖に怯えている‐^000000";
		cutin "malaya_ghost01.bmp",4;
		next;
		soundeffect "solace_die.wav",0,0;
		mes "[住民]";
		mes "で、でたー！";
		mes "逃げろ、逃げるんだ！";
		next;
		menu "影に近寄る",-,"武器を抜く",-;
		soundeffect "se_moaning01.wav",0,0;
		mes "[ムンバキ・ポン]";
		mes "外から来た君の痕跡を";
		mes "辿って来たようだな。";
		mes "彼らに・まり近寄らないように。";
		mes "魂を奪われる可能性が・る。";
		next;
		emotion e_gasp;
		mes "[ムンバキ・ポン]";
		mes "ん？　これは……どういうことだ。";
		mes "やつらが動揺している。";
		mes "いったい何が？";
		next;
		cutin "malaya_ghost02.bmp",4;
		sc_end SC_BLIND;
		mes "[ムンバキ・ポン]";
		mes "ふむ。神聖な魂に気圧されているのか？";
		mes "まさか……この魂の気は……！";
		next;
		mes "^4d4dff‐ムンバキ・ポンが話すとおり";
		mes "　魂たちは明らかに動揺している。";
		mes "　・なたがさらに近寄ると";
		mes "　魂たちは戸惑い姿を消してしまった‐^000000";
		next;
		cutin "malaya_ghost02.bmp",255;
		mes "[住民]";
		mes "す……すごい！";
		mes "悪い魂が逃げて行ったぞ！";
		mes "お守りも持っていないのに";
		mes "いったいどうして……。";
		next;
		mes "[住民]";
		mes "そういえば、悪い魂が逃げていくとき";
		mes "ムンバキ・ポンが神聖な魂がどうとか";
		mes "言っていたが……。";
		next;
		mes "[住民]";
		mes "もしかして……";
		mes "この人は悪い魂に対抗できる";
		mes "すごい力を持っているんじゃないか!?";
		next;
		mes "[住民]";
		mes "……そうだ！　そうに違いない！";
		mes "異国からすごい力を持った";
		mes "冒険者が来たんだ！";
		next;
		mes "[住民]";
		mes "これで、この町は救われるに違いない！";
		mes "早くみんなにも知らせないと！";
		next;
		mes "‐周辺にいた人々が";
		mes "　興奮した様子で走り出した。";
		mes "　他の住民に・なたのことを";
		mes "　伝えている声が聞こえてくる‐";
		next;
		mes "[ムンバキ・ポン]";
		mes "町の者が騒いで申し訳ない。";
		mes "だが、私も驚いたよ。";
		mes "なんと巨大で純粋な魂の持ち主なんだ！";
		mes "闇に染められた魂たちが";
		mes "君の気に圧倒されていなくなるとは。";
		next;
		mes "[ムンバキ・ポン]";
		mes "まさに奇跡を目の当たりにした。";
		mes "これは町の人たちの警戒を解くのに";
		mes "充分すぎる出来事だな。";
		next;
		mes "[ムンバキ・ポン]";
		mes "この話を知れば、警戒していた人も";
		mes "きっと君を歓迎してくれるだろう。";
		mes "地図に記した場所にいる住人に";
		mes "話しかけてみてはどうだね。";
		viewpoint 1,181,353,0,0xFFFFFF;
		viewpoint 1,228,267,1,0xFFFF00;
		viewpoint 1,295,171,2,0x0000FF;
		viewpoint 1,119,217,3,0xCCCCCC;
		viewpoint 1,326,68,4,0x00FF00;
		viewpoint 1,223,267,5,0xFF0000;
		next;
		mes "[ムンバキ・ポン]";
		mes "若き冒険者よ。";
		mes "君はこの町の";
		mes "希望になれるかもしれない。";
		mes "期待させてもらうよ。";
		next;
		mes "‐町の人たちの・なたに対する";
		mes "　警戒は解けたようだ。";
		mes "　町の人たちに話しかけてみよう‐";
		setquest 201490;
		setquest 72050;
		if (MALAYA_1QUE==1)
			delquest 7350;
		set MALAYA_1QUE,2;
		close;
	case 2:
		mes "[ムンバキ・ポン]";
		mes "君に対する警戒心は解けていると思う。";
		mes "彼らのところに行って、";
		mes "話しかけてみてはどうだね。";
		next;
		mes "[ムンバキ・ポン]";
		mes "君の魂はとても強く純粋だ。";
		mes "暗闇を恐れるな。";
		if (!(MALAYA_1SUBQUE & 0x1))
			viewpoint 1,181,353,0,0xFFFFFF;
		if (!(MALAYA_1SUBQUE & 0x2))
			viewpoint 1,228,267,1,0xFFFF00;
		if (!(MALAYA_1SUBQUE & 0x8))
			viewpoint 1,295,171,2,0x0000FF;
		if (!(MALAYA_1SUBQUE & 0x10))
			viewpoint 1,119,217,3,0xCCCCCC;
		if (!(MALAYA_1SUBQUE & 0x20))
			viewpoint 1,326,68,4,0x00FF00;
		if (!(MALAYA_1SUBQUE & 0x4))
			viewpoint 1,223,267,5,0xFF0000;
		close;
	case 3:
		mes "[ムンバキ・ポン]";
		mes "どうしたんだ？";
		mes "何か悩みが・りそうな表情だな。";
		mes "服装もかなり乱れている。";
		mes "何か・ったのか？";
		next;
		if (select("一部始終を説明する","何でもないです")==2) {
			mes "[ムンバキ・ポン]";
			mes "そうか。";
			mes "もし何か・ったら私に話してくれ。";
			mes "役に立てる事ならいつでも力になろう。";
			close;
		}
		mes "[ムンバキ・ポン]";
		mes "ふむ……なるほど。";
		mes "そんなことが・ったのか。";
		mes "それは困った事だな。";
		next;
		mes "[ムンバキ・ポン]";
		mes "実は私も、町の人々の";
		mes "不安を取り除くために";
		mes "何かできないかと思って";
		mes "お守りを作ることにしたのだが、";
		mes "意外と準備が大変でね……。";
		mes "思うように進んでいないのだ。";
		next;
		mes "[ムンバキ・ポン]";
		mes "そうだな……";
		mes "彼らの願いを叶えてくれないかね？";
		mes "君の所持品から";
		mes "何か選んで彼らにわけて・げるんだ。";
		next;
		mes "[ムンバキ・ポン]";
		mes "彼らが求めているのは心の安定だ。";
		mes "小さな物ひとつに意味を見出して";
		mes "心に平穏を与えているのだよ。";
		next;
		mes "[ムンバキ・ポン]";
		mes "これさえ・れば私は大丈夫、";
		mes "と信じるその心が重要なんだろう。";
		mes "物が何かは大した問題ではない。";
		next;
		mes "[ムンバキ・ポン]";
		mes "君の古い持ち物ひとつで";
		mes "何かに恐れを持っていた者たちが";
		mes "活気を取り戻せるなら、";
		mes "それはもうお守りと言えるだろう。";
		next;
		mes "^4d4dff‐ムンバキ・ポンの助言の通りに";
		mes "　それらしい物を分けて・げよう。";
		mes "　何がお守りとしていいだろうか‐^000000";
		next;
		switch(select("聖水","ブルージェムストーン","ゼロピー")) {
		case 1:
			mes "[ムンバキ・ポン]";
			mes "それは神聖な水の事だな。";
			mes "なかなかいい案だと思う。";
			mes "ふむ。ただそれだけだと物足りないな。";
			mes "他にいいものは無いか？";
			next;
			menu "ブルージェムストーン",-;
			mes "[ムンバキ・ポン]";
			mes "ほぅ……神聖な魔法に使われる石？";
			mes "かなり良いな。";
			break;
		case 2:
			mes "[ムンバキ・ポン]";
			mes "ほぅ……神聖な魔法に使われる石？";
			mes "かなり良いな。";
			mes "しかし、それだけだと物足りないな。";
			mes "他にいいものは無いか？";
			next;
			menu "聖水",-;
			mes "[ムンバキ・ポン]";
			mes "それは神聖な水の事だな。";
			mes "なかなかいい案だと思う。";
			break;
		case 3:
			mes "[ムンバキ・ポン]";
			mes "うむ？　ま・、その……なんだ。";
			mes "確かになんでもいいとは言ったが、";
			mes "それらしいものが・れば";
			mes "町人も信頼を寄せやすいというものだ。";
			next;
			mes "[ムンバキ・ポン]";
			mes "神聖な力が感じられると";
			mes "さらに良いな。";
			mes "何かちょうどいいものはないかね？";
			next;
			menu "聖水かブルージェムストーン……？",-;
			mes "[ムンバキ・ポン]";
			mes "名前からして聖なる力が感じられるな。";
			mes "聖なる力を持った水のようだね。";
			mes "それと術者を守ってくれる石か。ふむ。";
			mes "良いじゃないか。";
			break;
		}
		next;
		mes "[ムンバキ・ポン]";
		mes "では、私がお守りを作るまでの間、";
		mes "^ff0000聖水とブルージェムストーン^000000を";
		mes "1人に1個ずつ、6人分ほど";
		mes "用意してもらえないだろうか。";
		mes "そしてそれを分けることで";
		mes "人々に安らぎを与えてほしい。";
		next;
		mes "[ムンバキ・ポン]";
		mes "そうするれば町の人たちからの";
		mes "信頼はさらに厚くなり、";
		mes "君に心を開いてくれるだろう。";
		next;
		mes "[ムンバキ・ポン]";
		mes "彼らのいる場所を地図に記そう。";
		mes "すまないが頼んだよ。";
		viewpoint 1,181,353,0,0xFFFFFF;
		viewpoint 1,228,267,1,0xFFFF00;
		viewpoint 1,295,171,2,0x0000FF;
		viewpoint 1,119,217,3,0xCCCCCC;
		viewpoint 1,326,68,4,0x00FF00;
		viewpoint 1,223,267,5,0xFF0000;
		delquest 7358;
		setquest 7351;
		set MALAYA_1QUE,4;
		close;
	case 4:
		mes "[ムンバキ・ポン]";
		mes "聖水とブルージェムストーン。";
		mes "君がその2つを町の人たちに配れば";
		mes "不安を取り除けるだろう。";
		next;
		mes "[ムンバキ・ポン]";
		mes "1人に1個ずつ、";
		mes "6人に配って来てほしい。";
		mes "彼らのいる場所を地図に記そう。";
		mes "すまないが頼んだよ。";
		if (!(MALAYA_1SUBQUE & 0x1))
			viewpoint 1,181,353,0,0xFFFFFF;
		if (!(MALAYA_1SUBQUE & 0x2))
			viewpoint 1,228,267,1,0xFFFF00;
		if (!(MALAYA_1SUBQUE & 0x8))
			viewpoint 1,295,171,2,0x0000FF;
		if (!(MALAYA_1SUBQUE & 0x10))
			viewpoint 1,119,217,3,0xCCCCCC;
		if (!(MALAYA_1SUBQUE & 0x20))
			viewpoint 1,326,68,4,0x00FF00;
		if (!(MALAYA_1SUBQUE & 0x4))
			viewpoint 1,223,267,5,0xFF0000;
		close;
	case 5:
		mes "[ムンバキ・ポン]";
		mes "町の人々が落ち着きを";
		mes "取り戻したようだね。";
		mes "君がやってくれたんだろう？";
		mes "わかっているよ。";
		next;
		mes "[ムンバキ・ポン]";
		mes "これで君は町のみんなに";
		mes "慕われる存在になったな。";
		mes "私も感謝している。";
		mes "これまで君を避けていた住民も";
		mes "きっと心を開いてくれるだろう。";
		next;
		mes "[ムンバキ・ポン]";
		mes "そうそう、遅れていたお守り作成だが";
		mes "そこにいる孫娘のイメルダーが";
		mes "手伝ってくれることになった。";
		mes "君が渡してくれた物は今回っきりに";
		mes "なるから、次は用意しなくて大丈夫だ。";
		next;
		mes "[ムンバキ・ポン]";
		mes "この町には、まだまだ困っている";
		mes "住民がたくさんいる。";
		mes "もし困っている住民に会ったら";
		mes "助けて・げてほしい。";
		mes "よろしく頼む。";
		delquest 7365;
		setquest 201495;
		setquest 72070;
		setquest 72072;
		setquest 72074;
		setquest 72076;
		setquest 72078;
		setquest 72080;
		setquest 72082;
		setquest 72084;
		setquest 72086;
		setquest 72088;
		setquest 72092;
		setquest 72090;
		setquest 72094;
		set MALAYA_1QUE,6;
		getexp 1000000,0,1;
		getexp 0,200000,0;
		close;
	case 6:
		switch(rand(1,4)) {
		case 1:
			if ($MalayaName$[0] != "" && $MalayaName$[0] != strcharinfo(0)) {
				mes "[ムンバキ・ポン]";
				mes "君のように勇敢な冒険者がいたよ。";
				mes $MalayaName$[0];
				mes "という名前らしいが、";
				mes "知り合いかね？";
				break;
			}
		case 2:
			if ($MalayaName$[0] != "" && $MalayaName$[0] != strcharinfo(0)) {
				mes "[ムンバキ・ポン]";
				mes "最近町で人気の冒険者がいる。";
				mes $MalayaName$[0];
				mes "という名前らしいが、";
				mes "血気盛んな冒険者のようだね。";
				break;
			}
		case 3:
			if ($MalayaName$[1] != "" && $MalayaName$[1] != strcharinfo(0)) {
				mes "[ムンバキ・ポン]";
				mes $MalayaName$[1];
				mes "という冒険者はこの町だけでなく";
				mes "バリオ・マヒワガでも";
				mes "人々を助けているらしい。";
				mes "善良な魂の持ち主が増えてうれしいよ。";
				break;
			}
		case 4:
			mes "[ムンバキ・ポン]";
			mes "今までムンバキ・として生きてきたが、";
			mes "君のような清くて強い魂は";
			mes "他に見たことがないよ。";
			break;
		}
		switch(MALAYA_2QUE) {
		case 2:
			next;
			menu "港で起きた事を話す",-;
			mes "[ムンバキ・ポン]";
			mes "港のペリー号でそんなことが？";
			mes "なるほど、ふーむ……。";
			mes "まずは彼女がどうしてそんなに怒るのか";
			mes "理由を知る必要が・るな。";
			next;
			mes "[ムンバキ・ポン]";
			mes "うむ。";
			mes "こんな時はプレゼントが一番だ。";
			mes "やはり女性の心を癒すには";
			mes "花束だな。これ以上の物はない。";
			next;
			menu "恋愛相談ではないですけど",-;
			mes "[ムンバキ・ポン]";
			mes "例えばの話だよ。";
			mes "まずは彼女の話を聞かない事には";
			mes "どうにもならない。";
			mes "それには打ち解ける必要が・るだろう。";
			next;
			mes "[ムンバキ・ポン]";
			mes "生きていても死んでいても";
			mes "女性は女性だ。";
			mes "それに、年・の女性は";
			mes "綺麗な物が好きなはずだ。";
			mes "上手くいくんじゃないかね。";
			next;
			mes "[ムンバキ・ポン]";
			mes "よし、ではこうしよう。";
			mes "^4d4dff神秘的な花、清楚な花、綺麗な花^000000を";
			mes "それぞれ3個ずつ用意してくるんだ。";
			mes "集めてきたら私が花束にして";
			mes "祝福の祈りを籠めて・げよう。";
			mes "それを持っていってみたらどうかな。";
			next;
			mes "[ムンバキ・ポン]";
			mes "ま・、花なら町の外に行けば";
			mes "何とかなるだろう。";
			mes "集めたらまた来てくれ。";
			delquest 7396;
			setquest 7397;
			set MALAYA_2QUE,3;
			close;
		case 3:
			next;
			if (countitem(6509) < 3 || countitem(6510) < 3 || countitem(6511) < 3) {
				mes "[ムンバキ・ポン]";
				mes "ところで……";
				mes "花束を作るためには、";
				mes "^4d4dff神秘的な花、清楚な花、綺麗な花^000000が";
				mes "それぞれ3個ずつ必要だ。";
				mes "用意してからまた来てくれ。";
				close;
			}
			mes "[ムンバキ・ポン]";
			mes "ところで……";
			mes "うむ、花を持ってきたようだな。";
			mes "それでは私が祈りを籠めて束ねよう。";
			next;
			mes "‐ムンバキ・ポンは大事に花を";
			mes "　束ねながら祝福の儀式を始めた。";
			mes "　神聖な雰囲気が伝わってくる‐";
			misceffect 16,"指導者ムンバキ・ポン";
			next;
			mes "[ムンバキ・ポン]";
			mes "よし。どうだ。";
			mes "なかなかの出来だろう。";
			next;
			mes "[ムンバキ・ポン]";
			mes "さ・、ではその子に渡してくれ。";
			mes "心の扉を開いてくれる事を願おう。";
			delitem 6510,3;
			delitem 6509,3;
			delitem 6511,3;
			getitem 6506,1;
			delquest 7397;
			setquest 7398;
			set MALAYA_2QUE,4;
			close;
		case 4:
			next;
			mes "[ムンバキ・ポン]";
			mes "ところで……";
			mes "まだ花束を持っているみたいだな。";
			mes "渡した花束を持って";
			mes "船にいる女性と話してみなさい。";
			close;
		case 6:
			if (checkquest(7402)) {
				next;
				if (countitem(6509) < 3 || countitem(6510) < 3 || countitem(6511) < 3) {
					mes "[ムンバキ・ポン]";
					mes "ん？";
					mes "ディワタの所に行くのか？";
					mes "^4d4dff神秘的な花、清楚な花、綺麗な花^000000を";
					mes "3個ずつ持って来れば、";
					mes "祝福の祈りを籠めて花束を作るぞ。";
					close;
				}
				mes "[ムンバキ・ポン]";
				mes "お、持ってきたな。";
				mes "魂の供養は一日にして成らず。";
				mes "それじゃ・、花束に祝福を籠めよう。";
				next;
				if (checkitemblank()==0) {
					mes "[ムンバキ・ポン]";
					mes "む、アイテムをたくさん";
					mes "持ち過ぎのようだな。";
					mes "整理してからもう一度";
					mes "来てくれないか。";
					close;
				}
				mes "[ムンバキ・ポン]";
				mes "さ・、出来たぞ。";
				mes "今日も祈る事にしよう。";
				misceffect 16,"指導者ムンバキ・ポン";
				delitem 6509,3;
				delitem 6510,3;
				delitem 6511,3;
				getitem 6506,1;
				delquest 7402;
				setquest 72065;
				close;
			}
			if (checkquest(72065)) {
				next;
				mes "[ムンバキ・ポン]";
				mes "ところで……";
				mes "すでに花束は渡したはずだぞ。";
				mes "早く花束を持ってペリー号に行くんだ。";
				close;
			}
			if (checkquest(7401)) {
				next;
				mes "[ムンバキ・ポン]";
				mes "ところで……";
				mes "ペリー号のこともそうだが、";
				mes "浮かばれない魂が存在するのは";
				mes "悲しいことだ。";
				mes "魂のために献花をするなら";
				mes "いつでも力になろう。";
				close;
			}
		}
		close;
	}
OnInit:
	waitingroom "街の救済者",0;
	end;
}

//============================================================
// 鉄鍋クエストNPC
//------------------------------------------------------------
malaya,181,353,5	script	老人ナルド	574,{
	switch(MALAYA_1QUE) {
	case 0:
	case 1:
		mes "[老人ナルド]";
		mes "……";
		mes "この町の住人ではないようじゃな。";
		mes "私から話すことは何もない……。";
		close;
	case 2:
		if (MALAYA_1SUBQUE & 0x1) {
			mes "[老人ナルド]";
			mes "お主が持っている物なら何でもいい、";
			mes "お主の気が吹き込まれている物を";
			mes "何かひとつ分けてくれないか？";
			next;
			mes "[老人ナルド]";
			mes "私はもう長くはない。";
			mes "後生のお願いじゃ。";
			close;
		}
		mes "[老人ナルド]";
		mes "お……お主は!!";
		mes "気の力が強く悪霊が近寄れないという";
		mes "若者ではないか?!";
		mes "わ……私にもその気を分けてくれないか？";
		next;
		mes "[老人ナルド]";
		mes "町をひっかき回している";
		mes "悪霊たちのせいで、";
		mes "夜もろくに眠れぬのじゃ……。";
		next;
		mes "[老人ナルド]";
		mes "その素晴らしい気を分けてくれ。";
		mes "お主の持ち物なら何でもいい！";
		mes "私にくれないか!?";
		next;
		menu "落ち着いてください",-;
		mes "[老人ナルド]";
		mes "私は落ち着いているさ！";
		mes "お主の持ち物ならきっと効果が・る。";
		mes "私はお主の気が変わるまで";
		mes "ここで待っておるからの。";
		viewpoint 2,1,1,0,0xFFFFFF;
		set MALAYA_1SUBQUE,MALAYA_1SUBQUE|0x1;
		next;
		if (MALAYA_1SUBQUE & 0x3F == 0x3F) {
			mes "‐すでに複数の町人から";
			mes "　同じようなお願いをされている。";
			mes "　どうしたものだろうか。";
			mes "　一度ムンバキ・ポンに";
			mes "　相談してみよう‐";
			delquest 72050;
			setquest 7358;
			set MALAYA_1QUE,3;
			set MALAYA_1SUBQUE,0;
			viewpoint 2,1,1,0,0xFFFFFF;
			viewpoint 2,1,1,1,0xFFFFFF;
			viewpoint 2,1,1,2,0xFFFFFF;
			viewpoint 2,1,1,3,0xFFFFFF;
			viewpoint 2,1,1,4,0xFFFFFF;
			viewpoint 2,1,1,5,0xFFFFFF;
			close;
		}
		mes "‐持ち物をわけてほしいと頼まれた。";
		mes "　他の町人にも話を聞いてみよう‐";
		close;
	case 3:
		mes "‐ナルドがすがるような目つきで";
		mes "　こちらを見ている。";
		mes "　ムンバキ・ポンに相談にいこう‐";
		close;
	case 4:
		if (MALAYA_1SUBQUE & 0x1) {
			mes "[老人ナルド]";
			mes "実はのう。正直に話すと";
			mes "この聖なる物に本当に特別な力が";
			mes "・ると思っているわけではない。";
			mes "これを持っていれば救われる、と";
			mes "信じることが、私の心を";
			mes "救ってくれるんじゃ。";
			next;
			mes "[老人ナルド]";
			mes "ともかく。お主を見直したわ。";
			mes "外部の人間だからといって";
			mes "無視してすまなかったの。";
			mes "私の考えが間違っていたようじゃ。";
			close;
		}
		if (countitem(523) < 1 || countitem(717) < 1) {
			mes "^4d4dff‐ブルージェムストーンと聖水を";
			mes "　渡そう‐^000000";
			close;
		}
		mes "[老人ナルド]";
		mes "おや、どうしたんじゃ。";
		mes "気が変わって何かくれるのか。";
		next;
		menu "準備した物を渡す",-;
		mes "‐老人ナルドに、準備した聖水と";
		mes "　ブルージェムストーンを";
		mes "　1個ずつ渡した‐";
		next;
		mes "[老人ナルド]";
		mes "お……おお！";
		mes "・……・りがとう。";
		mes "これで当分の間は気が楽になる。";
		mes "心が落ち着くのが一番だ。";
		delitem 717,1;
		delitem 523,1;
		viewpoint 2,1,1,0,0xFFFFFF;
		set MALAYA_1SUBQUE,MALAYA_1SUBQUE|0x1;
		if (MALAYA_1SUBQUE & 0x3F == 0x3F) {
			next;
			mes "‐老人を最後に";
			mes "　全て配り終えたようだ。";
			mes "　ムンバキ・ポンへ報告に戻ろう‐";
			delquest 7351;
			setquest 7365;
			set MALAYA_1QUE,5;
			set MALAYA_1SUBQUE,0;
			viewpoint 2,1,1,0,0xFFFFFF;
			viewpoint 2,1,1,1,0xFFFFFF;
			viewpoint 2,1,1,2,0xFFFFFF;
			viewpoint 2,1,1,3,0xFFFFFF;
			viewpoint 2,1,1,4,0xFFFFFF;
			viewpoint 2,1,1,5,0xFFFFFF;
		}
		close;
	case 5:
		mes "[老人ナルド]";
		mes "この聖なる物に本当に特別な力が";
		mes "・ると思っているわけではない。";
		mes "これを持っていれば救われる、と";
		mes "信じることが、私の心を";
		mes "救ってくれるんじゃ。";
		next;
		mes "[老人ナルド]";
		mes "そうだ。今度余裕が・る時に";
		mes "私の仕事を手伝ってくれないかね？";
		mes "今は大丈夫だが、近々人手がいる。";
		mes "良かったら頼むわい。";
		close;
	case 6:
		if (checkquest(7369) || checkquest(72174)) {
			mes "[老人ナルド]";
			mes "おお、お主か。";
			mes "何か用ですかな。";
			next;
			mes "‐老人ナルドにお守りを渡した‐";
			next;
			mes "[老人ナルド]";
			mes "ほほぅ。新しいお守りか。";
			mes "・りがとう。";
			mes "イメルダーとお主には";
			mes "世話になるのう。";
			delitem 6503,1;
			if (checkquest(72174))
				delquest 72174;
			else
				delquest 7369;
			setquest 7383;
			viewpoint 2,1,1,0,0xFFFFFF;
			set MALAYA_5SUBQUE,MALAYA_5SUBQUE|0x1;
			if (MALAYA_5SUBQUE & 0x3F == 0x3F) {
				setquest 7379;
				delquest 7382;
				delquest 7383;
				delquest 7384;
				delquest 7385;
				delquest 7386;
				delquest 7387;
				if (MALAYA_5QUE==3)
					set MALAYA_5QUE,4;
				set MALAYA_5SUBQUE,0;
				next;
				mes "‐すべての人に^FF0000退魔のお守り^000000を渡した。";
				mes "　イメルダーの所へ戻ろう‐";
				viewpoint 2,1,1,0,0xFFFFFF;
				viewpoint 2,1,1,1,0xFFFFFF;
				viewpoint 2,1,1,2,0xFFFFFF;
				viewpoint 2,1,1,3,0xFFFFFF;
				viewpoint 2,1,1,4,0xFFFFFF;
				viewpoint 2,1,1,5,0xFFFFFF;
			}
			close;
		}
		if (checkquest(7377)) {
			mes "[老人ナルド]";
			mes "ムンバキ・キコがお礼として";
			mes "^FF0000退魔のお守り^000000をくれる手筈だが、";
			mes "ちゃんと貰って来たかの。";
			mes "お守りをたくさん集める事が";
			mes "私にとっての救いなのじゃよ。";
			next;
			if (checkitemblank()==0) {
				mes "[老人ナルド]";
				mes "おや？";
				mes "アイテムをいっぱい持ち過ぎの";
				mes "ようじゃのう……";
				mes "アイテムを整理したらまた来るといい。";
				close;
			}
			mes "[老人ナルド]";
			mes "もしよければ次もまた来てくれ。";
			mes "バリオ・マヒワガで必要としている";
			mes "鉄鍋はいつも私が準備しているんじゃ。";
			delitem 6503,5;
			setquest 7378;
			delquest 7377;
			getitem 6497,1;
			getexp 500000,0,1;
			getexp 0,200000,0;
			close;
		}
		mes "[老人ナルド]";
		mes "ポートマラヤは美しい町だ。";
		mes "伝統と新しいものが融合して";
		mes "調和をとっている。";
		next;
		mes "[老人ナルド]";
		mes "最近は悪霊に悩まされたが";
		mes "お主や多くの若者たちが";
		mes "頑張ってくれたおかげで";
		mes "安心して暮らせるようになった。";
		mes "・りがたい事だ。";
		next;
		if (checkquest(7376)) {
			if (select("話をする","鉄で作った鍋について")==1) {
				switch(rand(1,4)) {
				case 1:
					if ($MalayaName$[0] != "" && $MalayaName$[0] != strcharinfo(0)) {
						mes "[老人ナルド]";
						mes "商人たちと話していると、";
						mes $MalayaName$[0]+ "という";
						mes "名前をよく耳にする。";
						mes "その人は商才が・るようだね。";
						close;
					}
				case 2:
					if ($MalayaName$[0] != "" && $MalayaName$[0] != strcharinfo(0)) {
						mes "[老人ナルド]";
						mes "最近バリオ・マヒワガで";
						mes $MalayaName$[0]+ "という";
						mes "冒険者の名前を耳にする。";
						mes "君も名を知らしめてみたらどうだね。";
						close;
					}
				case 3:
					if ($MalayaName$[1] != "" && $MalayaName$[1] != strcharinfo(0)) {
						mes "[老人ナルド]";
						mes "カプレを知っているかね。";
						mes $MalayaName$[1];
						mes "という冒険者が、";
						mes "カプレを手伝っているらしい。";
						close;
					}
				case 4:
					mes "[老人ナルド]";
					mes "他の冒険者もお守りを一生懸命";
					mes "配っていたぞ。";
					mes "君たちの国の伝統なのかね。";
					close;
				}
			}
			mes "[老人ナルド]";
			mes "鍋はちゃんと渡してくれたか？";
			mes "ムンバキ・キコが^FF0000退魔のお守り^000000を";
			mes "くれるはずだ。それも持ってきてくれ。";
			mes "お守りはたくさん・る方がいい。";
			close;
		}
		if (select("話をする","何か手伝いましょうか")==1) {
			switch(rand(1,4)) {
			case 1:
				if ($MalayaName$[0] != "" && $MalayaName$[0] != strcharinfo(0)) {
					mes "[老人ナルド]";
					mes "商人たちと話していると、";
					mes $MalayaName$[0]+ "という";
					mes "名前をよく耳にする。";
					mes "その人は商才が・るようだね。";
					close;
				}
			case 2:
				if ($MalayaName$[0] != "" && $MalayaName$[0] != strcharinfo(0)) {
					mes "[老人ナルド]";
					mes "最近バリオ・マヒワガで";
					mes $MalayaName$[0]+ "という";
					mes "冒険者の名前を耳にする。";
					mes "君も名を知らしめてみたらどうだね。";
					close;
				}
			case 3:
				if ($MalayaName$[1] != "" && $MalayaName$[1] != strcharinfo(0)) {
					mes "[老人ナルド]";
					mes "カプレを知っているかね。";
					mes $MalayaName$[1];
					mes "という冒険者が、";
					mes "カプレを手伝っているらしい。";
					close;
				}
			case 4:
				mes "[老人ナルド]";
				mes "他の冒険者もお守りを一生懸命";
				mes "配っていたぞ。";
				mes "君たちの国の伝統なのかね。";
				close;
			}
		}
		if (BaseLevel < 100) {
			mes "[老人ナルド]";
			mes "うむ……お主、私の手伝いをするには";
			mes "悪いがまだ修業が足りないようだ。";
			mes "そうじゃな。";
			mes "^FF0000BaseLv100以上^000000になったら";
			mes "その時にお願いさせてもらおう‐";
			close;
		}
		if (checkquest(7378)) {
			if (!(checkquest(7378) & 0x2)) {
				mes "[老人ナルド]";
				mes "今日はこれでもう充分だ。";
				mes "ただ、私の作った鍋も";
				mes "そう長くは持たない。";
				mes "使い方によっては一日で壊れるだろう。";
				next;
				mes "[老人ナルド]";
				mes "可能なら明日も来てくれ。";
				close;
			}
			mes "[老人ナルド]";
			mes "お主か！";
			mes "そうか。元気か。";
			next;
			mes "[老人ナルド]";
			mes "頼みが・るんじゃが……";
			mes "新しい鉄鍋を、また届けて";
			mes "ほしいんじゃ。";
			next;
			if (select("手伝う","手伝わない")==2) {
				mes "[老人ナルド]";
				mes "そうか。すまなかったの。";
				mes "暇な時にでも手伝っておくれ。";
				close;
			}
			mes "[老人ナルド]";
			mes "この鉄で作った鍋だ。ポートマラヤの";
			mes "鍛冶屋は腕がいいからな。";
			mes "これをバリオ・マヒワガにいる";
			mes "ムンバキ・キコに渡してくれればいい。";
			mes "お礼に^FF0000退魔のお守り^000000をくれるはずだ。";
			mes "それを私の所に持ってきておくれ。";
			if (checkitemblank()==0) {
				next;
				mes "[老人ナルド]";
				mes "おや？";
				mes "アイテムをいっぱい持ち過ぎの";
				mes "ようじゃのう……";
				mes "アイテムを整理したらまた来るといい。";
				close;
			}
			delquest 7378;
			setquest 7376;
			getitem 6504,5;
			close;
		}
		mes "[老人ナルド]";
		mes "おお、それは・りがたい。";
		mes "ちょうど注文が・ったところでのう。";
		mes "助かるわい。";
		next;
		mes "[老人ナルド]";
		mes "お主に手伝ってほしいのは";
		mes "ここに・る鉄で作った鍋を";
		mes "バリオ・マヒワガにいる";
		mes "ムンバキ・キコまで届けてほしいのだ。";
		next;
		switch(select("鉄で作った鍋？","手伝う","手伝わない")) {
		case 1:
			mes "[老人ナルド]";
			mes "そう。それはバコナワのせいだ。";
			mes "バリオ・マヒワガはバコナワの住処に";
			mes "近い為、いつも危険にさらされている。";
			mes "そのバコナワに有効なのが、";
			mes "この鉄鍋なんじゃよ。";
			next;
			mes "[老人ナルド]";
			mes "バコナワは敏感な為、音に弱い。";
			mes "この鉄鍋をトントン叩くと";
			mes "バコナワはビックリして";
			mes "飲み込んでいた月を吐き出すんじゃ。";
			next;
			mes "[老人ナルド]";
			mes "鉄鍋はバリオ・マヒワガの住人には";
			mes "欠かせない。";
			mes "いつ必要になるかわからないからな。";
			mes "それに、鍋を作る鍛冶屋は";
			mes "バリオ・マヒワガよりポートマラヤの";
			mes "方が優れているのだ。";
			next;
			mes "[老人ナルド]";
			mes "だからいつも私が";
			mes "持って行ってたのじゃが、";
			mes "最近は鍋の注文が多くてな。";
			mes "運んでくれると助かるわい。";
			close;
		case 2:
			mes "[老人ナルド]";
			mes "この鉄で作った鍋だ。ポートマラヤの";
			mes "鍛冶屋は腕がいいからな。";
			mes "これをバリオ・マヒワガにいる";
			mes "ムンバキ・キコに渡してくれればいい。";
			mes "お礼に^FF0000退魔のお守り^000000をくれるはずだ。";
			mes "それを私の所に持ってきておくれ。";
			if (checkitemblank()==0) {
				next;
				mes "[老人ナルド]";
				mes "おや？";
				mes "アイテムをいっぱい持ち過ぎの";
				mes "ようじゃのう……";
				mes "アイテムを整理したらまた来るといい。";
				close;
			}
			delquest 72084;
			setquest 7376;
			getitem 6504,5;
			close;
		case 3:
			mes "[老人ナルド]";
			mes "そうか。すまなかったの。";
			mes "暇な時にでも手伝っておくれ。";
			close;
		}
	}
OnInit:
	waitingroom "鉄鍋",0;
	end;
}

malaya,228,267,3	script	ローメル	573,{
	switch(MALAYA_1QUE) {
	case 0:
	case 1:
		mes "[ローメル]";
		mes "……";
		mes "　";
		mes "‐無視された‐";
		close;
	case 2:
		if (MALAYA_1SUBQUE & 0x2) {
			mes "[ローメル]";
			mes "今、私たちは常に";
			mes "不安に怯えながら生きています……。";
			mes "このまま、心の安息さえ";
			mes "得ることができないのでしょうか……。";
			close;
		}
		mes "[ローメル]";
		mes "・……";
		mes "・なたが噂の……。";
		next;
		mes "[ローメル]";
		mes "悪霊を寄せ付けないという・なたの";
		mes "持ち物を……";
		mes "お守り代わりに持てそうなものを";
		mes "ひとついただけませんか？";
		next;
		menu "持ち物はちょっと……",-;
		mes "[ローメル]";
		mes "そうですよね……。";
		mes "失礼しました。";
		mes "・なたの持ち物ならきっと";
		mes "悪霊を退けてくれるだろうと";
		mes "思ったらつい……。";
		mes "今の事は忘れてください。";
		viewpoint 2,1,1,1,0xFFFFFF;
		set MALAYA_1SUBQUE,MALAYA_1SUBQUE|0x2;
		next;
		if (MALAYA_1SUBQUE & 0x3F == 0x3F) {
			mes "‐すでに複数の町人から";
			mes "　同じようなお願いをされている。";
			mes "　どうしたものだろうか。";
			mes "　一度ムンバキ・ポンに";
			mes "　相談してみよう‐";
			delquest 72050;
			setquest 7358;
			set MALAYA_1QUE,3;
			set MALAYA_1SUBQUE,0;
			viewpoint 2,1,1,0,0xFFFFFF;
			viewpoint 2,1,1,1,0xFFFFFF;
			viewpoint 2,1,1,2,0xFFFFFF;
			viewpoint 2,1,1,3,0xFFFFFF;
			viewpoint 2,1,1,4,0xFFFFFF;
			viewpoint 2,1,1,5,0xFFFFFF;
			close;
		}
		mes "‐持ち物をわけてほしいと頼まれた。";
		mes "　他の町人にも話を聞いてみよう‐";
		close;
	case 3:
		mes "‐ローメルが立ちつくし";
		mes "　悲しそうな眼をしながら";
		mes "　こちらを見ている。";
		mes "　ムンバキ・ポンに相談に行こう‐";
		close;
	case 4:
		if (MALAYA_1SUBQUE & 0x2) {
			mes "[ローメル]";
			mes "本当に必要なのは";
			mes "自制心を持ち心の安定を保つことです。";
			mes "それが出来るようになれば";
			mes "悪霊とも堂々と向き合えると思います。";
			next;
			mes "[ローメル]";
			mes "今はこうした物に頼っていますが、";
			mes "これをきっかけにして";
			mes "強い心が持てるようになりたいです。";
			close;
		}
		if (countitem(523) < 1 || countitem(717) < 1) {
			mes "^4d4dff‐ブルージェムストーンと聖水を";
			mes "　渡そう‐^000000";
			close;
		}
		mes "[ローメル]";
		mes "……・なたですか。";
		mes "何の用です？";
		next;
		menu "準備した物を渡す",-;
		mes "‐ローメルに準備していた聖水と";
		mes "　ブルージェムストーンを";
		mes "　1個ずつ渡した‐";
		next;
		mes "[ローメル]";
		mes "お……おお……！";
		mes "これを私に!?";
		mes "・、・りがとうございます。";
		mes "・なたの気が感じられます。";
		mes "これで悪霊も怖く・りません！";
		delitem 717,1;
		delitem 523,1;
		viewpoint 2,1,1,1,0xFFFFFF;
		set MALAYA_1SUBQUE,MALAYA_1SUBQUE|0x2;
		if (!(MALAYA_1SUBQUE & 0x4)) {
			next;
			mes "[ローメル]";
			mes "・の……差し出がましいとは思いますが";
			mes "私の娘にもお守りを";
			mes "いただけないでしょうか？";
			close;
		}
		if (MALAYA_1SUBQUE & 0x3F == 0x3F) {
			next;
			mes "‐これですべての町人に配り終えた。";
			mes "　ムンバキ・ポンの元に戻ろう‐";
			delquest 7351;
			setquest 7365;
			set MALAYA_1QUE,5;
			set MALAYA_1SUBQUE,0;
			viewpoint 2,1,1,0,0xFFFFFF;
			viewpoint 2,1,1,1,0xFFFFFF;
			viewpoint 2,1,1,2,0xFFFFFF;
			viewpoint 2,1,1,3,0xFFFFFF;
			viewpoint 2,1,1,4,0xFFFFFF;
			viewpoint 2,1,1,5,0xFFFFFF;
		}
		close;
	case 5:
		mes "[ローメル]";
		mes "貰った物は大事にしています。";
		mes "娘もね。・りがとう。";
		close;
	case 6:
		if (checkquest(7373) || checkquest(72182)) {
			mes "[ローメル]";
			mes "こんにちは。";
			mes "良い天気ですね。";
			next;
			mes "‐ローメルにお守りを渡した‐";
			next;
			mes "[ローメル]";
			mes "新しいお守りですね。";
			mes "・りがとうございます。";
			delitem 6503,1;
			if (checkquest(72182))
				delquest 72182;
			else
				delquest 7373;
			setquest 7387;
			viewpoint 2,1,1,1,0xFFFFFF;
			set MALAYA_5SUBQUE,MALAYA_5SUBQUE|0x2;
			if (MALAYA_5SUBQUE & 0x3F == 0x3F) {
				setquest 7379;
				delquest 7382;
				delquest 7383;
				delquest 7384;
				delquest 7385;
				delquest 7386;
				delquest 7387;
				if (MALAYA_5QUE==3)
					set MALAYA_5QUE,4;
				set MALAYA_5SUBQUE,0;
				next;
				mes "‐すべての人に^FF0000退魔のお守り^000000を渡した。";
				mes "　イメルダーの所へ戻ろう‐";
				viewpoint 2,1,1,0,0xFFFFFF;
				viewpoint 2,1,1,1,0xFFFFFF;
				viewpoint 2,1,1,2,0xFFFFFF;
				viewpoint 2,1,1,3,0xFFFFFF;
				viewpoint 2,1,1,4,0xFFFFFF;
				viewpoint 2,1,1,5,0xFFFFFF;
			}
			close;
		}
		switch(rand(1,4)) {
		case 1:
			if ($MalayaName$[0] != "" && $MalayaName$[0] != strcharinfo(0)) {
				mes "[ローメル]";
				mes "最近ウォアンさんが酒の席で";
				mes "俺たちの" +$MalayaName$[0];
				mes "俺たちの" +$MalayaName$[0];
				mes "と酔っぱらいながら叫んでいました。";
				mes "いったいふたりの間に";
				mes "何が・ったんでしょうかね。";
				close;
			}
		case 2:
			if ($MalayaName$[1] != "" && $MalayaName$[1] != strcharinfo(0)) {
				mes "[ローメル]";
				mes $MalayaName$[1]+ "さんは、";
				mes "この町で一番の人気者です。";
				mes "隣町のバリオ・マヒワガでも";
				mes "有名なんですよ。";
				close;
			}
		case 3:
			if ($MalayaName$[2] != "" && $MalayaName$[2] != strcharinfo(0)) {
				mes "[ローメル]";
				mes "私の妻が時折寝言で";
				mes $MalayaName$[2];
				mes "という名前を呼んでいるんですが、";
				mes "誰なんでしょう……。";
				close;
			}
		case 4:
			mes "[ローメル]";
			mes "隣町のバリオ・マヒワガの人たちは";
			mes "本当に勇気が・ります。";
			mes "私は怖くて森に行くことすら無理なのに";
			mes "子供ですら平気で森に遊びに行きます。";
			close;
		}
	}
}

malaya,223,267,5	script	タルラー	941,{
	switch(MALAYA_1QUE) {
	case 0:
	case 1:
		mes "[タルラー]";
		mes "・っ、わわ！";
		mes "　";
		mes "‐・なたと目が合うとビックリして";
		mes "　父親の後ろに隠れてしまった‐";
		close;
	case 2:
		if (MALAYA_1SUBQUE & 0x4) {
			mes "[タルラー]";
			mes "タルラーは今晩";
			mes "悪霊に連れて行かれるかもしれません。";
			mes "怖い子供たちがタルラーに";
			mes "会いに来るかもしれないのです。";
			close;
		}
		mes "[タルラー]";
		mes "……タルラー……ん……・の……";
		mes "……・……お父さん";
		next;
		mes "[ローメル]";
		mes "娘が毎晩怯えて寝れないようなんです。";
		mes "・なたの持ち物の中で";
		mes "お守り代わりに使えそうなものが・れば";
		mes "いただけませんか？";
		next;
		mes "[ローメル]";
		mes "何でもいいんです。";
		mes "お守りの代わりさえ・れば、";
		mes "娘が怯える事もなくなると思うので。";
		next;
		menu "気休めにもなりませんよ",-;
		mes "[ローメル]";
		mes "そんなことはないですよ。";
		mes "それに、例え気休めだとしても";
		mes "娘が安心してくれれば良いんです。";
		mes "ですが無理強いは出来ないですね。";
		mes "気が変わったら、また来てください。";
		next;
		mes "[タルラー]";
		mes "・の……タルラーはここで待ってます。";
		mes "だから、その……お願いします。";
		viewpoint 2,1,1,5,0xFFFFFF;
		set MALAYA_1SUBQUE,MALAYA_1SUBQUE|0x4;
		next;
		if (MALAYA_1SUBQUE & 0x3F == 0x3F) {
			mes "‐すでに複数の町人から";
			mes "　同じようなお願いをされている。";
			mes "　どうしたものだろうか。";
			mes "　一度ムンバキ・ポンに";
			mes "　相談してみよう‐";
			delquest 72050;
			setquest 7358;
			set MALAYA_1QUE,3;
			set MALAYA_1SUBQUE,0;
			viewpoint 2,1,1,0,0xFFFFFF;
			viewpoint 2,1,1,1,0xFFFFFF;
			viewpoint 2,1,1,2,0xFFFFFF;
			viewpoint 2,1,1,3,0xFFFFFF;
			viewpoint 2,1,1,4,0xFFFFFF;
			viewpoint 2,1,1,5,0xFFFFFF;
			close;
		}
		mes "‐持ち物をわけてほしいと頼まれた。";
		mes "　他の町人にも話を聞いてみよう‐";
		close;
	case 3:
		mes "‐タルラーが好奇心に満ちた目で";
		mes "　こちらと父親を交互に見ている‐";
		close;
	case 4:
		if (MALAYA_1SUBQUE & 0x4) {
			if (!(MALAYA_1SUBQUE & 0x2)) {
				mes "[タルラー]";
				mes "よくわからないけど";
				mes "温かい感じがします。";
				mes "・の、お父さんにも同じものを";
				mes "くれませんか？";
				close;
			}
			mes "[タルラー]";
			mes "よくわからないけど";
			mes "温かい感じがします。";
			mes "お父さんも元気になったし、";
			mes "タルラーも元気です！";
			close;
		}
		if (countitem(523) < 1 || countitem(717) < 1) {
			mes "^4d4dff‐ブルージェムストーンと聖水を";
			mes "　渡そう‐^000000";
			close;
		}
		mes "[タルラー]";
		mes "・……挨拶してもいいですか？";
		mes "こ……こんにちは？";
		next;
		menu "準備した物を渡す",-;
		mes "‐タルラーに準備した聖水と";
		mes "　ブルージェムストーンを";
		mes "　1個ずつ渡した‐";
		next;
		mes "[タルラー]";
		mes "光る青い石……！";
		mes "わぁ……きれい！";
		mes "これからはこの石が";
		mes "タルラーを守ってくれるんですか？";
		delitem 717,1;
		delitem 523,1;
		viewpoint 2,1,1,5,0xFFFFFF;
		set MALAYA_1SUBQUE,MALAYA_1SUBQUE|0x4;
		if (MALAYA_1SUBQUE & 0x3F == 0x3F) {
			next;
			mes "‐これですべての町人に配り終えた。";
			mes "　ムンバキ・ポンの元に戻ろう‐";
			delquest 7351;
			setquest 7365;
			set MALAYA_1QUE,5;
			set MALAYA_1SUBQUE,0;
			viewpoint 2,1,1,0,0xFFFFFF;
			viewpoint 2,1,1,1,0xFFFFFF;
			viewpoint 2,1,1,2,0xFFFFFF;
			viewpoint 2,1,1,3,0xFFFFFF;
			viewpoint 2,1,1,4,0xFFFFFF;
			viewpoint 2,1,1,5,0xFFFFFF;
		}
		close;
	case 5:
		mes "[タルラー]";
		mes "お父さんに";
		mes "貰った石をちゃんと持ってなさい";
		mes "と、言われました。";
		mes "そうすると";
		mes "悪いお化けが近寄れないんだって！";
		close;
	case 6:
		if (checkquest(7372) || checkquest(72180)) {
			mes "[タルラー]";
			mes "こ……こんにちは。";
			mes "新しいお守りですか？";
			next;
			mes "‐タルラーに新しいお守りを渡した‐";
			next;
			mes "[タルラー]";
			mes "・りがとうございます。";
			mes "タルラーはこれが・ると";
			mes "ぐっすり寝れるのです。";
			mes "お父さんも喜んでいます。";
			delitem 6503,1;
			if (checkquest(72180))
				delquest 72180;
			else
				delquest 7372;
			setquest 7386;
			viewpoint 2,1,1,5,0xFFFFFF;
			set MALAYA_5SUBQUE,MALAYA_5SUBQUE|0x4;
			if (MALAYA_5SUBQUE & 0x3F == 0x3F) {
				setquest 7379;
				delquest 7382;
				delquest 7383;
				delquest 7384;
				delquest 7385;
				delquest 7386;
				delquest 7387;
				if (MALAYA_5QUE==3)
					set MALAYA_5QUE,4;
				set MALAYA_5SUBQUE,0;
				next;
				mes "‐すべての人に^FF0000退魔のお守り^000000を渡した。";
				mes "　イメルダーの所へ戻ろう‐";
				viewpoint 2,1,1,0,0xFFFFFF;
				viewpoint 2,1,1,1,0xFFFFFF;
				viewpoint 2,1,1,2,0xFFFFFF;
				viewpoint 2,1,1,3,0xFFFFFF;
				viewpoint 2,1,1,4,0xFFFFFF;
				viewpoint 2,1,1,5,0xFFFFFF;
			}
			close;
		}
		mes "[タルラー]";
		mes "こ……こんにちは。";
		mes "・の……いつもお守り";
		mes "・……・りがとうございます。";
		mes "わ……タルラーたちを";
		mes "守ってくれてるんですよね？";
		close;
	}
}

malaya,66,277,0	duplicate(砂くぼみ#mal01)	砂くぼみ#mal02	557
malaya,70,282,0	duplicate(砂くぼみ#mal01)	砂くぼみ#mal03	557
malaya,71,288,0	duplicate(砂くぼみ#mal01)	砂くぼみ#mal04	557
malaya,75,291,0	duplicate(砂くぼみ#mal01)	砂くぼみ#mal05	557
malaya,80,292,0	duplicate(砂くぼみ#mal01)	砂くぼみ#mal06	557

ma_fild01,178,206,0	script	黒い竹#mal01	844,8,8,{
	if (!checkquest(7366)) {
		mes "‐少し短めの黒い色をした竹が・る‐";
		close;
	}
	if (countitem(6500) >= 6) {
		mes "‐尖った竹はもう十分集まった‐";
		close;
	}
	mes "‐全体が黒い竹が・る。";
	mes "　この竹からイメルダーが欲しがる";
	mes "　尖った竹を用意できそうだ‐";
	next;
	if (checkitemblank()==0) {
		mes "‐アイテムの種類数が多くて";
		mes "　持つことができない。";
		mes "　種類数を減らしてから拾おう‐";
		close;
	}
	progressbar 3000;
	initnpctimer;
	hideonnpc strnpcinfo(0);
	getitem 6500,1;
	mes "‐適当な長さに切り整え、";
	mes "　尖った竹を手にいれた‐";
	close;
OnTouch:
	misceffect 362,strnpcinfo(0);
	end;
OnTimer30000:
	stopnpctimer;
	hideoffnpc strnpcinfo(0);
	misceffect 362,strnpcinfo(0);
	end;
}
ma_fild01,225,186,0	duplicate(黒い竹#mal01)	黒い竹#mal02	844,8,8
ma_fild01,230,244,0	duplicate(黒い竹#mal01)	黒い竹#mal03	844,8,8
ma_fild01,174,238,0	duplicate(黒い竹#mal01)	黒い竹#mal04	844,8,8
ma_fild01,180,273,0	duplicate(黒い竹#mal01)	黒い竹#mal05	844,8,8
ma_fild01,179,145,0	duplicate(黒い竹#mal01)	黒い竹#mal06	844,8,8

//============================================================
// パンドイのシルバーブレイドクエストNPC
//------------------------------------------------------------
malaya,119,217,3	script	研修鍛冶屋パンドイ	538,{
	switch(MALAYA_1QUE) {
	case 0:
	case 1:
		mes "[パンドイ]";
		mes "ぎゃ・……・・・！";
		mes "お前さては悪霊の仲間だな！";
		mes "・……・っち行け!!　早くいけ！";
		close;
	case 2:
		if (MALAYA_1SUBQUE & 0x10) {
			mes "[パンドイ]";
			mes "先生……先生……！";
			mes "人助けだと思って何とかなりませんか？";
			mes "パンドイの事なんて放っておくのが";
			mes "一番だと、そんな風に";
			mes "思っているのですか！";
			next;
			mes "[パンドイ]";
			mes "先生……。お願いしますよ。";
			mes "持ち物のひとつやふたつ";
			mes "くれたっていいじゃないですか！";
			mes "先生には失望しましたよ……。";
			close;
		}
		mes "[パンドイ]";
		mes "・、どうも！　お元気ですか？　先生！";
		mes "先生の名声はすでに轟いていますよ。";
		mes "それでね、先生。実は……";
		mes "先生にこうしてお会いできた証に";
		mes "何か1つ所持品を頂きたいのですが……";
		next;
		mes "[パンドイ]";
		mes "・……。急に馴れ馴れしくして";
		mes "すいません。へへ。";
		mes "先生がお化けを退治したという";
		mes "噂は最近よく町で耳にしますが、";
		mes "パンドイはそれを聞く前から、先生は";
		mes "素晴らしい人だろうと思ってたんです。";
		next;
		mes "[パンドイ]";
		mes "えっ。調子の良いことを言うなって？";
		mes "いや、いやいやいや！";
		mes "パンドイは先生が町に来た時から";
		mes "素晴らしい人だと思っていたんです！";
		mes "へへ。";
		emotion 19;
		next;
		mes "[パンドイ]";
		mes "それでですね。";
		mes "先生の気が込められている物を";
		mes "何かいただければ、";
		mes "悪霊も怖くなくなると思うんですよ！";
		mes "だからお願いしますよ先生！";
		next;
		menu "気なんて込めていませんよ",-;
		mes "[パンドイ]";
		mes "そんな……！";
		mes "どうしてそんな嘘をつくんですか！";
		mes "先生はパンドイが悪霊に怯えていても";
		mes "何とも思わないのですか！";
		mes "先生……ひどいです！";
		viewpoint 2,1,1,3,0xFFFFFF;
		set MALAYA_1SUBQUE,MALAYA_1SUBQUE|0x10;
		next;
		if (MALAYA_1SUBQUE & 0x3F == 0x3F) {
			mes "‐すでに複数の町人から";
			mes "　同じようなお願いをされている。";
			mes "　どうしたものだろうか。";
			mes "　一度ムンバキ・ポンに";
			mes "　相談してみよう‐";
			delquest 72050;
			setquest 7358;
			set MALAYA_1QUE,3;
			set MALAYA_1SUBQUE,0;
			viewpoint 2,1,1,0,0xFFFFFF;
			viewpoint 2,1,1,1,0xFFFFFF;
			viewpoint 2,1,1,2,0xFFFFFF;
			viewpoint 2,1,1,3,0xFFFFFF;
			viewpoint 2,1,1,4,0xFFFFFF;
			viewpoint 2,1,1,5,0xFFFFFF;
			close;
		}
		mes "‐持ち物をわけてほしいと頼まれた。";
		mes "　他の町人にも話を聞いてみよう‐";
		close;
	case 3:
		mes "[パンドイ]";
		mes "はぁ……本当……はぁ。";
		mes "最近は悪霊のせいで、";
		mes "色々つらいですよ。";
		mes "どうして・いつら現れるんだろう。";
		next;
		mes "[パンドイ]";
		mes "先生……！";
		mes "人助けだと思って何とかなりませんか？";
		mes "パンドイの事なんて放っておくのが";
		mes "一番だと、そんな風に";
		mes "思っているのですか！";
		mes "先生には失望しましたよ……。";
		close;
	case 4:
		if (MALAYA_1SUBQUE & 0x10) {
			mes "[パンドイ]";
			mes "さ・、先生のおかげで勇気も出たし、";
			mes "後は銀製品の材料を用意しに";
			mes "病院や町の外にいくだけだな！";
			mes "行くだけだな……だけ……。";
			mes "やっぱり病院は怖い……。";
			close;
		}
		if (countitem(523) < 1 || countitem(717) < 1) {
			mes "^4d4dff‐ブルージェムストーンと聖水を";
			mes "　渡そう‐^000000";
			close;
		}
		mes "[パンドイ]";
		mes "せ……先生！";
		mes "戻ってきてくれたという事は";
		mes "期待していいんですね!?";
		mes "パンドイに平穏を与えてくれると！";
		next;
		menu "準備した物を渡す",-;
		mes "‐パンドイに準備した聖水と";
		mes "　ブルージェムストーンを";
		mes "　1個ずつ渡した‐";
		next;
		mes "[パンドイ]";
		mes "おお！　こ、これは!!";
		mes "パンドイは最初から先生は";
		mes "必ず戻ってくると信じていました！";
		mes "うおー！　先生の気を感じます！";
		mes "これで悪霊に怯えずに済みます。";
		mes "本当に・りがとうございます。";
		delitem 717,1;
		delitem 523,1;
		viewpoint 2,1,1,3,0xFFFFFF;
		set MALAYA_1SUBQUE,MALAYA_1SUBQUE|0x10;
		if (MALAYA_1SUBQUE & 0x3F == 0x3F) {
			next;
			mes "‐これで全員に配り終えた。";
			mes "　ムンバキ・ポンのもとに戻ろう‐";
			delquest 7351;
			setquest 7365;
			set MALAYA_1QUE,5;
			set MALAYA_1SUBQUE,0;
			viewpoint 2,1,1,0,0xFFFFFF;
			viewpoint 2,1,1,1,0xFFFFFF;
			viewpoint 2,1,1,2,0xFFFFFF;
			viewpoint 2,1,1,3,0xFFFFFF;
			viewpoint 2,1,1,4,0xFFFFFF;
			viewpoint 2,1,1,5,0xFFFFFF;
		}
		close;
	case 5:
		mes "[パンドイ]";
		mes "先生！　銀が必要なんですよ。";
		mes "パンドイには夢が・るんです！　へへ。";
		mes "悪霊の恐怖を取り払ったら";
		mes "銀なんてすぐ採れる……。";
		mes "そう思っていたのに、";
		mes "やっぱりモンスターが怖いなぁ……。";
		close;
	case 6:
		if (checkquest(7370) || checkquest(72176)) {
			mes "[パンドイ]";
			mes "おお、先生！　それはもしかして";
			mes "イメルダーさんが作ったという";
			mes "新しいお守りですか！";
			mes "それをパンドイに？";
			next;
			mes "‐パンドイにお守りを渡した‐";
			next;
			mes "[パンドイ]";
			mes "さすが先生！　・りがとうございます！";
			mes "これでパンドイの平穏は保たれました！";
			delitem 6503,1;
			if (checkquest(72176))
				delquest 72176;
			else
				delquest 7370;
			setquest 7384;
			viewpoint 2,1,1,3,0xFFFFFF;
			set MALAYA_5SUBQUE,MALAYA_5SUBQUE|0x10;
			if (MALAYA_5SUBQUE & 0x3F == 0x3F) {
				setquest 7379;
				delquest 7382;
				delquest 7383;
				delquest 7384;
				delquest 7385;
				delquest 7386;
				delquest 7387;
				if (MALAYA_5QUE==3)
					set MALAYA_5QUE,4;
				set MALAYA_5SUBQUE,0;
				next;
				mes "‐すべての人に^FF0000退魔のお守り^000000を渡した。";
				mes "　イメルダーの所へ戻ろう‐";
				viewpoint 2,1,1,0,0xFFFFFF;
				viewpoint 2,1,1,1,0xFFFFFF;
				viewpoint 2,1,1,2,0xFFFFFF;
				viewpoint 2,1,1,3,0xFFFFFF;
				viewpoint 2,1,1,4,0xFFFFFF;
				viewpoint 2,1,1,5,0xFFFFFF;
			}
			close;
		}
		if ((checkquest(7393) & 0x4) && countitem(6508) >= 10) {
			mes "[パンドイ]";
			mes "先生……さすがです！";
			mes "・の恐ろしい奴らを倒して";
			mes "注文通り、銀のブレスレットを";
			mes "手に入れてきてくれましたね。";
			next;
			mes "[パンドイ]";
			mes "今日から新しい銀製の武器作成を";
			mes "挑戦してみようと思います!!";
			mes "今まで一度も成功してないので";
			mes "何度も挑戦する事になると思うけど……";
			mes "最後には華麗な銀色の剣を";
			mes "自慢できるように頑張ります……!!";
			next;
			if (checkitemblank()==0) {
				mes "[パンドイ]";
				mes "・れ？";
				mes "先生、アイテムをいっぱい";
				mes "持ち過ぎで、お礼を渡せません！";
				mes "アイテムを整理してから、";
				mes "もう一度来てください！";
				close;
			}
			mes "[パンドイ]";
			mes "さ・先生、これはお礼です。";
			mes "もし、今回の作成に失敗した時は……";
			mes "また材料の入手をお願いします！";
			delitem 6508,10;
			setquest 7394;
			delquest 7393;
			getitem 6497,1;
			getexp 500000,0,1;
			getexp 0,200000,0;
			close;
		}
		switch(rand(1,4)) {
		case 1:
			if ($MalayaName$[0] != "" && $MalayaName$[0] != strcharinfo(0)) {
				mes "[パンドイ]";
				mes "お会いした先生の中で、";
				mes $MalayaName$[0]+ "先生以上の";
				mes "働き者は見たことが・りません。";
				mes "・の方は労働の神様です！";
				break;
			}
		case 2:
			if ($MalayaName$[3] != "" && $MalayaName$[3] != strcharinfo(0)) {
				mes "[パンドイ]";
				mes $MalayaName$[3]+ "先生が";
				mes "とてもとても大きな発見を";
				mes "したらしいですよ。";
				mes "なんでも龍がどうとか……";
				break;
			}
		case 3:
			if ($MalayaName$[9] != "" && $MalayaName$[9] != strcharinfo(0)) {
				mes "[パンドイ]";
				mes "町の近くで";
				mes $MalayaName$[9]+ "先生が";
				mes "ジェジェリンを退治する姿を";
				mes "見たことが・るんですが、";
				mes "・の迫力は……";
				mes "ほ……惚れてしまいそうです！";
				break;
			}
		case 4:
			mes "[パンドイ]";
			mes "パンドイはですね、";
			mes "先生のようになりたいんです。";
			mes "先生の強さには本当に憧れます！";
			break;
		}
		next;
		switch(select("何か手伝おうか","銀の十字架を作ってほしい")) {
		case 1:
			if (BaseLevel < 100) {
				mes "[パンドイ]";
				mes "先生！　パンドイには夢が・るんです！";
				mes "へへ……。";
				mes "一人前の鍛冶職人として認められる為、";
				mes "銀製の剣を作りたいんです！";
				mes "その為に必要な材料の入手を";
				mes "お願いしたかったのですが……";
				next;
				mes "[パンドイ]";
				mes "大変申し上げにくいんですが、";
				mes "先生の実力ではちょっと無理です。";
				mes "そうですね、具体的には";
				mes "^FF0000BaseLv100以上^000000になったら";
				mes "その時にでもお願いします。";
				close;
			}
			if (checkquest(7393)) {
				if (!(checkquest(7393) & 0x4)) {
					mes "[パンドイ]";
					mes "病院にはとても恐ろしい奴らがいます。";
					mes "パンドイは近づけないので";
					mes "詳しい事はよく分かりませんが……。";
					mes "とにかく病院は怖いんです。";
					next;
					mes "[パンドイ]";
					mes "病院にいる^FF0000マナナンガルとチャナックを";
					mes "10体ずつ^000000倒して、";
					mes "彼らが持っているという";
					mes "^FF0000銀のブレスレットを10個^000000";
					mes "手に入れてきて下さい！";
					mes "頼れるのは先生だけです！";
					close;
				}
				if (countitem(6508) < 10) {
					mes "[パンドイ]";
					mes "銀のブレスレットはどうしました？";
					mes "先生、ブレスレットは10個必要です。";
					mes "お願いします！　へへ。";
					close;
				}
				mes "[パンドイ]";
				mes "先生……さすがです！";
				mes "・の恐ろしい奴らを倒して";
				mes "注文通り、銀のブレスレットを";
				mes "手に入れてきてくれましたね。";
				next;
				mes "[パンドイ]";
				mes "今日から新しい銀製の武器作成を";
				mes "挑戦してみようと思います!!";
				mes "今まで一度も成功してないので";
				mes "何度も挑戦する事になると思うけど……";
				mes "最後には華麗な銀色の剣を";
				mes "自慢できるように頑張ります……!!";
				next;
				if (checkitemblank()==0) {
					mes "[パンドイ]";
					mes "・れ？";
					mes "先生、アイテムをいっぱい";
					mes "持ち過ぎで、お礼を渡せません！";
					mes "アイテムを整理してから、";
					mes "もう一度来てください！";
					close;
				}
				mes "[パンドイ]";
				mes "さ・先生、これはお礼です。";
				mes "もし、今回の作成に失敗した時は……";
				mes "また材料の入手をお願いします！";
				delitem 6508,10;
				setquest 7394;
				delquest 7393;
				getitem 6497,1;
				getexp 500000,0,1;
				getexp 0,200000,0;
				close;
			}
			if (checkquest(7394)) {
				if (!(checkquest(7394) & 0x2)) {
					mes "[パンドイ]";
					mes "まだ銀はいっぱい残っています。";
					mes "もし、もしも失敗して";
					mes "材料をすべて使い切ってしまったら";
					mes "その時はまた材料集めをお願いします。";
					next;
					mes "[パンドイ]";
					mes "へへ。先生！　見ててくださいね。";
					mes "やってやりますよ!!";
					mes "シルバーブレイドをね";
					mes "作って見せますよ！";
					close;
				}
				mes "[パンドイ]";
				mes "・……せ、先生。";
				mes "パンドイはどうしたらいいでしょう？";
				mes "先生が苦労して集めてくれた材料を";
				mes "すべて使い切った・げく……";
				mes "ろくな成果も・りませんでした……。";
				next;
				mes "[パンドイ]";
				mes "やはりパンドイは鍛冶屋には";
				mes "向いてないんでしょうか……。";
				mes "銀細工なら自信が・るのに！";
				next;
				if (select("また材料を集めてくるよ","諦めると楽になるよ")==2) {
					mes "[パンドイ]";
					mes "確かにそうですね。";
					mes "パンドイにシルバーブレイドなんて";
					mes "作れるわけがなかったんです。";
					mes "さすが先生……・れ？";
					mes "違いますよ！";
					mes "私は先生に少し失望しました……。";
					close;
				}
				mes "[パンドイ]";
				mes "さすが先生です!!";
				mes "いつも・りがとうございます。";
				next;
				mes "[パンドイ]";
				mes "では、今回も病院にいる";
				mes "^FF0000マナナンガルとチャナックを";
				mes "10体ずつ^000000倒して、";
				mes "^FF0000銀のブレスレット10個^000000";
				mes "集めてください。お願いします。";
				delquest 7394;
				setquest 7393;
				next;
				mes "[パンドイ]";
				mes "パンドイはお世話になりっぱなしです。";
				mes "先生に足を向けて寝れませんよ！";
				mes "へへへっ。";
				close;
			}
			mes "[パンドイ]";
			mes "先生！　パンドイには夢が・るんです！";
			mes "一人前の鍛冶職人として認められる為";
			mes "銀製の剣を作りたいんです！";
			mes "その名もシルバーブレイド！";
			mes "今の所名前以外、形も性能も";
			mes "何も決まっていません！　へへ。";
			next;
			mes "[パンドイ]";
			mes "それでですね、先生。";
			mes "そのシルバーブレイドを作るには";
			mes "実は銀が必要なんです。";
			mes "それもたくさん！";
			next;
			mes "[パンドイ]";
			mes "銀を入手するにはどうしたらいいか";
			mes "パンドイは色々調べてみました。";
			mes "それによるとどうも町の病院で";
			mes "入院患者用に使用されていた";
			mes "ブレスレットが銀製だったそうです。";
			next;
			mes "[パンドイ]";
			mes "病院は今はもう閉鎖されていますが、";
			mes "当時使っていた用具で・れば";
			mes "多少は残っているだろうと思って";
			mes "パンドイは病院に向かってみました。";
			next;
			mes "[パンドイ]";
			mes "ところがですよ……！";
			mes "中はひどい有様でした。";
			mes "病院というよりは、";
			mes "患者を増やす施設のような……。";
			mes "たくさんモンスターがいて、";
			mes "恐ろしい事になってたのです。";
			next;
			mes "[パンドイ]";
			mes "銀のブレスレットは";
			mes "そこにいたモンスターが";
			mes "持っているみたいです。";
			mes "でもパンドイにはモンスターを倒して";
			mes "ブレスレットを手に入れるなんて";
			mes "とてもできません。";
			next;
			mes "[パンドイ]";
			mes "そこで先生にお願いしたいんです。";
			mes "先生ならそいつらを倒して、";
			mes "銀のブレスレットを";
			mes "手に入れてこれますよね？";
			next;
			if (select("まかせて","面倒なので、お断りします")==2) {
				mes "[パンドイ]";
				mes "ですよね……それもそうですよね。";
				mes "たとえ銀を取ってきたとしても";
				mes "パンドイにシルバーブレイドなんて";
				mes "作れるわけがないですもんね……。";
				mes "でも、何もそこまで露骨に";
				mes "嫌がらなくても……。";
				close;
			}
			mes "[パンドイ]";
			mes "やっぱり、さすが先生ですね！";
			mes "では病院にいる";
			mes "^FF0000マナナンガルとチャナックを";
			mes "10体ずつ^000000倒して、";
			mes "^FF0000銀のブレスレット10個^000000を";
			mes "集めてきてください！";
			delquest 72088;
			setquest 7393;
			next;
			mes "[パンドイ]";
			mes "先生には頭が・がりません！";
			mes "へへへ。お願いします!";
			emotion e_thx;
			close;
		case 2:
			mes "[パンドイ]";
			mes "銀の十字架が必要ですか？　先生！";
			mes "任せてください！";
			mes "このパンドイが作って差し上げます。";
			mes "銀細工は得意なんですよ！　へへ。";
			next;
			mes "[パンドイ]";
			mes "・っと！　その前に！";
			mes "銀の十字架は一部地域では";
			mes "悪霊退治に使われるなど、";
			mes "神聖な物として取り扱われています。";
			mes "そのため、^FF0000他の人に渡したり、";
			mes "捨てたりすることができません。^000000";
			next;
			mes "[パンドイ]";
			mes "必要以上に持ち過ぎて、どうしても";
			mes "手放したい場合には、お店に引き取って";
			mes "貰ってくださいね。";
			mes "乱暴に扱ってバチが当たるのは";
			mes "さすがの先生でも嫌でしょう？　へへ。";
			next;
			mes "[パンドイ]";
			mes "さて！　銀の十字架を作るには、";
			mes "材料として銀が必要です。";
			mes "病院のモンスター達が持っている";
			mes "^4d4dff銀のブレスレット2個^000000で";
			mes "銀の十字架1個分の材料になります。";
			mes "いくつ作りますか先生？";
			next;
			switch(select("銀の十字架　1個","銀の十字架　6個","数を指定する","やめる")) {
			case 1:
				set '@num,1;
				mes "[パンドイ]";
				mes "銀の十字架、1個ですね。";
				mes "わかりました！　少し待って下さい。";
				mes "すぐに作業にとりかかります。";
				break;
			case 2:
				set '@num,6;
				mes "[パンドイ]";
				mes "お、先生もしかして";
				mes "イメルダーさんのお手伝いですか？";
				mes "銀の十字架、6個ですね。";
				mes "わかりました！　少し待って下さい。";
				break;
			case 3:
				mes "[パンドイ]";
				mes "わかりました先生！";
				mes "パンドイが一度に作れるのは";
				mes "最大50個までです！";
				mes "銀の十字架を何個作りますか？";
				next;
				input '@num;
				if ('@num <= 0) {
					mes "[パンドイ]";
					mes "・れ？　銀の十字架いらないですか？";
					mes "作らなくていいなら楽できるので";
					mes "問題ないです先生！　へへ！";
					close;
				}
				if ('@num > 50) {
					mes "[パンドイ]";
					mes "一度に作れるのは50個までです先生！";
					close;
				}
				if (countitem(6508) < '@num*2) {
					mes "[パンドイ]";
					mes "先生。銀が無いと作れません。";
					mes "銀の十字架を" +'@num+ "個作るためには";
					mes "銀のブレスレットが" +('@num*2)+ "個";
					mes "必要です。";
					close;
				}
				mes "[パンドイ]";
				mes "銀の十字架" +'@num+ "個ですね。";
				mes "わかりました！　少し待って下さい。";
				next;
				progressbar 15000;
				delitem 6508,'@num*2;
				getitem 6502,'@num;
				mes "[パンドイ]";
				mes "これを見て下さい、先生！";
				mes "素晴らしい出来上がりです。";
				mes "やっぱりパンドイには";
				mes "細工師の方が向いているのかな。";
				close;
			case 4:
				mes "[パンドイ]";
				mes "いつでも必要な時に訪ねて下さい！";
				close;
			}
			if (countitem(6508) < '@num*2) {
				mes "[パンドイ]";
				mes "先生。銀が無いと作れません。";
				mes "銀の十字架を" +'@num+ "個作るためには";
				mes "銀のブレスレットが" +('@num*2)+ "個";
				mes "必要です。";
				close;
			}
			next;
			progressbar 5000;
			delitem 6508,'@num*2;
			getitem 6502,'@num;
			mes "[パンドイ]";
			mes "これを見て下さい、先生！";
			mes "素晴らしい出来上がりです。";
			mes "やっぱりパンドイには";
			mes "細工師の方が向いているのかな。";
			close;
		}
	}
OnInit:
	waitingroom "パンドイのシルバーブレイド",0;
	end;
}

//============================================================
// ペリー号のゴーストクエストNPC
//- Registry -------------------------------------------------
// MALAYA_2QUE -> 0～6
//------------------------------------------------------------
malaya,326,68,2	script	船員ペドロ	100,{
	switch(MALAYA_1QUE) {
	case 0:
	case 1:
		mes "[ペドロ]";
		mes "・……この船は運行していません。";
		mes "いや、はは……。";
		mes "運行したくても、できないんですよ。";
		close;
	case 2:
		mes "[ペドロ]";
		mes "・れ、・なたは……";
		mes "ただ立っているだけで";
		mes "悪霊たちが逃げて行くという";
		mes "町で噂の冒険家ですか!?";
		mes "ちょっと私の話を聞いてくれますか？";
		next;
		if (select("いやです","わかりました")==1) {
			mes "[ペドロ]";
			mes "おお、断固たる拒絶。";
			mes "悠然たる立ち居振る舞いから放たれる";
			mes "揺るぎ無い意志。";
			mes "さすがと言わざるを得ませんが、";
			mes "なんとか聞いてもらえませんか……。";
			close;
		}
		mes "[ペドロ]";
		mes "おお、・りがとうございます。";
		mes "実は、単刀直入に話しますと";
		mes "この町は今、悪霊の住み家に";
		mes "なってしまっているような状況です。";
		next;
		mes "[ペドロ]";
		mes "・そこに・る船、見えますか？";
		mes "少し小さい船ですが、";
		mes "・れも悪霊のせいで足止めされて";
		mes "現在は運行を停止しています。";
		next;
		mes "[ペドロ]";
		mes "一見普通の町に見えますが、";
		mes "色々と呪われています……。";
		mes "ただ、聞くところによると";
		mes "悪霊を追い払う力をお持ちだとか……";
		mes "すごいですね。";
		next;
		menu "それほどでもない",-;
		mes "[ペドロ]";
		mes "そんなご謙遜なさらないでください。";
		mes "・なたの所持品をお守り代わりにすれば";
		mes "悪霊にも対抗できると考えています。";
		mes "お願いします。";
		mes "何かひとつ所持品をいただけませんか？";
		next;
		mes "[ペドロ]";
		mes "船が出せない事には仕事になりません。";
		mes "なので、私は・そこにいる悪霊たちと";
		mes "対峙しなければならないのです。";
		mes "しかし、悪霊達の気の力が強いため";
		mes "なかなか近くに行くことができません。";
		next;
		mes "[ペドロ]";
		mes "・っ、話が長くなってしまって";
		mes "すみませんでした。";
		mes "ま・、急に知らない人に";
		mes "所持品をくれといわれても";
		mes "なかなか難しいですよね。";
		next;
		menu "ごめんなさい",-;
		mes "[ペドロ]";
		mes "いえ、気にしないでください。";
		mes "そのかわり、悪霊に対抗できそうな";
		mes "方法がみつかった時には、";
		mes "私にも教えてくださいね。";
		viewpoint 2,1,1,4,0xFFFFFF;
		set MALAYA_1SUBQUE,MALAYA_1SUBQUE|0x20;
		next;
		if (MALAYA_1SUBQUE & 0x3F == 0x3F) {
			mes "‐すでに複数の町人から";
			mes "　同じようなお願いをされている。";
			mes "　どうしたものだろうか。";
			mes "　一度ムンバキ・ポンに";
			mes "　相談してみよう‐";
			delquest 72050;
			setquest 7358;
			set MALAYA_1QUE,3;
			set MALAYA_1SUBQUE,0;
			viewpoint 2,1,1,0,0xFFFFFF;
			viewpoint 2,1,1,1,0xFFFFFF;
			viewpoint 2,1,1,2,0xFFFFFF;
			viewpoint 2,1,1,3,0xFFFFFF;
			viewpoint 2,1,1,4,0xFFFFFF;
			viewpoint 2,1,1,5,0xFFFFFF;
			close;
		}
		mes "‐持ち物をわけてほしいと頼まれた。";
		mes "　他の町人にも話を聞いてみよう‐";
		close;
	case 3:
		mes "[ペドロ]";
		mes "は・。";
		mes "早くなんとかしないと……。";
		close;
	case 4:
		if (MALAYA_1SUBQUE & 0x20) {
			mes "[ペドロ]";
			mes "おかげ様でペリー号に居ついた";
			mes "悪霊と対峙することが出来そうです。";
			mes "後は、どうにか船の中から";
			mes "追い出すことができれば……！";
			close;
		}
		if (countitem(523) < 1 || countitem(717) < 1) {
			mes "^4d4dff‐ブルージェムストーンと聖水を";
			mes "　渡そう‐^000000";
			close;
		}
		mes "[ペドロ]";
		mes "おや、どうしました？";
		mes "何か気を感じますけど、";
		mes "もしかしてそれは……。";
		next;
		mes "[ペドロ]";
		mes "おぉ、やはりお守りですか！";
		mes "私にそれをくれるんですか?!";
		mes "本当に・りがとうございます！";
		next;
		mes "‐ペドロに準備した聖水と";
		mes "　ブルージェムストーンを";
		mes "　1個ずつ渡した‐";
		next;
		mes "[ペドロ]";
		mes "冒険者様！　感謝しています！";
		mes "悪霊の問題が解決したら、";
		mes "私の船で世界の果てまで";
		mes "送って差し上げます!!";
		delitem 717,1;
		delitem 523,1;
		viewpoint 2,1,1,4,0xFFFFFF;
		set MALAYA_1SUBQUE,MALAYA_1SUBQUE|0x20;
		if (MALAYA_1SUBQUE & 0x3F == 0x3F) {
			next;
			mes "‐これですべての町人に配り終えた。";
			mes "　ムンバキ・ポンの元に戻ろう‐";
			delquest 7351;
			setquest 7365;
			set MALAYA_1QUE,5;
			set MALAYA_1SUBQUE,0;
			viewpoint 2,1,1,0,0xFFFFFF;
			viewpoint 2,1,1,1,0xFFFFFF;
			viewpoint 2,1,1,2,0xFFFFFF;
			viewpoint 2,1,1,3,0xFFFFFF;
			viewpoint 2,1,1,4,0xFFFFFF;
			viewpoint 2,1,1,5,0xFFFFFF;
		}
		close;
	case 5:
		mes "[ペドロ]";
		mes "おかげ様でペリー号に居ついた";
		mes "悪霊と対峙することが出来そうです。";
		mes "後は、どうにか船の中から";
		mes "追い出すことができれば……！";
		next;
		mes "‐船の悪霊を思い出したのか、";
		mes "　ペドロの表情が緊張している‐";
		close;
	case 6:
		if (checkquest(7368) || checkquest(72172)) {
			mes "[ペドロ]";
			mes "おや、こんにちは冒険者様。";
			mes "風が気持ちいいですね。";
			next;
			mes "‐ペドロに^FF0000退魔のお守り^000000を渡した‐";
			next;
			mes "[ペドロ]";
			mes "おお、新しいお守りですか。";
			mes "・りがとうございます。";
			mes "本当に助かります。";
			delitem 6503,1;
			if (checkquest(72172))
				delquest 72172;
			else
				delquest 7368;
			setquest 7382;
			viewpoint 2,1,1,4,0xFFFFFF;
			set MALAYA_5SUBQUE,MALAYA_5SUBQUE|0x20;
			if (MALAYA_5SUBQUE & 0x3F == 0x3F) {
				setquest 7379;
				delquest 7382;
				delquest 7383;
				delquest 7384;
				delquest 7385;
				delquest 7386;
				delquest 7387;
				if (MALAYA_5QUE==3)
					set MALAYA_5QUE,4;
				set MALAYA_5SUBQUE,0;
				next;
				mes "‐すべての人に^FF0000退魔のお守り^000000を渡した。";
				mes "　イメルダーの所へ戻ろう‐";
				viewpoint 2,1,1,0,0xFFFFFF;
				viewpoint 2,1,1,1,0xFFFFFF;
				viewpoint 2,1,1,2,0xFFFFFF;
				viewpoint 2,1,1,3,0xFFFFFF;
				viewpoint 2,1,1,4,0xFFFFFF;
				viewpoint 2,1,1,5,0xFFFFFF;
			}
			close;
		}
		if (BaseLevel < 100) {
			mes "[ペドロ]";
			mes "今のペリー号は";
			mes "悪霊の住処となってしまっています。";
			mes "なんとか私の方でも頑張っていますが";
			mes "正直うまくいっていません……。";
			next;
			mes "[ペドロ]";
			mes "そこでひとつ手伝って欲しいのですが……";
			mes "冒険者様ではまだ実力不足のようです。";
			mes "そうですね、具体的には";
			mes "^FF0000BaseLv100以上^000000になったら";
			mes "その時にでもお願いします。";
			close;
		}
		switch(MALAYA_2QUE) {
		case 0:
			mes "[ペドロ]";
			mes "ひぃぃ！うわ・・!!";
			next;
			mes "‐ペドロは何かに驚き、";
			mes "　震えている‐";
			next;
			if (select("声をかける","立ち去る")==2) {
				mes "‐その場を後にした‐";
				close;
			}
			mes "[ペドロ]";
			mes "い、い、今の見ましたか!?";
			mes "黒い霊がさーっと集まって";
			mes "ふっ、と消えたのを……。";
			mes "はぁ……。";
			mes "こんなことばかりで";
			mes "本当に気が滅入ります。";
			next;
			menu "船の運航について聞く",-;
			mes "[ペドロ]";
			mes "ペリー号はイズルードとの定期船";
			mes "なのですが……";
			next;
			mes "[ペドロ]";
			mes "今のペリー号は";
			mes "悪霊の住処となってしまっています。";
			mes "なんとか追い払って";
			mes "再出港できるようにしたいのですが";
			mes "今のところうまくいっていません……。";
			next;
			mes "[ペドロ]";
			mes "まずはこのようになった";
			mes "経緯をお話ししたいと思いますが";
			mes "よろしいでしょうか？";
			next;
			if (select("話を聞く","悪霊の話など聞きたくない")==2) {
				mes "[ペドロ]";
				mes "そうですか……。";
				mes "悪霊の話を聞きたい人なんて";
				mes "普通いませんもんね……。";
				close;
			}
			mes "[ペドロ]";
			mes "話は私がこの町に初めて";
			mes "船を停泊する時にさかのぼります。";
			next;
			musiceffect "112";
			mes "[ペドロ]";
			mes "これまで不定期便で色々な町へ";
			mes "運航していた私にとって初めての";
			mes "定期船担当ということで、";
			mes "私は非常にワクワクしていました。";
			next;
			mes "[ペドロ]";
			mes "この港が見えたとき、イズルードからの";
			mes "航海を、無事予定した時刻に完了できた";
			mes "喜びに、私は最高に興奮しました。";
			mes "やったぞ！　完璧だ！";
			mes "ってね……。";
			next;
			sc_start3 SC_BLIND,0,0,0,0,360000,10;
			mes "[ペドロ]";
			mes "……ところが、です。";
			mes "港に停泊しようと近づくと、";
			mes "何やら1つ、2つと、黒い霧のような";
			mes "塊が見える。";
			next;
			mes "[ペドロ]";
			mes "何だろう？　と思いながらも、";
			mes "せっかくの完璧な航海を";
			mes "無駄にしたく・りませんでしたから";
			mes "ペリー号を港に近づけました。";
			mes "すると、近づくうちに、黒い塊は";
			mes "どんどん増えていくようでした。";
			next;
			soundeffect "amon_ra_stand.wav",1,3000;
			mes "[ペドロ]";
			mes "いよいよいやーな予感がして……";
			mes "私はいったん船を止めようとしました。";
			mes "ですが……なぜか止まらない。";
			mes "それならばと舵を切ろうとしましたが、";
			mes "舵も効かない。";
			next;
			mes "[ペドロ]";
			mes "思いっきり力を込めても、叩いても、";
			mes "蹴飛ばしても、もちろん大きな声で";
			mes "叫んでも……無意味でした。";
			mes "言いようのない恐怖に";
			mes "私はただ震えました。";
			next;
			soundeffect "amon_ra_stand.wav",2,0;
			mes "[ペドロ]";
			mes "そうするうちにも、船は港に";
			mes "向かって進んで行きます。";
			mes "近づくにつれ、黒い塊も";
			mes "徐々に鮮明に見えて来たんです。";
			next;
			mes "[ペドロ]";
			mes "……まず、目が見えました";
			mes "黒い塊の中で真っ赤に染まる目……";
			mes "それも1つや2つでは・りません。";
			mes "無数の赤い目が・りました。";
			next;
			soundeffect "solace_die.wav",0,0;
			mes "[ペドロ]";
			mes "そしてそれが、一様にこの船を";
			mes "見つめていたのです。";
			next;
			mes "[ペドロ]";
			mes "赤い目をし、黒い霧のような体を";
			mes "持った霊が、無数にひしめいていて……";
			mes "それが黒い塊に見えていたのでした。";
			next;
			mes "[ペドロ]";
			mes "なすすべもなく港に入ったペリー号を";
			mes "霊たちは一斉に取り囲んで、";
			mes "怪奇な音を出したり、泣き叫んだり……";
			next;
			mes "[ペドロ]";
			mes "その中の、恐ろしい女の悪霊が";
			mes "このペリー号を占拠してしまいました。";
			next;
			sc_end SC_BLIND;
			mes "[ペドロ]";
			mes "何とかしようとはしたのですが、";
			mes "その悪霊は恐ろしい力を持っていて……";
			mes "なんと、視界に入る者を触れることなく";
			mes "吹き飛ばすことができるのです。";
			next;
			mes "[ペドロ]";
			mes "私も何度も吹き飛ばされました……。";
			mes "もう私にはどうすることもできません。";
			mes "その為、船を出すことが";
			mes "出来ないでいるのです。";
			next;
			mes "[ペドロ]";
			mes "もし信じられないようでしたら";
			mes "直接船の中に入ってみて下さい。";
			mes "私が言ったことがわかるはずです。";
			delquest 72072;
			setquest 7395;
			set MALAYA_2QUE,1;
			close;
		case 1:
			mes "[ペドロ]";
			mes "もし信じられないようでしたら";
			mes "直接船の中に入ってみて下さい。";
			mes "私が言ったことがわかるはずです。";
			close;
		case 2:
			mes "[ペドロ]";
			mes "えっ。少女の霊が？";
			mes "イライラしていた？";
			mes "いったいどうなっているんでしょう。";
			mes "町の指導者ムンバキ・ポンなら";
			mes "アドバイスをくれるかもしれません。";
			close;
		case 3:
			mes "[ペドロ]";
			mes "なるほど。";
			mes "献花で少女の霊を慰めて、";
			mes "その後に話を聞くというわけですね。";
			mes "なかなか良さそうだと思います。";
			mes "では、よろしくお願いします。";
			close;
		case 4:
			mes "[ペドロ]";
			mes "ムンバキ・ポンが";
			mes "花に祝福をかけてくれたのですか。";
			mes "なるほど。";
			mes "良い結果が出る事を願っております。";
			mes "よろしくお願いします。";
			mes "私の代わりに交渉に成功して下さい！";
			close;
		case 5:
			mes "[ペドロ]";
			mes "冒険者様！";
			mes "花束を渡していただけましたか？";
			mes "それでいかがでしたか？";
			next;
			menu "ディワタについて話す",-;
			mes "[ペドロ]";
			mes "なんと！";
			mes "・の少女の霊は大自然の精霊";
			mes "だったのですか？";
			next;
			mes "[ペドロ]";
			mes "怖い顔で何度も私を";
			mes "吹き飛ばすものだから";
			mes "てっきり……";
			next;
			mes "[ペドロ]";
			mes "しかし、その精霊ディワタ様が";
			mes "この船を守ってくれると";
			mes "言ってくれたのですよね？";
			mes "それは大変心強い！";
			next;
			mes "[ペドロ]";
			mes "できれば、ディワタ様の機嫌が";
			mes "悪くならないよう、これからも";
			mes "定期的に花束を届けていただけると";
			mes "嬉しいです。";
			next;
			mes "[ペドロ]";
			mes "今回はいろいろと助けて";
			mes "いただいて本当に";
			mes "・りがとうございます。";
			mes "大した物では・りませんが、";
			mes "これは私からのお礼です。";
			delquest 7399;
			setquest 7401;
			setquest 201505;
			set MALAYA_2QUE,6;
			getitem 6497,1;
			getexp 5000000,0,1;
			getexp 5000000,0,1;
			getexp 0,3000000,0;
			next;
			mes "[ペドロ]";
			mes "私は航海の準備をします。";
			mes "運行再開の際には、無料で";
			mes "イズルードまでお送りします。";
			close;
		case 6:
			if (checkquest(7401)) {
				if (!(checkquest(7401) & 0x2)) {
					mes "[ペドロ]";
					mes "今はまだ、ディワタ様の機嫌が";
					mes "良いみたいです！";
					mes "機嫌が悪くなったら、";
					mes "また献花をお願いしますね。";
					next;
					menu "船の運航状況を聞く",-;
					mes "[ペドロ]";
					mes "アルベルタに行くなら隣に・る";
					mes "大きな船を利用して下さい。";
					mes "このペリー号はイズルード行きです。";
					mes "料金は無料です。";
					next;
					if (select("利用する","利用しない")==2) {
						mes "[ペドロ]";
						mes "ご利用の際には言ってください。";
						close;
					}
					mes "[ペドロ]";
					mes "それではイズルードに向けて";
					mes "出航します。";
					close2;
					warp "izlude",195,180;
					end;
				}
				mes "[ペドロ]";
				mes "また悪霊たちが暴れ始めまして……";
				mes "それで、ディワタ様の機嫌も";
				mes "・まり良くないみたいです。";
				mes "お守りが・っても私のようなものでは";
				mes "耐えられません。";
				next;
				switch(select("船の運航状況を聞く","大変ですね","献花をしてこようか")) {
				case 1:
					mes "[ペドロ]";
					mes "悪霊が暴れていて、";
					mes "今はとても出航できるような";
					mes "状況では・りません。";
					close;
				case 2:
					mes "[ペドロ]";
					mes "お気遣い・りがとうございます。";
					mes "いや、・の……出来れば……";
					mes "献花をして……いただけると……。";
					close;
				case 3:
					mes "[ペドロ]";
					mes "おお。・りがとうございます。";
					mes "是非、献花をして・げてください。";
					mes "それでは、前回と同じ要領で";
					mes "よろしくお願いします。";
					delquest 7401;
					setquest 7402;
					close;
				}
			}
			if (checkquest(7403)) {
				mes "[ペドロ]";
				mes "ディワタ様が大人しくなりました。";
				mes "雰囲気が変わったのが";
				mes "外からも感じられます。";
				mes "毎回、世話になって本当にすみません。";
				next;
				mes "[ペドロ]";
				mes "もしよろしければ定期的に来て";
				mes "献花して・げてください。";
				next;
				if (checkitemblank()==0){
					mes "[ペドロ]";
					mes "おや？";
					mes "持ち物が多すぎて、";
					mes "お礼を渡すことができません。";
					mes "持ち物を整理してから、";
					mes "もう一度来てください。";
					close;
				}
				mes "[ペドロ]";
				mes "これはお礼です。";
				mes "受け取ってください。";
				setquest 7401;
				delquest 7403;
				getitem 6497,1;
				getexp 500000,0,1;
				getexp 0,200000,0;
				close;
			}
			mes "[ペドロ]";
			mes "前回と同じ要領で花を集めて。";
			mes "ムンバキ・ポンの所に持って行くと、";
			mes "安らぎの花束にしてくれるはずです。";
			mes "それをディワタ様に渡してください。";
			mes "よろしくお願いします。";
			next;
			menu "船の運航状況を聞く",-;
			mes "[ペドロ]";
			mes "悪霊が暴れていて、";
			mes "今はとても出航できるような";
			mes "状況では・りません。";
			close;
		}
	}
OnInit:
	waitingroom "ペリー号のゴースト",0;
	end;
}

ma_in01,108,92,0	script	#ディワタ演出	139,5,5,{
OnTouch:
	if (MALAYA_2QUE==1) {
		musiceffect "112";
		sc_start3 SC_BLIND,0,0,0,0,360000,10;
	}
	end;
}

ma_in01_jp,45,154,3	script	ムンバキ・キコ	580,{
	if (checkquest(7376)) {
		mes "[ムンバキ・キコ]";
		mes "おお、これはお願いしていた鍋だな！";
		mes "なるほど、素晴らしい！";
		mes "これでバコナワを苦しめる事ができる。";
		next;
		if (checkitemblank()==0) {
			mes "[ムンバキ・キコ]";
			mes "むむ！";
			mes "持ち物が多すぎのようだぞ。";
			mes "持ち物を整理してから、";
			mes "もう一度話しかけてくれ。";
			close;
		}
		mes "[ムンバキ・キコ]";
		mes "それじゃ・、すまないが鍋のお礼に";
		mes "このお守りを渡して来てくれないかね。";
		mes "聞いた話だと";
		mes "悪霊に苦労しているそうだな。";
		mes "これを持って行けば力になるはずだ。";
		mes "すまないが頼んだよ。";
		delitem 6504,5;
		setquest 7377;
		getitem 6503,5;
		delquest 7376;
		close;
	}
	if (checkquest(72060) && countitem(523) >= 10) {
		mes "[ムンバキ・キコ]";
		mes "うむ、この悪霊の骨には";
		mes "すべて悪い気が宿っている。";
		mes "ただその分この骨には";
		mes "強いエネルギーも含まれているんだ。";
		mes "そこでそのエネルギーを利用するために";
		mes "聖水を利用してこのようにすると……";
		next;
		mes "[ムンバキ・キコ]";
		mes "さ・、できた。";
		mes "これをバンタイに与えれば";
		mes "強い力を得る事が出来るだろう。";
		mes "それじゃ・、すまないがこの骨を";
		mes "ドンに渡してきてくれ。";
		delitem 6507,10;
		delitem 523,10;
		setquest 7407;
		getitem 6505,10;
		delquest 72060;
		close;
	}
	mes "[ムンバキ・キコ]";
	mes "・・、今日も忙しい。";
	mes "悪霊が出没するようになって";
	mes "休む暇もなくなってしまった。";
	mes "　";
	mes "おや、冒険者の方がいらしていたのか。";
	next;
	mes "[ムンバキ・キコ]";
	mes "バリオ・マヒワガにようこそ冒険者よ。";
	mes "私はここバリオ・マヒワガで";
	mes "人と霊を見守っている霊道師";
	mes "ムンバキ・キコだ。";
	if (checkquest(7377) || checkquest(72060) || checkquest(7407)) {
		mes "何かご用かね。";
		next;
		switch(select("鉄の鍋について","悪霊の骨の浄化について")) {
		case 1:
			if (!checkquest(7377)) {
				mes "[ムンバキ・キコ]";
				mes "ん？　確かに鍋の注文はしたけど";
				mes "君には頼んでいないぞ。";
				mes "何か勘違いをしているんじゃないか？";
				close;
			}
			mes "[ムンバキ・キコ]";
			mes "ここ、バリオ・マヒワガの鍛冶屋で";
			mes "性能の良い鍋を作るのは難しい。";
			mes "それで毎回ポートマラヤに・る";
			mes "鍛冶屋の世話になっている。";
			next;
			mes "[ムンバキ・キコ]";
			mes "バコナワは大きな音を嫌うのだ。";
			mes "我々はバコナワ対策として";
			mes "鉄で作った頑丈な鍋を力一杯叩く。";
			mes "その為、頻繁に鍋が壊れてしまう。";
			mes "だから替えがいくつも必要なんだ。";
			next;
			mes "[ムンバキ・キコ]";
			mes "とにかく・りがとう。";
			mes "すまんがお守りを渡す件は";
			mes "頼んだよ。";
			close;
		case 2:
			if (!checkquest(7407)) {
				mes "[ムンバキ・キコ]";
				mes "バンタイが食べる骨の";
				mes "浄化のことかな。";
				mes "確かにそれは私が請け負っているが、";
				mes "ふむ。";
				mes "今の君には関係ない事だな。";
				close;
			}
			mes "[ムンバキ・キコ]";
			mes "バンタイがお・を空かしているだろう。";
			mes "急いで持って行って・げなさい。";
			close;
		}
	}
	close;
}

//============================================================
// 警備犬バンタイクエストNPC
//------------------------------------------------------------
ma_in01,122,158,0	script	警備隊員ドン	570,{
	if (checkquest(7407)) {
		mes "[警備隊員ドン]";
		mes "これはバンタイが喜びますね！";
		mes "うーん、出来立ては新鮮だ。";
		mes "・りがとうございます！";
		next;
		mes "[警備隊員ドン]";
		mes "これはお礼です。";
		mes "出来れば明日もまた";
		mes "やってもらえると助かります。";
		delitem 6505,10;
		setquest 7408;
		delquest 7407;
		getitem 6497,1;
		getexp 500000,0,1;
		getexp 0,200000,0;
		close;
	}
	mes "[警備隊員ドン]";
	mes "ふうぅ……。";
	next;
	if (select("声をかける","声をかけない")==2) {
		mes "‐声をかけずにその場を離れた。‐";
		close;
	}
	if (BaseLevel < 100) {
		mes "[警備隊員ドン]";
		mes "実は今、バンタイという警備犬の";
		mes "餌を探していたのですが、";
		mes "少し足りませんでした。";
		mes "ちょっと変わった餌なので誰かに用意を";
		mes "手伝ってもらいたかったのですが……";
		mes "・なたにはちょっと無理そうですね。";
		next;
		mes "[警備隊員ドン]";
		mes "そうですね、具体的には";
		mes "^FF0000BaseLv100以上^000000になったら";
		mes "是非その時にでも手伝ってください。";
		close;
	}
	if (checkquest(7408)) {
		if (!(checkquest(7408) & 0x2)) {
			mes "[警備隊員ドン]";
			mes "・！";
			mes "お手伝い・りがとうございました！";
			mes "これで当分の間バンタイは";
			mes "良い仕事をするでしょう。";
			next;
			mes "[警備隊員ドン]";
			mes "え、警備もせずに";
			mes "私がここで何をしているかって？";
			mes "勘違いしてはいけません。";
			mes "外はバンタイが見張ってくれてるので";
			mes "私は部屋の警備をしているのです。";
			close;
		}
		mes "[警備隊員ドン]";
		mes "バンタイに与える骨が";
		mes "足りなくなってしまいました。";
		mes "お願いします。私のかわりにどうか";
		mes "用意して来てくれませんか？";
		next;
		if (select("手伝う","手伝わない")==2) {
			mes "[警備隊員ドン]";
			mes "そ、そんな……。";
			close;
		}
		mes "[警備隊員ドン]";
		mes "・りがとうございます。";
		mes "^FF0000悪霊の骨^000000は、北西の家にいる";
		mes "ティクバラン専門家が持っています。";
		mes "頼めば分けてくれるでしょう。";
		next;
		mes "[警備隊員ドン]";
		mes "それをムンバキ・キコの所に";
		mes "持って行くと";
		mes "バンタイが食べられるよう";
		mes "浄化の儀式をほどこしてくれます。";
		next;
		mes "[警備隊員ドン]";
		mes "それでは浄化の終わった";
		mes "^FF0000浄化した霊魂の骨^000000を10個";
		mes "持って来てください。";
		mes "そういえば浄化儀式には";
		mes "^FF0000聖水^000000も同じ数だけ使われるようです。";
		next;
		mes "[警備隊員ドン]";
		mes "では、お待ちしております。";
		delquest 7408;
		setquest 7406;
		close;
	}
	if (checkquest(7406) || checkquest(106176)) {
		mes "[警備隊員ドン]";
		mes "悪霊の骨は、北西の家にいる";
		mes "ティクバラン専門家が持っています。";
		mes "よろしくお願いします。";
		close;
	}
	mes "[警備隊員ドン]";
	mes "こんにちは。";
	mes "私はバリオ・マヒワガの警備をしている";
	mes "ドンといいます。";
	next;
	mes "[警備隊員ドン]";
	mes "実は、警備を一緒にしている";
	mes "バンタイという犬の";
	mes "餌をちょうど探していたのです。";
	mes "村の入り口に立っていたと思います。";
	mes "非常に優秀な警備犬です。";
	next;
	mes "[警備隊員ドン]";
	mes "バンタイですが、実は";
	mes "この村の生まれではないんです。";
	mes "以前、村の住人が旅に行った際に";
	mes "帰りの船で倒れている犬を";
	mes "拾って来たんです。";
	next;
	mes "[警備隊員ドン]";
	mes "はじめて会った時のバンタイは";
	mes "すごく餓えていました。";
	mes "かわいそうに、長い間";
	mes "何も食べていなかったのでしょう。";
	mes "いきなり腕を食べようとしてきました。";
	next;
	mes "[警備隊員ドン]";
	mes "首輪もつけていたんです。";
	mes "研……実験…物……第4…？";
	mes "まぁ、よくわからなかったので、";
	mes "すぐはずしました。";
	next;
	mes "[警備隊員ドン]";
	mes "それで、私は動物が大好きなので";
	mes "その犬を引き取る事にしました。";
	mes "名前もすぐ決めましたよ。";
	mes "‐バンタイ‐";
	mes "どうです。いい名前でしょう。";
	next;
	mes "[警備隊員ドン]";
	mes "始めは色々と苦労しました。";
	mes "ここに来る以前に人を襲う訓練でも";
	mes "受けていたのでしょうか……。";
	mes "近寄ると直ぐに";
	mes "噛みついてくるんですよ。";
	next;
	mes "[警備隊員ドン]";
	mes "ただ、私は諦めませんでした。";
	mes "むしろバンタイのこの性格は";
	mes "逆にチャンスだと思ったんです。";
	next;
	mes "[警備隊員ドン]";
	mes "警備に活かせるんじゃないか、とね。";
	mes "成功すれば私は楽を出来ます。";
	mes "私が楽を出来る可能性が・る、";
	mes "ということが、";
	mes "何よりも私の原動力となりました。";
	next;
	mes "[警備隊員ドン]";
	mes "そこでティクバラン専門家で・り";
	mes "動物の行動に詳しい先生に";
	mes "相談しに行ったんです。";
	mes "そこで提案されたのが";
	mes "^FF0000浄化した霊魂の骨^000000というのを";
	mes "バンタイに食べさせることです。";
	next;
	mes "[警備隊員ドン]";
	mes "なんでもこれを食べると";
	mes "悪霊の気を探知し、聖なる力で";
	mes "悪霊を退治できるようになるそうです。";
	next;
	mes "[警備隊員ドン]";
	mes "狙いは見事にうまくいきました。";
	mes "浄化した霊魂の骨を食べたバンタイは";
	mes "人間を襲うことなく、";
	mes "素早く悪霊を探知し、物凄い強さで";
	mes "追い払ってくれるようになったのです。";
	next;
	mes "[警備隊員ドン]";
	mes "ただ、毎日骨は必要なので、";
	mes "いくら用意しても";
	mes "すぐに足りなくなってしまいます。";
	next;
	mes "[警備隊員ドン]";
	mes "今日もさきほどちょうど";
	mes "バンタイに与える骨が";
	mes "足りなくなってしまいました。";
	mes "お願いします。私のかわりにどうか";
	mes "用意して来てくれませんか？";
	next;
	if (select("手伝う","手伝わない")==2) {
		mes "[警備隊員ドン]";
		mes "そ、そんな……。";
		close;
	}
	mes "[警備隊員ドン]";
	mes "・りがとうございます。";
	mes "^FF0000悪霊の骨^000000は、北西の家にいる";
	mes "ティクバラン専門家が持っています。";
	mes "頼めば分けてくれるでしょう。";
	next;
	mes "[警備隊員ドン]";
	mes "それをムンバキ・キコの所に";
	mes "持って行くと";
	mes "バンタイが食べられるよう";
	mes "浄化の儀式をほどこしてくれます。";
	next;
	mes "[警備隊員ドン]";
	mes "それでは浄化の終わった";
	mes "^FF0000浄化した霊魂の骨^000000を10個";
	mes "持って来てください。";
	mes "そういえば浄化儀式には";
	mes "^FF0000聖水^000000も同じ数だけ使われるようです。";
	next;
	mes "[警備隊員ドン]";
	mes "では、お待ちしております。";
	delquest 72090;
	setquest 7406;
	close;
OnInit:
	waitingroom "警備犬バンタイ",0;
	end;
}

ma_fild01,238,257,2	script	警備犬バンタイ	972,{
	mes "[バンタイ]";
	mes "ガルゥルルゥ……。";
	mes "　";
	mes "‐・なたを警戒している‐";
	close;
}

//============================================================
// マリスの子供探しクエストNPC
//------------------------------------------------------------
ma_in01_jp,42,155,7	script	マリス	579,{
	if (MALAYA_1QUE < 6) {
		mes "‐心配そうな顔で婦人が立っている‐";
		close;
	}
	if (BaseLevel < 100) {
		mes "[マリス]";
		mes "・……・の……。";
		mes "いえ、なんでも・りません。";
		mes "・なたは強そうに見えないですね。";
		mes "ごめんなさい。余裕がなくて……。";
		next;
		mes "‐何か手伝って欲しそうだが";
		mes "　今の自分では力不足のようだ。";
		mes "　^FF0000BaseLv100以上^000000になってから";
		mes "　・らためて、話かけてみよう‐";
		close;
	}
	if (checkquest(7388)) {
		mes "[マリス]";
		mes "きっと悪霊に惑わされて";
		mes "この森を彷徨っていると思います。";
		mes "お願いします。";
		mes "子供を見つけたら";
		mes "^4d4dff・返しのシャツ^000000を";
		mes "渡して・げて下さい。";
		next;
		mes "[マリス]";
		mes "・返しのシャツは";
		mes "モンスターを退治すれば";
		mes "手に入れることができます。";
		mes "昔はたくさん持っていたんですけど、";
		mes "全部奪われてしまったのです……。";
		next;
		mes "[マリス]";
		mes "娘たちはよく迷う場所のことを";
		mes "知っているみたいなんですけど、";
		mes "そこに行っても見つからないんです。";
		next;
		mes "[マリス]";
		mes "一か所にじっとして";
		mes "いられない子たちなので";
		mes "すれ違ってしまっているのかも";
		mes "しれません。";
		next;
		mes "[マリス]";
		mes "娘たちの話を聞いて";
		mes "もう一人の娘が";
		mes "迷っていそうな場所を";
		mes "探してきてもらえませんか？";
		close;
	}
	if (checkquest(7389)) {
		mes "[マリス]";
		mes "戻って来ましたね。";
		mes "子供はおかげ様で";
		mes "無事に家に帰ってきました。";
		next;
		mes "[マリス]";
		mes "・返しのシャツは、";
		mes "自身が戻るべき場所に導いてくれます。";
		mes "うちの子供たちに貴重な物を";
		mes "・りがとうございました。";
		mes "これは心ばかりのお礼です。";
		setquest 7390;
		delquest 7389;
		getitem 6497,1;
		getexp 500000,0,1;
		getexp 0,200000,0;
		close;
	}
	if (checkquest(7390)) {
		if (!(checkquest(7390) & 0x2)) {
			mes "[マリス]";
			mes "・返しのシャツさえ・れば";
			mes "家に帰れると分かった子供たちが";
			mes "怖いもの知らずになってしまって、";
			mes "森で遅くまで遊んでいるのです……。";
			next;
			mes "[マリス]";
			mes "だけど、ここで遊ぶといったら";
			mes "森に入るくらいしかないですし、";
			mes "いくら言っても聞かないでしょう。";
			mes "もし、森でまた迷子になるようなら";
			mes "その時はまた・なたに";
			mes "お願いするかもしれません。";
			close;
		}
	}
	mes "[マリス]";
	mes "うちの娘が見当たらないんです。";
	mes "森へ遊びに行ったまま、";
	mes "ポートマラヤの自宅にも";
	mes "戻ってないみたいなんです。";
	next;
	mes "[マリス]";
	mes "ムンバキ・キコに捜索を頼んだのですが";
	mes "人手が不足しているせいで、";
	mes "なかなか捜索が進まなくて……";
	mes "　";
	mes "お願いします、どうか娘を";
	mes "探してきていただけないでしょうか。";
	next;
	switch(select("わかりました","今は忙しいです","・れ、娘ならそこに")) {
	case 1:
		mes "[マリス]";
		mes "おそらく娘は悪霊に惑わされて";
		mes "森を彷徨っているはずです。";
		next;
		mes "[マリス]";
		mes "もし呪いにかかっているとしたら";
		mes "そのまま連れて来ることは";
		mes "できないと思います。";
		next;
		mes "[マリス]";
		mes "なので、ちょっと面倒かもしれませんが、";
		mes "^4d4dff・返しのシャツ^000000を";
		mes "手に入れて娘に渡して下さい。";
		mes "そのシャツを持っていると";
		mes "不思議な力が宿り戻るべき場所を";
		mes "導いてくれるのです。";
		next;
		mes "[マリス]";
		mes "・返しのシャツは";
		mes "森に潜むモンスターを退治すれば";
		mes "手に入れることができます。";
		mes "昔はたくさん持っていたんですけど、";
		mes "全部奪われてしまったのです……。";
		next;
		mes "[マリス]";
		mes "どうか娘を探し出してください。";
		mes "お願いします。";
		next;
		mes "[マリス]";
		mes "娘たちはよく迷う場所のことを";
		mes "知っているみたいなんですけど、";
		mes "そこに行っても見つからないんです。";
		next;
		mes "[マリス]";
		mes "一か所にじっとして";
		mes "いられない子たちなので";
		mes "すれ違ってしまっているのかも";
		mes "しれません。";
		next;
		mes "[マリス]";
		mes "娘たちの話を聞いて";
		mes "もう一人の娘が";
		mes "迷っていそうな場所を";
		mes "探してきてもらえませんか？";
		if (checkquest(72092)) {
			delquest 72092;
			setquest 7388;
		} else {
			delquest 7390;
			setquest 7388;
		}
		close;
	case 2:
		mes "[マリス]";
		mes "そうですか……。";
		mes "他の方にお願いしてみます。";
		mes "・・、かわいい娘が……。";
		close;
	case 3:
		mes "[マリス]";
		mes "実は三つ子の娘がいるんです。";
		mes "私でもたまに間違えちゃうくらいで。";
		mes "うふふ……。";
		next;
		mes "[マリス]";
		mes "ただ、なぜかわからないんですけど";
		mes "森に遊びに行くと必ず誰かが";
		mes "道に迷って帰って来れないんです。";
		mes "本当に困った事です……。";
		close;
	}
OnInit:
	waitingroom "マリスの子供探し",0;
	end;
}

ma_in01_jp,38,158,7	script	女の子	576,{
	mes "[女の子]";
	mes "・のね、・のね。森は怖いけど";
	mes "おもしろい物がたっくさん・るの!!";
	mes "だからよく遊びに行くんだけど、";
	mes "なぜか道に迷っちゃうんです……。";
	next;
	mes "[女の子]";
	mes "でも、私だけ道に迷うわけでは";
	mes "ないから大丈夫～。";
	mes "必ず誰かが迷子になるのよ。";
	next;
	mes "[女の子]";
	mes "村の北西の方に行くと";
	mes "道がぐるっと一周できるの。";
	mes "ずっと歩いていると、";
	mes "どっちから来たのか";
	mes "わからなくなっちゃうの。";
	close;
}

ma_in01_jp,39,158,7	script	女の子	576,{
	mes "[女の子]";
	mes "いっつも遊びにいってるのに";
	mes "なんで迷子になっちゃうんだろ～。";
	next;
	mes "[女の子]";
	mes "村の南の橋を渡ると";
	mes "分かれ道が・るの。";
	mes "その近くで迷って";
	mes "助けてもらったことも・るよ。";
	next;
	mes "[女の子]";
	mes "もうひとつ橋を渡ったことも・るの。";
	mes "そっちには変な壁みたいなのが";
	mes "・ったよ。";
	close;
}

ma_fild01,251,93,3	script	道に迷った子供#mal01	576,{
	if (checkquest(7388)) {
		if (countitem(12700) < 1) {
			mes "[ちびっ子]";
			mes "もしかして・なたも迷子？";
			mes "ほんと・いつらのイタズラは";
			mes "嫌になっちゃう！";
			next;
			mes "[ちびっ子]";
			mes "こんな時に・返しのシャツが・れば";
			mes "すぐにポートマラヤまで帰れるのに～。";
			close;
		}
		mes "[ちびっ子]";
		mes "もー！　また・いつらだ！";
		mes "また私が道に迷うように";
		mes "イタズラされた！";
		next;
		menu "どうしたのか聞く",-;
		mes "[ちびっ子]";
		mes "家に帰りたいのに、何かに邪魔されて";
		mes "うまく戻る事が出来ないの……。";
		mes "早く戻らないと";
		mes "お母さんが心配しちゃう……。";
		mes "こんな時に・返しのシャツさえ・れば";
		mes "すぐポートマラヤに帰れるのに～。";
		next;
		menu "・返しのシャツを渡す",-;
		mes "[ちびっ子]";
		mes "ほんと？";
		mes "わぁ！・りがとう～！";
		mes "これが・れば家に帰れる！";
		next;
		mes "[ちびっ子]";
		mes "ひょっとして";
		mes "お母さんに頼まれたの？";
		mes "心配していたのかな……。";
		mes "早く帰ってお母さんに謝らなきゃ！";
		mes "本当に・りがとう！";
		delitem 12700,1;
		setquest 7389;
		delquest 7388;
		if (strnpcinfo(5)=="mal01") {
			if (rand(2)==0)
				hideoffnpc "道に迷った子供#mal02";
			else
				hideoffnpc "道に迷った子供#mal03";
		} else if (strnpcinfo(5)=="mal02") {
			if (rand(2)==0)
				hideoffnpc "道に迷った子供#mal01";
			else
				hideoffnpc "道に迷った子供#mal03";
		} else {
			if (rand(2)==0)
				hideoffnpc "道に迷った子供#mal01";
			else
				hideoffnpc "道に迷った子供#mal02";
		}
		hideonnpc strnpcinfo(0);
		close;
	}
	if (checkquest(7389)) {
		mes "[ちびっ子]";
		mes "シャツ、・りがとうございました！";
		mes "もう少ししたら帰るー。";
		close;
	}
	mes "[ちびっ子]";
	mes "おかしいなぁ。また道に迷ったかな？";
	mes "ここは何処だろう……。";
	mes "確か三番目の木でグルグル回って、";
	mes "太陽が出てる方向にまっすぐ行くと";
	mes "家につくはずなのに……。";
	next;
	mes "[ちびっ子]";
	mes "どうしていつも～";
	mes "ここから抜け出せなくなるんだろ。";
	mes (Sex? "お兄": "お姉")+ "さんは知っていますか？";
	next;
	mes "[ちびっ子]";
	mes "なにか悪い人達がいて";
	mes "私の邪魔をしているのかな？";
	close;
OnInit:
	if (strnpcinfo(0) == "道に迷った子供#mal01") {
		hideonnpc "道に迷った子供#mal01";
		hideonnpc "道に迷った子供#mal02";
		hideonnpc "道に迷った子供#mal03";
		hideoffnpc "道に迷った子供#mal0" +rand(1,3);
	}
	end;
}
ma_fild01,114,141,3	duplicate(道に迷った子供#mal01)	道に迷った子供#mal02	576
ma_fild01,130,314,3	duplicate(道に迷った子供#mal01)	道に迷った子供#mal03	576

//============================================================
// 旅人の友達カプレクエストNPC
//------------------------------------------------------------
ma_fild02,241,39,5	script	カプレ・ブディディ	572,{
	if (checkquest(7409)) {
		if (!(checkquest(7409) & 0x4)) {
			mes "[ブディディ]";
			mes "暴れん坊のブギスギスに";
			mes "お仕置きして！";
			mes "ブディディがまた友達のために";
			mes "歌えるように。ふわっふ～";
			close;
		}
		mes "[ブディディ]";
		mes "驚いた、旅人！";
		mes "ブギスギスの凄絶な泣き声が";
		mes "ここまで聞こえた！";
		mes "ブディディはまた友達の為に";
		mes "歌ってもいいのか!?";
		next;
		mes "[ブディディ]";
		mes "ブディディ何かお礼考える。";
		mes "そうだ！　このお守りを・げるよ。";
		mes "旅人が持っていたらいいと思う。";
		next;
		mes "[ブディディ]";
		mes "優しいカプレ、旅人達の友達。";
		mes "また会うことができればいいと思う。";
		mes "これは友達のための祝福。";
		mes "ふわ・・・～！　ふわっふ～！";
		setquest 7410;
		delquest 7409;
		getitem 6497, 1;
		getexp 500000,0,1;
		getexp 0,200000,0;
		close;
	}
	mes "[ブディディ]";
	mes "ふっふわふ～。";
	mes "ブディディは優しいカプレ～YO！";
	mes "男性にも優しいカプレ～YO!!";
	mes "女性にも優しいカプレ～YO!!!";
	mes "みんなに優しいカプレ～YO!!!!";
	next;
	mes "[ブディディ]";
	mes "そこの君も";
	mes "ブディディの歌聞きに来た？";
	mes "それともブディディの相談に";
	mes "のってくれるの？";
	next;
	switch(select("君は誰？","相談したいこと？","特に用は無い")) {
	case 1:
		mes "[ブディディ]";
		mes "ブディディは歌好きなカプレ。";
		mes "カプレは森に住む巨人達のこという。";
		mes "たまに森で遊ぶ子供たちを";
		mes "からかって悪さするカプレもいるけど、";
		mes "ブディディはここで歌うだけ。";
		next;
		mes "[ブディディ]";
		mes "カプレはみんな人間大好き！";
		mes "みんな^FF0000見た人間の話、する。";
		mes "その人間の噂、みんなに広まる。^000000";
		next;
		mes "[ブディディ]";
		mes "この前、魔物倒した人間の話、した。";
		mes "その話、街中に広まった。";
		mes "人間、街中で人気になった。";
		mes "人間、嬉しい。カプレ、嬉しい。";
		next;
		mes "[ブディディ]";
		mes "カプレは人間と友達なりたい。";
		mes "でもカプレ、恥ずかしがり屋多い。";
		mes "人間に見られるとすぐに隠れる。";
		next;
		mes "[ブディディ]";
		mes "ブディディは恥ずかしくない。";
		mes "友達のために歌、歌う。";
		next;
		mes "[ブディディ]";
		mes "牛、馬、羊、鶏、豚、";
		mes "みんな私の歌喜んでくれる。";
		mes "みんな友達。";
		next;
		mes "[ブディディ]";
		mes "でも、片目のブギスギスだけ違う。";
		mes "・いつ私の友達イジメる。";
		mes "本当に憎たらしい。";
		mes "でも、ブディディ弱い。";
		next;
		mes "[ブディディ]";
		mes "片目も怖いけど、";
		mes "・いつが持っている棍棒とても怖い。";
		mes "私、友達に歌を聞かせたいのに、";
		mes "・いつのせいでみんな森、来れない。";
		next;
		mes "[ブディディ]";
		mes "だからブディディここで歌う。";
		mes "旅人いっぱいここ通る。";
		mes "ブディディは旅人達の友達。";
		mes "・なたもブディディの友達だ。";
		close;
	case 2:
		if (BaseLevel < 100) {
			mes "[ブディディ]";
			mes "ブギスギスに興味・るのか？";
			mes "・れは森の暴れん坊だ！";
			mes "ブディディの友達をイジメる！";
			next;
			mes "[ブディディ]";
			mes "残念だけどブディディは";
			mes "歌う事以外は何もできない。";
			mes "棍棒持った・いつを";
			mes "ブディディどうにもできない。";
			mes "ブディディ弱い。";
			next;
			mes "[ブディディ]";
			mes "旅人の君も同じ。やられる。";
			mes "悔しい。悲しい。だから歌う。";
			mes "ふっなふ～　ななっふ～";
			next;
			mes "‐ブギスギスの退治を";
			mes "　手伝って・げたいが、";
			mes "　レベルが足りないようだ。";
			mes "　^FF0000BaseLv100以上^000000になってから";
			mes "　・らためて、話かけてみよう‐";
			close;
		}
		if (checkquest(7410)) {
			if (!(checkquest(7410) & 0x2)) {
				mes "[ブディディ]";
				mes "旅人、ブディディの友達！";
				mes "ブギスギスが";
				mes "遠くまで逃げたようだ。";
				mes "犬、牛、馬、羊、鶏の友達も";
				mes "きっと帰ってくる！";
				next;
				mes "[ブディディ]";
				mes "だけどブディディ不安。";
				mes "片目の怪物はきっと帰って来る。";
				mes "その時も助けてくれる？";
				next;
				mes "[ブディディ]";
				mes "旅人～ブディディの友達～";
				mes "ふっふわふ～";
				mes "本当に、・りがとう～";
				close;
			}
			mes "[ブディディ]";
			mes "親切な旅人。";
			mes "ブギスギスまた来た。";
			mes "どうしたらいい？　どしよう？";
			next;
			mes "[ブディディ]";
			mes "ブディディ歌うと、・いつは怒り出す。";
			mes "だけど、他のみんなは喜ぶ。";
			mes "なのでブディディ大変。困った。";
			next;
			if (select("ブギスギスを退治する","恐ろしい話ですね")==2) {
				mes "[ブディディ]";
				mes "そうだよ。本当だよ。";
				mes "ブギスギスのせいで";
				mes "ブディディの友達が歌、聞けない。";
				mes "本当に何とかしたい。";
				close;
			}
			mes "[ブディディ]";
			mes "ブギスギスに";
			mes "お仕置きしてくれるのか？！";
			mes "・いつらは森の中いる。";
			mes "10匹も倒せば、きっとびっくりするよ。";
			mes "・りがとう旅人！　お願いよ！";
			delquest 7410;
			setquest 7409;
			close;
		}
		mes "[ブディディ]";
		mes "憎たらしいブギスギス！";
		mes "・れは森の暴れん坊！";
		mes "ブディディの友達イジメる！";
		next;
		mes "[ブディディ]";
		mes "残念だけどブディディは";
		mes "歌う事以外は何もできない。";
		mes "棍棒を持った・いつを";
		mes "ブディディどうにもできない。";
		mes "ブディディ弱い。";
		next;
		mes "[ブディディ]";
		mes "ブギスギス！　憎たらしいやつ！";
		next;
		if (select("ブギスギスを退治する","恐ろしい話ですね")==2) {
			mes "[ブディディ]";
			mes "そうだよ。本当だよ。";
			mes "ブギスギスのせいで";
			mes "ブディディの友達が歌、聞けない。";
			mes "本当に何とかしたい。";
			close;
		}
		mes "[ブディディ]";
		mes "ブギスギスに";
		mes "お仕置きしてくれるのか？！";
		mes "・いつらは森の中いる。";
		mes "10匹も倒せば、きっとびっくりするよ。";
		mes "・りがとう旅人！　お願いよ！";
		delquest 72094;
		setquest 7409;
		close;
	case 3:
		mes "[ブディディ]";
		mes "旅立つ冒険者よ～";
		mes "ブディディが歌う～";
		mes "気を付けてね～";
		mes "また来てね～";
		mes "さよなら～";
		next;
		mes "[ブディディ]";
		mes "ふっふわふ～";
		mes "優しく善良なカプレの祝福～";
		mes "カプレからのプレゼント～";
		mes "ふわっふ～";
		close;
	}
OnInit:
	waitingroom "旅人の友達カプレ",0;
	end;
}

//============================================================
// バコナワの伝説クエストNPC
//------------------------------------------------------------
malaya,272,339,5	script	老いた占い師	575,{
	if (MALAYA_1QUE < 6) {
		mes "‐・なたを警戒している‐";
		close;
	}
	mes "[老いた占い師]";
	mes "バコナワを憎んではいけません。";
	mes "・れに対する憎しみがバコナワの";
	mes "怒りをさらに増幅させているんです。";
	next;
	mes "[老いた占い師]";
	mes "死んだ老婆の恨みを慰めるために";
	mes "毎年この時期になると料理を捧げたり、";
	mes "行事を行っているが、";
	mes "どんどん大きくなっているその怒りを";
	mes "どうしても慰める方法が・りません。";
	next;
	mes "[老いた占い師]";
	mes "このままでは危険です。";
	mes "私にはわかります。";
	mes "もうすぐバコナワは月を飲み込んで";
	mes "町を罰しにくるはずです。";
	close;
}

ma_fild02,40,240,4	script	ポートマラヤ移住民	578,{
	mes "[ポートマラヤ移住民]";
	mes "このような辺鄙な場所まで来るとは";
	mes "すごい方ですね？";
	mes "最近のポートマラヤはどうですか？";
	mes "湖に住んでいる怪物バコナワが";
	mes "町を脅かしているそうで、";
	mes "行けなくて困っています。";
	close;
}

ma_fild01,165,237,4	script	ポートマラヤ移住民	582,{
	mes "[ポートマラヤ移住民]";
	mes "もしかしてポートマラヤから";
	mes "来たのですか？";
	mes "ポートマラヤのことが";
	mes "気になるのですが、モンスターが";
	mes "・ちこちにいるのでなかなか";
	mes "行くことができません。";
	close;
}

ma_fild01,172,233,1	script	岩	844,{
	mes "‐文字らしきものが刻まれた岩が・る。";
	mes "　しかし、大事な部分が欠けていて";
	mes "　読み取ることができない‐";
	close;
}

//============================================================
// 消えた住民とバコナワクエストNPC
//------------------------------------------------------------
ma_fild01,69,180,0	script	茂み#01	844,{
	end;
}

ma_fild01,44,69,0	script	茂み#02	844,{
	end;
}

ma_fild01,173,94,0	script	茂み#03	844,{
	end;
}

ma_fild01,294,94,0	script	茂み#04	844,{
	end;
}

ma_fild01,54,253,4	script	無口な作業員	582,{
	mes "[無口な作業員]";
	mes "町長様から、頼みたいことが・るから";
	mes "ここで待っていてくれと言われた。";
	close;
}
ma_fild01,54,244,0	script	#bako2	139,{
}

ma_fild01,236,119,5	script	不満そうな作業員	577,{
	mes "[不満そうな作業員]";
	mes "町長様から、頼みたいことが・るから";
	mes "ここで待っていてくれと言われたんだ。";
	mes "しかし暇だなぁ……";
	close;
}
ma_fild01,242,116,0	script	#bako3	139,{
}

ma_scene01,177,89,4	script	腰抜け作業員	578,{
	mes "[腰抜け作業員]";
	mes "町長様にここで待っていてくれと";
	mes "指示されました。";
	mes "こんな怖いところに……";
	mes "早く帰りたい……。";
	close;
}
ma_scene01,179,85,0	script	#bako4	139,{
}

ma_scene01,141,118,4	script	憂鬱な作業員	582,{
	mes "[憂鬱な作業員]";
	mes "町長様がいろと言ったから";
	mes "ここにいるけど……。";
	mes "何かやらせたいことでも";
	mes "・るのかな。";
	mes "ふう……";
	close;
}
ma_scene01,138,122,0	script	#bako5	139,{
}

ma_scene01,175,170,5	script	感激している作業員	578,{
	mes "[感激している作業員]";
	mes "なんと町長様から直々に、ここで";
	mes "待つようにと指示をいただきました！";
	mes "何かビックリするようなイベントでも";
	mes "・るんですかね？";
	mes "何だろ～！";
	close;
}
ma_scene01,171,174,0	script	#bako6	139,{
}

//============================================================
// 新任看護師と病院クエストNPC
//- Registry -------------------------------------------------
// MALAYA_3QUE -> 0～28
//------------------------------------------------------------
ma_dun01,35,108,4	script	看護師	569,{
	switch(MALAYA_3QUE) {
	case 19:
		mes "‐病院内を、たくさんの";
		mes "　モンスターが徘徊している。";
		mes "　看護師ラズは、この中を";
		mes "　見てきたというのだろうか？‐";
		next;
		mes "[看護師ラズ]";
		mes "さっき見てきたところ、";
		mes "階段が封鎖されていました。";
		mes "2階に行きたいのですけれど、";
		mes "階段を見てきてもらえますか？";
		delquest 11300;
		setquest 11301;
		set MALAYA_3QUE,20;
		cutin "malaya_nurseA01.bmp",2;
		next;
		if (select("いったん外に出る","病院の奥に向かう")==2) {
			mes "[看護師ラズ]";
			mes "お願いします。";
			mes "2階への階段は、この建物の";
			mes "南東に・ります。";
			next;
			mes "‐南東に・る2階への階段付近を";
			mes "　調べよう‐";
			cutin "malaya_nurseA01.bmp",255;
			close;
		}
		mes "[看護師ラズ]";
		mes "外に出るんですか？";
		mes "わかりました。";
		close2;
		cutin "malaya_nurseA01.bmp",255;
		warp "malaya",58,76;
		end;
	case 20:
		mes "[看護師ラズ]";
		mes "2階に行きたいのですけれど、";
		mes "階段を見てきてもらえますか？";
		cutin "malaya_nurseA01.bmp",2;
		next;
		if (select("いったん外に出る","病院の奥に向かう")==2) {
			mes "[看護師ラズ]";
			mes "お願いします。";
			next;
			mes "‐南東に・る2階への階段付近を";
			mes "　調べよう‐";
			cutin "malaya_nurseA01.bmp",255;
			close;
		}
		mes "[看護師ラズ]";
		mes "外に出るんですか？";
		mes "わかりました。";
		close2;
		cutin "malaya_nurseA01.bmp",255;
		warp "malaya",58,76;
		end;
	case 21:
		mes "[看護師ラズ]";
		mes "お守りですか？";
		mes "他にも何かないか、";
		mes "もう少し階段の・たりを";
		mes "探してみてくれませんか。";
		cutin "malaya_nurseA01.bmp",2;
		next;
		if (select("いったん外に出る","病院の奥に向かう")==2) {
			//未調査
			mes "[看護師ラズ]";
			mes "お願いします。";
			next;
			mes "‐南東に・る2階への階段付近を";
			mes "　調べよう‐";
			cutin "malaya_nurseA01.bmp",255;
			close;
		}
		mes "[看護師ラズ]";
		mes "外に出るんですか？";
		mes "わかりました。";
		close2;
		cutin "malaya_nurseA01.bmp",255;
		warp "malaya",58,76;
		end;
	case 22:
		mes "[看護師ラズ]";
		mes "お守りと看護師？";
		cutin "malaya_nurseA01.bmp",2;
		next;
		mes "[看護師ラズ]";
		mes "お守りは、私も見つけましたけど";
		mes "気味が悪かったので、";
		mes "近づきませんでした。";
		next;
		mes "[看護師ラズ]";
		mes "・！";
		mes "病院の周りにお守りを置いていた";
		mes "お婆さんなら、";
		mes "何か知っているかも！";
		mes "聞きに行ってもらえますか？";
		delquest 11303;
		setquest 11304;
		set MALAYA_3QUE,23;
		next;
		if (select("お婆さんに話を聞きに行く","病院から出ない")==2) {
			mes "[看護師ラズ]";
			mes "まだ病院に何かご用です・ｩ？";
			close2;
			cutin "malaya_nurseA01.bmp",255;
			end;
		}
		mes "[看護師ラズ]";
		mes "お婆さんから話を聞いて";
		mes "来てくださいね。";
		next;
		mes "‐ポートマラヤの西の民家にいる";
		mes "　老婆に話を聞いてみよう‐";
		cutin "malaya_nurseA01.bmp",255;
		close2;
		warp "malaya",58,76;
		end;
	case 23:
		mes "[看護師ラズ]";
		mes "病院の周りにお守りを置いていた";
		mes "お婆さんなら、";
		mes "何か知っているかも！";
		mes "聞きに行ってもらえますか？";
		cutin "malaya_nurseA01.bmp",2;
		next;
		if (select("お婆さんに話を聞きに行く","病院から出ない")==2) {
			mes "[看護師ラズ]";
			mes "まだ病院に何かご用ですか？";
			close2;
			cutin "malaya_nurseA01.bmp",255;
			end;
		}
		mes "[看護師ラズ]";
		mes "お婆さんから話を聞いて";
		mes "来てくださいね。";
		next;
		mes "‐ポートマラヤの西の民家にいる";
		mes "　老婆に話を聞いてみよう‐";
		cutin "malaya_nurseA01.bmp",255;
		close2;
		warp "malaya",58,76;
		end;
	case 24:
		mes "[看護師ラズ]";
		mes "シャーマンですか……";
		mes "そのシャーマンにも話を聞いた方が";
		mes "良さそうですね。";
		cutin "malaya_nurseA01.bmp",2;
		next;
		if (select("シャーマンに話を聞きに行く","病院から出ない")==2) {
			mes "[看護師ラズ]";
			mes "まだ病院に何かご用ですか？";
			close2;
			cutin "malaya_nurseA01.bmp",255;
			end;
		}
		mes "[看護師ラズ]";
		mes "シャーマンから話を聞いて";
		mes "来てくださいね。";
		close2;
		cutin "malaya_nurseA01.bmp",255;
		warp "malaya",58,76;
		end;
	case 25:
		mes "[看護師ラズ]";
		mes "・れ！";
		mes "すごい気配を感じますけど、";
		mes "何が・ったんですか？";
		cutin "malaya_nurseA01.bmp",2;
		next;
		menu "シャーマンの札を貰った",-;
		mes "[看護師ラズ]";
		mes "シャーマンの札ですか……";
		mes "そうだ！";
		mes "そのシャーマンの札を";
		mes "階段近くに・ったお守りに";
		mes "貼ってみましょうよ。";
		next;
		mes "[看護師ラズ]";
		mes "もしかしたら、不吉な気配を";
		mes "防いでくれるかもしれませんよ！";
		delquest 11306;
		setquest 11307;
		set MALAYA_3QUE,26;
		next;
		if (select("いったん外に出る","病院の奥に向かう")==2) {
			mes "[看護師ラズ]";
			mes "お願いします。";
			close2;
			cutin "malaya_nurseA01.bmp",255;
			end;
		}
		mes "[看護師ラズ]";
		mes "外に出るんですか？";
		mes "わかりました。";
		close2;
		cutin "malaya_nurseA01.bmp",255;
		warp "malaya",58,76;
		end;
	case 26:
		mes "[看護師ラズ]";
		mes "そのシャーマンの札を";
		mes "階段近くに・ったお守りに";
		mes "貼ってみましょうよ。";
		cutin "malaya_nurseA01.bmp",2;
		next;
		mes "[看護師ラズ]";
		mes "もしかしたら、不吉な気配を";
		mes "防いでくれるかもしれませんよ！";
		next;
		if (select("いったん外に出る","病院の奥に向かう")==2) {
			mes "[看護師ラズ]";
			mes "お願いします。";
			close2;
			cutin "malaya_nurseA01.bmp",255;
			end;
		}
		mes "[看護師ラズ]";
		mes "外に出るんですか？";
		mes "わかりました。";
		close2;
		cutin "malaya_nurseA01.bmp",255;
		warp "malaya",58,76;
		end;
	case 27:
		mes "[看護師マエン]";
		mes "いったん病院の外に出ましょう。";
		mes "さ・、早く！";
		cutin "malaya_nurseB.bmp",2;
		close2;
		cutin "malaya_nurseB.bmp",255;
		warp "malaya",58,76;
		end;
	case 28:
		mes "[看護師マエン]";
		mes "病院を浄化する";
		mes "つもりだったけど……";
		mes "彼女が戻ってしまった以上、";
		mes "簡単にはいかないでしょうね。";
		cutin "malaya_nurseB.bmp",2;
		next;
		mes "[看護師マエン]";
		mes "・なたにも";
		mes "彼女を案内してしまった";
		mes "責任を取ってもらうわよ。";
		mes "もちろん、協力してくれるよね？";
		next;
		mes "[看護師マエン]";
		mes "ビョンウンゴは悪夢の力で";
		mes "隠れているわ。";
		mes "ただ2階に行くだけでは、";
		mes "倒すどころか戦うことすら";
		mes "できないはずよ。";
		next;
		mes "[看護師マエン]";
		mes "私がビョンウンゴをおびき寄せるから";
		mes "階段のところで話しかけてちょうだい。";
		mes "彼女の始末は任せるわよ。";
		next;
		if (select("いったん外に出る","病院の奥に向かう")==2) {
			mes "[看護師マエン]";
			mes "準備ができたら、";
			mes "階段のところにいらっしゃい。";
			close2;
			cutin "malaya_nurseB.bmp",255;
			end;
		}
		mes "[看護師マエン]";
		mes "外に出るのね？";
		mes "わかったわ。";
		close2;
		cutin "malaya_nurseB.bmp",255;
		warp "malaya",58,76;
		end;
	}
}

ma_dun01,152,23,4	script	怪しい木の棒	858,{
	switch(MALAYA_3QUE) {
	case 19:
		mes "‐なぜかこんなところに";
		mes "　木の棒が・る‐";
		close;
	case 20:
		mes "‐病院の外に・ったお守りと";
		mes "　似た模様の入った木の棒だ‐";
		next;
		if (select("棒を引き抜く","そのままにしておく")==2) {
			mes "‐・なたは木の棒には手を触れず";
			mes "　その場を後にした‐";
			close;
		}
		mes "‐……抜けない。";
		mes "　力を込めてみても、";
		mes "　まったく動かない。";
		mes "　・なたは、棒から手を放した‐";
		next;
		mes "‐これも何かのお守りだろうか？";
		mes "　もう少し周囲を調べてみよう‐";
		delquest 11301;
		setquest 11302;
		set MALAYA_3QUE,21;
		close;
	case 21:
		mes "‐病院の外に・ったお守りと";
		mes "　似た模様の入った木の棒だ。";
		mes "　これも何かのお守りだろうか？";
		mes "　もう少し周囲を調べてみよう‐";
		close;
	case 26:
		mes "‐病院の外に・ったお守りと";
		mes "　似た模様の入った木の棒だ。";
		mes "　看護師ラズは、悪い気配がすると";
		mes "　言っていた‐";
		next;
		if (select("シャーマンの札を貼る","やっぱり貼らない")==2) {
			mes "‐・なたは、その場を後にした‐";
			close;
		}
		mes "‐木の棒にシャーマンの札を貼った。";
		mes "　張りつめていた気配が";
		mes "　弱まったような気がする‐";
		next;
		mes "[看護師ラズ]";
		mes "……き……た";
		cutin "malaya_nurseA05.bmp",2;
		next;
		mes "[" +strcharinfo(0)+ "]";
		mes "？";
		emotion 1,"";
		cutin "malaya_nurseA05.bmp",255;
		next;
		mes "[看護師ラズ]";
		mes "できた、できた";
		cutin "malaya_nurseA05.bmp",2;
		next;
		mes "[看護師ラズ]";
		mes "できた、できた";
		mes "できたできたできたできたできたできた";
		mes "できたできたできたできたできたできた";
		mes "できたできたできたできたできたできた";
		mes "できたできたできたできたできたできた";
		mes "できたできたできたできたできたできた";
		next;
		mes "[看護師ラズ]";
		mes "じゃまなおまもりがきえた";
		next;
		mes "[看護師ラズ]";
		mes "くくくく";
		next;
		mes "‐看護師ラズの瞳が";
		mes "　妖しい輝きを放った‐";
		next;
		mes "‐頭の中をかき回されるような";
		mes "　苦痛に襲われ、床に膝をついた‐";
		next;
		mes "[看護師ラズ]";
		mes "うまいうまいうまいうまい";
		mes "もっともっともっともっと";
		mes "よこせよこせよこせよこせ";
		next;
		mes "[看護師ラズ]";
		mes "・くむを・くむを・くむを・くむを";
		next;
		mes "‐力が吸い取られる……";
		mes "　だんだん視界がぼやけ始めた‐";
		next;
		mes "[" +strcharinfo(0)+ "]";
		mes "何が……";
		mes "……おまえは……？";
		mes "・・…………";
		mes "……だ……め";
		next;
		mes "[？？？]";
		mes "そこまでよ！";
		cutin "malaya_nurseA05.bmp",255;
		next;
		mes "[" +strcharinfo(0)+ "]";
		mes "（か、看護師が……";
		mes "　もうひとり……？）";
		next;
		mes "[看護師]";
		mes "その子から離れなさい!!";
		cutin "malaya_nurseB.bmp",2;
		next;
		mes "‐看護師ラズに向かって";
		mes "　小さなお守りが投げつけられる。";
		mes "　看護師ラズの注意が逸れ、";
		mes "　・なたは苦痛から解放される‐";
		next;
		mes "[看護師]";
		mes "ここは私に任せて";
		mes "・なたは病院の外に逃げなさい。";
		mes "さ・、早く！";
		next;
		mes "‐先ほどまでの苦痛に";
		mes "　意識が途切れそうになりながら";
		mes "　・なたは歩き出した‐";
		cutin "malaya_nurseB.bmp",255;
		next;
		mes "‐看護師ラズの声が、";
		mes "　どこまでも追いかけてくるように";
		mes "　頭の中で反響していた‐";
		delquest 11307;
		setquest 11308;
		set MALAYA_3QUE,27;
		close2;
		warp "malaya",58,76;
		end;
	default:
		if (MALAYA_3QUE < 27) {
			mes "‐病院の外に・ったお守りと";
			mes "　似た模様の入った木の棒だ‐";
			close;
		}
		mes "‐お守りからは";
		mes "　何の気配も感じられない‐";
		close;
	}
}

ma_dun01,147,10,5	script	看護師	569,{
	switch(MALAYA_3QUE) {
	case 19:
	case 20:
		cutin "malaya_nurseB.bmp",2;
		mes "[看護師]";
		mes "…………。";
		close2;
		cutin "malaya_nurseB.bmp",255;
		end;
	case 21:
		cutin "malaya_nurseB.bmp",2;
		mes "‐病院の扉は";
		mes "　閉まっていたはずなのに";
		mes "　この看護師はいつ";
		mes "　入って来たのだろう？";
		mes "　後ろから呼んでみたが";
		mes "　反応しない‐";
		next;
		mes "‐いったん、病院の入り口まで戻って";
		mes "　看護師ラズに階段の様子を";
		mes "　伝えよう‐";
		delquest 11302;
		setquest 11303;
		set MALAYA_3QUE,22;
		close2;
		cutin "malaya_nurseB.bmp",255;
		end;
	case 22:
		cutin "malaya_nurseB.bmp",2;
		mes "‐病院の扉は";
		mes "　閉まっていたはずなのに";
		mes "　この看護師はいつ";
		mes "　入って来たのだろう？";
		mes "　後ろから呼んでみたが";
		mes "　反応しない‐";
		next;
		mes "‐いったん、病院の入り口まで戻って";
		mes "　看護師ラズに階段の様子を";
		mes "　伝えよう‐";
		close2;
		cutin "malaya_nurseB.bmp",255;
		end;
	case 23:
	case 24:
	case 25:
		//未調査
		cutin "malaya_nurseB.bmp",2;
		mes "‐病院の扉は";
		mes "　閉まっていたはずなのに";
		mes "　この看護師はいつ";
		mes "　入って来たのだろう？";
		mes "　後ろから呼んでみたが";
		mes "　反応しない‐";
		close2;
		cutin "malaya_nurseB.bmp",255;
		end;
	case 26:
		cutin "malaya_nurseB.bmp",2;
		mes "[看護師]";
		mes "いい調子だわ。";
		mes "もうすぐね……";
		next;
		mes "‐何かに集中しているようだ‐";
		close2;
		cutin "malaya_nurseB.bmp",255;
		end;
	case 27:
		cutin "malaya_nurseB.bmp",2;
		mes "[看護師]";
		mes "ここは私に任せて";
		mes "・なたは病院の外に逃げなさい。";
		mes "さ・、早く！";
		close2;
		cutin "malaya_nurseB.bmp",255;
		warp "malaya",58,76;
		end;
	case 28:
		if (checkquest(11309) & 0x4) {
			cutin "malaya_nurseB.bmp",2;
			mes "[看護師マエン]";
			mes "お疲れ様。";
			mes "まさか本当にビョンウンゴを";
			mes "倒してしまうなんて……。";
			mes "なかなかやるわね。";
			next;
			mes "[看護師マエン]";
			mes "これでビョンウンゴが";
			mes "いなくなるほど甘くはないでしょうね。";
			mes "また力を借りるかもしれないから、";
			mes "時々、ここに来てくれると助かるわ。";
			getitem 6499,5;
			delquest 11309;
			setquest 9223;
			next;
			mes "[看護師マエン]";
			mes "病院から出たいなら、";
			mes "入り口のところまで来てね。";
			close2;
			cutin "malaya_nurseB.bmp",255;
			end;
		}
		if (checkquest(9224)) {
			if (!(checkquest(9224) & 0x2)) {
			}
			cutin "malaya_nurseB.bmp", 2;
			mes "[看護師マエン]";
			mes "また来たのね。";
			mes "……よし、こちらの準備は大丈夫よ。";
			mes "ビョンウンゴの部屋に行きたいなら";
			mes "もう一度話しかけてね。";
			delquest 9224;
			close2;
			cutin "malaya_nurseB.bmp", 255;
			end;
		}
		if (checkquest(9223)) {
			if (!(checkquest(9223) & 0x2)) {
				//未調査
				cutin "malaya_nurseB.bmp",2;
				mes "[看護師マエン]";
				mes "ビョンウンゴを倒しに来たのね？";
				mes "でもビョンウンゴは今いないみたい。";
				mes "また様子を見に来てちょうだい。";
				close2;
				cutin "malaya_nurseB.bmp",255;
				end;
			}
			//未調査
			cutin "malaya_nurseB.bmp",2;
			mes "[看護師マエン]";
			mes "ビョンウンゴを倒しに来たのね？";
			mes "ちょうどいいところにきてくれたわ！";
			next;
			mes "[看護師マエン]";
			mes "復活したビョンウンゴが";
			mes "また患者たちに悪夢を見せて";
			mes "力を奪っているみたいなの。";
			mes "彼女の始末は任せるわよ。";
			delquest 9223;
			setquest 9222;
			close2;
			cutin "malaya_nurseB.bmp",255;
			end;
		}
		if (getonlinepartymember() < 1) {
			cutin "malaya_nurseB.bmp",2;
			mes "[看護師マエン]";
			mes "ビョンウンゴを倒しに来たのね？";
			mes "この先は危険だから";
			mes "1人で行かせることはできないわ。";
			mes "パーティーに加入してから";
			mes "もう一度来てちょうだい。";
			close2;
			cutin "malaya_nurseB.bmp",255;
			end;
		}
		if (getpartyleader(getcharid(1)) == strcharinfo(0) && !checkquest(9224)) {
			cutin "malaya_nurseB.bmp",2;
			mes "[看護師マエン]";
			mes "ビョンウンゴを倒しに来たのね？";
			mes "準備ができているなら";
			mes "彼女をおびき寄せるわよ。";
			set '@str1$,"ビョンウンゴをおびき寄せる";
			set '@str2$,"ビョンウンゴの部屋に入る";
		}
		else {
			cutin "malaya_nurseB.bmp",2;
			mes "[看護師マエン]";
			mes "もしかして、";
			mes "ビョンウンゴの部屋に";
			mes "行きたいのかしら？";
			set '@str2$,"ビョンウンゴの部屋に入る";
		}
		next;
		switch(select('@str1$,'@str2$,"やっぱりやめる")) {
		case 1:
			mdcreate "Bangungot 2F";
			mes "[看護師マエン]";
			mes "ビョンウンゴをおびき寄せるわね。";
			mes "準備が整ったら";
			mes "もう一度話しかけてね。";
			setquest 9224;
			close2;
			cutin "malaya_nurseB.bmp",255;
			end;
		case 2:
			switch(mdenter("Bangungot 2F")) {
			case 0:	// エラーなし
				announce "[" +strcharinfo(1)+ "]パーティーの[" +strcharinfo(0)+ "]が[Bangungot 2F]に入場します",0x9,0x00FF99;
				cutin "malaya_nurseB.bmp",255;
				donpcevent getmdnpcname("ma_h_start")+ "::OnStart";
				//warp "1@ma_h",40,157;
				end;
			case 1:	// パーティー未加入
				mes "[看護師マエン]";
				mes "・ら？";
				mes "パーティーを抜けてしまったの？";
				mes "それじゃ、通すわけにはいかないわ。";
				close2;
				cutin "malaya_nurseB.bmp",255;
				end;
			case 2:	// ダンジョン未作成
				if (getpartyleader(getcharid(1)) == strcharinfo(0)) {
					mes "[看護師マエン]";
					mes "まだビョンウンゴが出て来てないわ。";
					mes "焦らないでね。";
					close2;
					cutin "malaya_nurseB.bmp",255;
					end;
				}
				else {
					mes "[看護師マエン]";
					mes "まだビョンウンゴが出て来てないわ。";
					mes "まず、リーダーと";
					mes "話をさせてもらえるかしら？";
					close2;
					cutin "malaya_nurseB.bmp",255;
					end;
				}
			default:	// その他エラー
				close;
			}
		case 3:
			mes "[看護師マエン]";
			mes "わかったわ。";
			mes "もし考えが変わったら";
			mes "また来てね。";
			close2;
			cutin "malaya_nurseB.bmp",255;
			end;
		}
	default:
		cutin "malaya_nurseB.bmp",2;
		mes "‐病院の扉は";
		mes "　閉まっていたはずなのに";
		mes "　この看護師はいつ";
		mes "　入って来たのだろう？";
		mes "　後ろから呼んでみたが";
		mes "　反応しない‐";
		close2;
		cutin "malaya_nurseB.bmp",255;
		end;
	}
}

malaya,53,68,4	script	草むら	844,{
	switch(MALAYA_3QUE) {
	case 13:
		mes "[？？？]";
		mes "近寄るな！";
		mes (Sex? "おじ": "おば")+ "さん！";
		mes "なぜ、ボクがここにいることを";
		mes "知っているのだ？";
		emotion 23;
		next;
		mes "[" +strcharinfo(0)+ "]";
		mes (Sex? "おじ": "おば")+ "さんじゃない！";
		emotion 6,"";
		next;
		switch(select("病院に入れないことについて","怒られる？","誰だ？","お婆さんのことを聞く","そっとしておく")) {
		case 1:
			mes "[？？？]";
			mes "隣の家に住んでいるお婆さんが";
			mes "病院の周りで、何か言いながら";
			mes "棒のような物を";
			mes "地面に突き刺していたのだ。";
			mes "きっとケッカイってやつだな。";
			next;
			mes "[？？？]";
			mes "ふふふふ……";
			mes "しゃべりすぎてしまったようだな。";
			mes "病院にいることがバレないように";
			mes "ボクは身を隠すのだ。";
			break;
		case 2:
			mes "[？？？]";
			mes "前にお母さんが言ってたのだ。";
			mes "隣のお姉さんが";
			mes "この病院に入院していたらしい。";
			mes "退院はできなかったけど……";
			next;
			mes "[？？？]";
			mes "他にも、この病院に入院した人たちに";
			mes "悪いことが沢山・ったらしいよ。";
			next;
			mes "[？？？]";
			mes "だから、お母さんは";
			mes "ボクがここに来るのを禁止してるのだ。";
			break;
		case 3:
			mes "[？？？]";
			mes "それだけは教えられないのだ。";
			mes "前もバレてお尻を叩かれたから！";
			mes "知ってるか？";
			mes "お尻を叩かれるととても痛いのだぞ！";
			break;
		case 4:
			mes "[？？？]";
			mes "うちの隣に住んでいる";
			mes "お婆さんなんだけど、";
			mes "何日か前に病院の周りで";
			mes "何かしていたのだ。";
			next;
			mes "[？？？]";
			mes "ここにいるのがばれないように";
			mes "遠くから見ていたから";
			mes "何をしているかわからなかったけど、";
			mes "お婆さんが帰った後に";
			mes "何かしていた・たりを見たら";
			mes "棒のようなものが・ったのだ。";
			next;
			mes "[？？？]";
			mes "嘘だと思うなら、";
			mes "病院の周りを調べてみればいいのだ。";
			mes "いくつも棒が・るんだから！";
			next;
			mes "‐病院の周りに・るという";
			mes "　棒を調べてみよう‐";
			delquest 11294;
			setquest 11295;
			set MALAYA_3QUE,14;
			close;
		case 5:
			mes "[？？？]";
			mes "ふふふふ……";
			emotion 29;
			close;
		}
		next;
		mes "[？？？]";
		mes "ボクがここにいることは内緒だぞ。";
		mes "特にお母さんには絶対に言わないで！";
		mes "くくくくく……";
		close;
	case 14:
		mes "[？？？]";
		mes "ここにいるのがばれないように";
		mes "遠くから見ていたから";
		mes "何をしているかわからなかったけど、";
		mes "お婆さんが帰った後に";
		mes "何かしていた・たりを見たら";
		mes "棒のようなものが・ったのだ。";
		next;
		mes "[？？？]";
		mes "嘘だと思うなら、";
		mes "病院の周りを調べてみればいいのだ。";
		mes "いくつも棒が・るんだから！";
		next;
		mes "‐病院の周りに・るという";
		mes "　棒を調べてみよう‐";
		close;
	case 15:
		mes "[？？？]";
		mes "近寄るな！";
		mes (Sex? "おじ": "おば")+ "さん！";
		mes "なぜ、ボクがここにいることを";
		mes "知っているのだ？";
		emotion 23;
		next;
		mes "[" +strcharinfo(0)+ "]";
		mes (Sex? "おじ": "おば")+ "さんじゃない。";
		emotion 6,"";
		close;
	default:
		if (MALAYA_3QUE < 16) {
			mes "‐ただの草むらだ。";
			mes "　触ると草がこすれる音がする‐";
			close;
		}
		mes "‐小さな足跡が残っている。";
		mes "　今は誰もいないようだ‐";
		close;
	}
}

malaya,40,52,4	script	怪しい木の棒#ma1	858,{
	if (MALAYA_3QUE==14) {
		mes "‐奇妙な形をした木の棒が";
		mes "　地面に突き立てられている。";
		mes "　不思議な気配を感じる‐";
		next;
		if (select("棒を引き抜く","そのままにしておく")==2) {
			mes "‐・なたは木の棒には手を触れず";
			mes "　その場を後にした‐";
			close;
		}
		if (rand(3)==0) {
			mes "‐木の棒を引き抜いた。";
			mes "　よく見るとお守りが貼られている。";
			mes "　";
			mes "　不思議な気配が弱まった";
			mes "　ような気がする‐";
			if (rand(2)==0)
				getitem 6497,1;
			else {
				delquest 11295;
				setquest 11296;
				set MALAYA_3QUE,15;
				getitem 6497,1;
				next;
				mes "‐このお守りは何だろう？";
				mes "　ひとまず、ラズのところに戻ろう‐";
			}
		} else {
			mes "‐木の棒を引き抜いた。";
			mes "　不思議な気配が弱まった";
			mes "　ような気がする‐";
		}
		initnpctimer;
		close;
	}
	mes "‐奇妙な形をした木の棒が";
	mes "　地面に突き立てられている‐";
	close;
OnTimer1000:
	hideonnpc strnpcinfo(0);
	end;
OnTimer16000:
	stopnpctimer;
	hideoffnpc strnpcinfo(0);
	end;
}

malaya,31,42,4	duplicate(怪しい木の棒#ma1)	怪しい木の棒#ma2	858
malaya,34,36,4	duplicate(怪しい木の棒#ma1)	怪しい木の棒#ma3	858
malaya,40,32,4	duplicate(怪しい木の棒#ma1)	怪しい木の棒#ma4	858
malaya,50,85,4	duplicate(怪しい木の棒#ma1)	怪しい木の棒#ma5	858
malaya,46,93,4	duplicate(怪しい木の棒#ma1)	怪しい木の棒#ma6	858
malaya,36,98,4	duplicate(怪しい木の棒#ma1)	怪しい木の棒#ma7	858
malaya,48,79,4	duplicate(怪しい木の棒#ma1)	怪しい木の棒#ma8	858
malaya,50,46,4	duplicate(怪しい木の棒#ma1)	怪しい木の棒#ma9	858
malaya,59,84,4	duplicate(怪しい木の棒#ma1)	怪しい木の棒#ma10	858

malaya,114,183,3	script	腰の曲がった老婆	575,{
	switch(MALAYA_3QUE) {
	case 17:
		mes "[腰の曲がった老婆]";
		mes "・の病院にはきっと何かいる！";
		next;
		menu "木の棒を見せる",-;
		mes "[腰の曲がった老婆]";
		mes "ん？";
		mes "その棒は……";
		emotion 23;
		next;
		mes "[腰の曲がった老婆]";
		mes "ええええええ!!";
		emotion 23;
		next;
		mes "[腰の曲がった老婆]";
		mes "き、き、キサマ!!";
		mes "なんちゅーことをしてくれたんじゃ！";
		next;
		mes "[腰の曲がった老婆]";
		mes "それはヤツを封じるための";
		mes "お守りだったのに！";
		mes "それを抜いたら、またヤツが";
		mes "悪さをはじめてしまう！";
		next;
		mes "[腰の曲がった老婆]";
		mes "ワシは見たのじゃ！";
		mes "病院の窓に映ったヤツの影を。";
		next;
		mes "[腰の曲がった老婆]";
		mes "……入院患者は誰一人として";
		mes "帰ってこなかった。";
		mes "おそらく、ヤツは患者達に悪夢を見せ";
		mes "自分の糧にしていたに違いない。";
		next;
		mes "[腰の曲がった老婆]";
		mes "私の娘も、同じように……";
		mes "…………";
		next;
		mes "‐病院の前には看護師ラズが";
		mes "　一人で待っているはずだ。";
		mes "　老婆の言う通りならば、";
		mes "　「ヤツ」が病院から";
		mes "　出てくるかもしれない。";
		mes "　急いで病院に戻ろう‐";
		delquest 11298;
		setquest 11299;
		set MALAYA_3QUE,18;
		close;
	case 18:
		mes "‐病院の前には看護師ラズが";
		mes "　一人で待っているはずだ。";
		mes "　老婆の言う通りならば、";
		mes "　「ヤツ」が病院から";
		mes "　出てくるかもしれない。";
		mes "　急いで病院に戻ろう‐";
		close;
	case 23:
		mes "[腰の曲がった老婆]";
		mes "おや？";
		mes "おまえさんは、たしか……？";
		mes "……誰じゃったかのう？";
		next;
		mes "[腰の曲がった老婆]";
		mes "病院の中のお守り？";
		mes "……おそらく、町のシャーマンが";
		mes "作ったものじゃろう。";
		mes "シャーマンは";
		mes "町の北の方にいるはずじゃ。";
		next;
		mes "[腰の曲がった老婆]";
		mes "それほど有名ではないが、";
		mes "・のシャーマンの作る";
		mes "お守りの効果は確かじゃぞ。";
		next;
		mes "‐ポートマラヤの北にいるという";
		mes "　シャーマンに話を聞きに行こう‐";
		delquest 11304;
		setquest 11305;
		set MALAYA_3QUE,24;
		close;
	case 24:
		mes "[腰の曲がった老婆]";
		mes "シャーマンは";
		mes "町の北の方にいるはずじゃ。";
		next;
		mes "[腰の曲がった老婆]";
		mes "それほど有名ではないのじゃが、";
		mes "・のシャーマンの作る";
		mes "お守りの効果は確かじゃぞ。";
		next;
		mes "‐ポートマラヤの北にいるという";
		mes "　シャーマンに話を聞きに行こう‐";
		close;
	}
	mes "[腰の曲がった老婆]";
	mes "おほほほ。";
	next;
	mes "[腰の曲がった老婆]";
	mes "え？";
	mes "これ以上食べられんよ。";
	next;
	mes "[腰の曲がった老婆]";
	mes "そうじゃない？";
	mes "ワシも若いころは";
	mes "町で評判の美人だったのじゃ。";
	if (MALAYA_3QUE==16) {
		next;
		mes "[腰の曲がった老婆]";
		mes "違う？";
		mes "すまないねえ。";
		mes "大きい声で話してくれんかね。";
		next;
		mes "[腰の曲がった老婆]";
		mes "病院のことじゃと？";
		mes "お～、そうかそうか、病院か。";
		next;
		mes "[腰の曲がった老婆]";
		mes "ん……病院？";
		mes "病院じゃと！";
		next;
		mes "[腰の曲がった老婆]";
		mes "・・・・の病院は呪われておる！";
		mes "とても悪いものが";
		mes "憑りついておるのじゃ・！";
		next;
		mes "[腰の曲がった老婆]";
		mes "ワシの娘も、ヤツに連れて行かれて";
		mes "しまったのじゃ。";
		mes "けして……けっして";
		mes "近寄ってはならぬぞ。";
		next;
		if (select("病院のことを聞く","娘のことを聞く")==2) {
			mes "[腰の曲がった老婆]";
			mes "私の娘は、命を落とすほどの";
			mes "病ではなかった。";
			mes "ただの風邪だったのじゃ……";
			next;
			mes "[腰の曲がった老婆]";
			mes "・の病院にはきっと何かいる！";
			mes "きっとワシの娘も、";
			mes "ヤツにやられたに違いないのじゃ！";
			close;
		}
		mes "[腰の曲がった老婆]";
		mes "病院の設立が決まった時には、";
		mes "みんな喜んだものじゃよ。";
		mes "大きな病院の・る町まで";
		mes "行かなくても、";
		mes "治療を受けられるようになるとな。";
		next;
		mes "[腰の曲がった老婆]";
		mes "じゃが、どういうわけか";
		mes "病院で治療を受けた者は";
		mes "余計に悪くなっていったのじゃ。";
		mes "やはり……町の古木を切って";
		mes "病院を建築したのが";
		mes "良くなかったに違いない。";
		next;
		mes "[腰の曲がった老婆]";
		mes "病院がおかしいと気づいた者は";
		mes "指導者様に陳情にも行ったのじゃ。";
		mes "だが、何もしてくれなかった……";
		next;
		mes "[腰の曲がった老婆]";
		mes "そうしているうちに、";
		mes "入院していた人たちが";
		mes "次々に亡くなったと伝えられた。";
		mes "私の娘と同じように……";
		next;
		mes "‐病院が呪われていると";
		mes "　老婆は言っている。";
		mes "　抜いた木の棒をこの老婆に";
		mes "　見せてみよう‐";
		delquest 11297;
		setquest 11298;
		set MALAYA_3QUE,17;
	}
	close;
}

malaya,276,367,4	script	腰の曲がったシャーマン	782,{
	if (MALAYA_1QUE < 6) {
		mes "[腰の曲がったシャーマン]";
		mes "…………";
		next;
		mes "‐こちらに気づいていないようだ‐";
		close;
	}
	mes "[腰の曲がったシャーマン]";
	mes "うむ……";
	mes "感じる……";
	next;
	mes "[腰の曲がったシャーマン]";
	mes "何か不吉な気配を";
	mes "おぬしから感じる……";
	if (MALAYA_3QUE==24) {
		next;
		mes "[腰の曲がったシャーマン]";
		mes "……";
		mes "何も言わなくてもいい。";
		mes "これが必要になるじゃろう。";
		next;
		mes "[腰の曲がったシャーマン]";
		mes "この札はな、";
		mes "強い力を封じ込めることが";
		mes "できるのじゃ。";
		next;
		mes "[腰の曲がったシャーマン]";
		mes "きわめて強力な効果を持つゆえ";
		mes "使い方を誤れば、災いを招くじゃろう。";
		mes "……だが、おぬしには必要なものじゃ。";
		mes "持っていくがいい。";
		next;
		mes "[腰の曲がったシャーマン]";
		mes "大丈夫じゃ。";
		mes "お金は必要ない。";
		mes "これはこの町の因果なのじゃ……";
		next;
		mes "‐シャーマンの札を受け取った。";
		mes "　看護師ラズのところに戻ろう‐";
		delquest 11305;
		setquest 11306;
		set MALAYA_3QUE,25;
		close;
	}
	if (MALAYA_3QUE==25) {
		next;
		mes "‐看護師ラズのところに戻ろう‐";
		close;
	}
	close;
}

ma_dun01_jp,108,176,0	script	#mirror2	844,{
	mes "‐鏡には元の世界が映しだされている。";
	mes "　近づけば戻ることができそうだ‐";
	close;
}

ma_dun01_jp,108,49,0	script	#mirror1	844,{
	mes "‐鏡には元の世界が映しだされている。";
	mes "　近づけば戻ることができそうだ‐";
	close;
}

//============================================================
// 森の中の秘密クエストNPC
//- Registry -------------------------------------------------
// MALAYA_4QUE -> 0～15
//------------------------------------------------------------

malaya,276,288,5	script	話好きな住民	582,{
	if (MALAYA_1QUE < 6) {
		mes "‐住民たちはとても警戒しながら、";
		mes "　自分たちだけで話をしている‐";
		close;
	}
	switch(MALAYA_4QUE) {
	case 1:
		emotion 0,"話好きな住民";
		mes "[話好きな住民]";
		mes "森で迷子になったんじゃないかな。";
		mes "こんな小さな町で";
		mes "宝を隠す人がいると思うか？";
		next;
		emotion 19,"聞き上手な住民";
		mes "[聞き上手な住民]";
		mes "モンスターにやられたのでは？";
		mes "深い森の奥には頭が大きな竜が";
		mes "住んでるとお婆ちゃんが言ってたわ。";
		next;
		emotion 22,"お調子者の住民";
		mes "[お調子者の住民]";
		mes "違う、俺の話をよく聞くんだ。";
		next;
		mes "[お調子者の住民]";
		mes "お前ら^3131FFトトイ^000000は知っているな。";
		mes "^3131FF旅館^000000に住んでいる子だよ。";
		mes "・いつがこの前、森に";
		mes "行ってたのを知っているか？";
		next;
		emotion 23,"話好きな住民";
		emotion 23,"聞き上手な住民";
		mes "[話好きな住民]";
		mes "本当か!?　無事に帰って来たのか？";
		next;
		emotion 0,"お調子者の住民";
		mes "[お調子者の住民]";
		mes "そう、しかも怪しいのは";
		mes "・のわんぱくな^3131FFトトイ^000000が";
		mes "その後、家から外に出てこないんだよ。";
		next;
		emotion 1,"聞き上手な住民";
		mes "[聞き上手な住民]";
		mes "どうしてかしら？";
		next;
		emotion 0,"お調子者の住民";
		mes "[お調子者の住民]";
		mes "決まってるだろ。";
		mes "・いつが宝を見つけたに違いない。";
		next;
		emotion 23,"話好きな住民";
		emotion 23,"聞き上手な住民";
		mes "[話好きな住民]";
		mes "まさか!?";
		mes "すると^3131FFトトイ^000000はお金持ちに？";
		next;
		emotion 22,"お調子者の住民";
		mes "[お調子者の住民]";
		mes "それはまだだと思う。";
		mes "^3131FFトトイ^000000の奴が";
		mes "家に戻ってくるのを見たけど、";
		mes "何にも持っていなかったんだ。";
		next;
		emotion 1,"聞き上手な住民";
		mes "[聞き上手な住民]";
		mes "じゃ・^3131FFトトイ^000000は家で";
		mes "何をしているのかしら？";
		next;
		emotion 9,"お調子者の住民";
		mes "[お調子者の住民]";
		mes "町の人たちにばれないよう";
		mes "密かに宝を持って来るために";
		mes "計画をたてているんだろう。";
		mes "誰にもばれなければ";
		mes "すべての宝を独り占めできるからな。";
		next;
		emotion 0,"話好きな住民";
		mes "[話好きな住民]";
		mes "なるほど！";
		mes "それなら確かにつじつまが合う！";
		next;
		emotion 14,"聞き上手な住民";
		mes "[聞き上手な住民]";
		mes "お宝。いいなぁ～～。";
		mes "私ならピカピカに磨いて";
		mes "誰よりも美しく飾る自信が・るのに！";
		next;
		emotion 9,"お調子者の住民";
		mes "[お調子者の住民]";
		mes "だから私たちが^3131FFトトイ^000000の奴を";
		mes "うまく説得して宝の在り処を";
		mes "聞き出そうじゃないか！　どうだい？";
		next;
		emotion 0,"話好きな住民";
		mes "[話好きな住民]";
		mes "いいアイディアだ！";
		next;
		emotion 9,"話好きな住民";
		mes "[話好きな住民]";
		mes "ただ、^3131FFトトイ^000000の奴が";
		mes "簡単にそれを教えてくれるか？";
		mes "奴は宝を独り占めしようと";
		mes "しているというのに……。";
		next;
		emotion 28,"聞き上手な住民";
		mes "[聞き上手な住民]";
		mes "じゃ・私たちは宝探しではなく";
		mes "^3131FFトトイ^000000を説得する方法を";
		mes "今度は考えないといけないのかな？";
		next;
		emotion 28,"聞き上手な住民";
		mes "[聞き上手な住民]";
		mes "・～～美しい物を手に入れるのって";
		mes "本当にむずかし～～!!";
		delquest 2271;
		setquest 2272;
		set MALAYA_4QUE,2;
		close;
	case 2:
		mes "‐これ以上の情報はなさそうだ。";
		mes "　トトイという人を探してみよう‐";
		close;
	default:
		mes "‐町の住民たちが";
		mes "　深刻な顔をしながら";
		mes "　何か話している‐";
		close;
	}
}
malaya,278,288,3	duplicate(話好きな住民)	聞き上手な住民	583
malaya,276,286,7	duplicate(話好きな住民)	お調子者の住民	582

ma_in01,47,101,3	script	トトイ	577,7,7,{
	switch(MALAYA_4QUE) {
	case 3:
		if (countitem(506) < 1){
			mes "[トトイ]";
			mes "理由は後で説明するから";
			mes "まずは目を治してくれない？";
			mes "多分棚の中に^3131FF緑ポーション^000000が";
			mes "残っているはずなんだ。";
			mes "悪いけど、それを持ってきてよ。";
			close;
		}
		mes "[トトイ]";
		mes "・れ、まだそこにいるの？";
		mes "緑ポーションは・った？";
		mes "前が見えなくてどうにかなりそう。";
		next;
		if (select("緑ポーションを渡す","渡さない")==2) {
			mes "[トトイ]";
			mes "何だよ！";
			mes "意地悪するなよ！";
			close;
		}
		mes "[トトイ]";
		mes "緑ポーションだ。・りがとう！";
		mes "よし。これをこうして……";
		mes "ゴクゴク……";
		mes "……";
		mes "パチパチ……パチパチ……";
		mes "おぉ。おぉぉ！";
		delitem 506,1;
		delquest 72150;
		setquest 72155;
		set MALAYA_4QUE,4;
		close;
	case 4:
		emotion e_gasp;
		mes "[トトイ]";
		mes "見える!!　目が見える！";
		mes "やった！";
		next;
		emotion 9,"";
		emotion 21;
		mes "[トトイ]";
		mes "ふぅ……。";
		mes "・ーよかったぁ。";
		mes "・りがとう！";
		next;
		mes "[トトイ]";
		mes "それで、さっき何て言ったっけ？　宝？";
		mes "ボクが宝を見つけたとか。";
		mes "いったいそれは何の話なの？";
		next;
		menu "住民が話していた内容を聞かせる",-;
		emotion e_heh;
		mes "[トトイ]";
		mes "何だって？";
		mes "宝を見つけて、ボクがお金持ち!?";
		mes "何言ってるの!？";
		next;
		emotion 32;
		mes "[トトイ]";
		mes "どうして一体";
		mes "そんなわけのわからない話に……";
		mes "ははっ。ははは……";
		mes "はぁ……。";
		next;
		mes "[トトイ]";
		mes "……。";
		next;
		mes "[トトイ]";
		mes "森には、虫を捕まえるために";
		mes "行っただけだよ。";
		mes "宝なんか見たこともない。";
		mes "それより……。";
		next;
		emotion 9;
		mes "[トトイ]";
		mes "まさか・んなことになるなんて……。";
		next;
		menu "何が・ったか聞く",-;
		mes "[トトイ]";
		mes "かわいい虫を取ってきて";
		mes "いたずらしようと思ってたんだ。";
		next;
		emotion e_heh;
		mes "[トトイ]";
		mes "服の中に氷とか虫をいれるのは";
		mes "挨拶のようなもんでしょ？";
		mes "町のひとが大騒ぎしながら";
		mes "走り回るのが楽しくて！";
		next;
		mes "[トトイ]";
		mes "それで、普通の虫じゃ・";
		mes "みんなも・まり驚かないと思って";
		mes "エドーと一緒に森に入ったんだ。";
		mes "森なら珍しい虫がたくさんいるからね。";
		next;
		mes "[トトイ]";
		mes "・、エドーはかわいいワンちゃんだよ。";
		mes "おとなしくて愛嬌が・る大事な友達。";
		mes "ちょっと臆病なところが・って";
		mes "何にでもすぐ吠えるんだよね。";
		next;
		emotion 9;
		mes "[トトイ]";
		mes "その日、森で虫を探していた時も";
		mes "森の奥深くまで入った・たりから";
		mes "エドーはワンワンよく吠えてた。";
		mes "ただ、いつもの事だしその時は";
		mes "そんなに気にしていなかったんだ。";
		next;
		mes "[トトイ]";
		mes "でもね。しばらくしてもエドーは";
		mes "全然鳴きやまなかったんだ。";
		mes "さすがにちょっとおかしいな、と思って";
		mes "仕方なく振り返ってみたんだよ。";
		mes "その時さ……。";
		next;
		musiceffect "42";
		mes "‐トトイは他の誰かに聞かれないよう";
		mes "　身を寄せて耳元でささやいた‐";
		next;
		mes "[トトイ]";
		mes "怪物がいたんだ。";
		next;
		menu "怪物!?",-;
		mes "[トトイ]";
		mes "今まで生きてきたなかで";
		mes "・れほど大きな口は初めて見たよ。";
		next;
		mes "[トトイ]";
		mes "大きな口が雲のように覆ってきて……";
		mes "所々にぶら下がっていたのは";
		mes "歯……かな。でっかい槍みたいな……。";
		next;
		mes "[トトイ]";
		mes "その・いだからゆっくりと";
		mes "唾？　のようなものが流れ落ちてた。";
		next;
		mes "[トトイ]";
		mes "唾が流れ落ちた先には";
		mes "池のような水たまりが・って、";
		mes "ちゃぷちゃぷ、揺れてたんだ……。";
		next;
		mes "[トトイ]";
		mes "とにかくわけが、わからなかったよ。";
		next;
		menu "襲われなかった？",-;
		emotion e_sob;
		mes "[トトイ]";
		mes "うん。";
		mes "実はその時、ボクの大事なエドーが";
		mes "力一杯怪物の足を噛んでくれてたんだ。";
		mes "普段は臆病ですぐ吠えるのに。";
		mes "おかげでボクは逃げ切れたけど、";
		mes "多分エドーは……エドーは……。";
		next;
		mes "[トトイ]";
		mes "目はその時にやられた。";
		mes "どうやって帰ってきたのかは";
		mes "正直・んまり覚えてない。";
		next;
		menu "怪物はなんだったのかな",-;
		mes "[トトイ]";
		mes "う～ん、一番特徴的だったのは、";
		mes "背中に大きな・を乗せていた";
		mes "ことだけど……";
		mes "ボクは見たことも聞いたことも";
		mes "ないような怪物だった。";
		next;
		mes "[トトイ]";
		mes "そもそも・の怪物を見て";
		mes "生きて帰ってきた人が";
		mes "・まりいないんじゃないかな。";
		next;
		mes "[トトイ]";
		mes "・ぁ。^FF0000狩りの達人^000000なら";
		mes "何かを知っているかもしれないよ。";
		mes "道具屋の近くにいると思うよ。";
		mes "気になるなら、聞いてみたらどう。";
		next;
		mes "[トトイ]";
		mes "・ぁ、エドー。";
		mes "エドー……。";
		mes "お願いだから無事でいて……。";
		musiceffect "149";
		delquest 72155;
		setquest 2273;
		set MALAYA_4QUE,5;
		close;
	case 5:
		mes "[トトイ]";
		mes "ボクのかわいいエドー……。";
		mes "お願いだからどうか無事でいて……。";
		mes "エドー!!　うわ・ぁぁ！";
		emotion e_sob;
		close;
	case 6:
		mes "[トトイ]";
		mes "エドー！　エ～～～ド～～～!!";
		mes "ボクを助ける為に死ぬなんて。";
		mes "うわ・ぁぁぁ!!";
		emotion e_sob;
		close;
	case 7:
		mes "[トトイ]";
		mes "エドー……エドー……。";
		mes "えっ？";
		mes "怪物と遭遇した場所が何処かって？";
		next;
		mes "[トトイ]";
		mes "うーん……うーん……。";
		mes "・まり覚えてないなぁ。";
		next;
		mes "[トトイ]";
		mes "かなり奥深い森だったから";
		mes "バリオ・マヒワガも通り越してたかな。";
		mes "^3131FF水の音^000000も聞こえた気がする。";
		mes "覚えているのはそのくらい。";
		close;
	case 8:
	case 9:
	case 10:
	case 11:
		mes "[トトイ]";
		mes "エドーに会いたい。エドー……。";
		mes "うわ・ぁぁ!!";
		close;
	case 12:
		emotion e_sob;
		mes "[トトイ]";
		mes "エドーに会いたい。エドー……。";
		mes "うわ・ぁぁ!!";
		next;
		mes "[エドー]";
		mes "ワン！　ワン!!";
		next;
		hideoffnpc "犬#totoi";
		emotion 23;
		mes "[トトイ]";
		mes "!?";
		mes "エドー！　エドーなの!?";
		mes "えええええええ!!!!!!　なんで!?";
		mes "本当に？　本当!!　エドー!!";
		mes "エドー！　やった！　信じられない!!";
		next;
		mes "[トトイ]";
		mes "・なたがエドーを助けてくれたの？";
		mes "本当に・りがとう！";
		mes "・の怪物と会わなかった？";
		next;
		menu "大丈夫。君も森には二度と近づかないでね",-;
		mes "[トトイ]";
		mes "うん!!";
		mes "えへへ。エドー。";
		mes "森は危険だからもう行かないよ！";
		next;
		mes "[エドー]";
		mes "……";
		next;
		mes "[トトイ]";
		mes "けど他にも遊ぶ場所はいっぱい・るから";
		mes "心配しないでね！";
		next;
		mes "[エドー]";
		mes "ワンワン!!";
		next;
		mes "[トトイ]";
		mes "本当に・りがとう" +(Sex? "お兄": "お姉")+ "ちゃん！";
		next;
		mes "[トトイ]";
		mes "ボクも大きくなったら、";
		mes "お姉ちゃんみたいに綺麗で";
		mes "優しい女性になりたいな～！";
		mes "ねえねえ、なれるかなぁ？";
		next;
		menu "……もしかして女の子？",-;
		mes "[トトイ]";
		mes "そうだよ！";
		mes "よく男の子と間違われるけど……。";
		mes "名前がトトイだからなのかなぁ？";
		next;
		mes "[トトイ]";
		mes "まだお母さんのお・の中にいた時に";
		mes "ボクが・まりに元気だったから、";
		mes "両親が男の子だと勘違いして";
		mes "こんな名前にしちゃったんだ。";
		mes "・はは。";
		next;
		mes "[トトイ]";
		mes "大事な友達を";
		mes "見つけてくれて・りがと。";
		mes "何かお礼をしなくちゃ……。";
		mes "棚を調べてみるから、";
		mes "少ししたらもう一度話しかけてね。";
		delquest 2278;
		setquest 2279;
		set MALAYA_4QUE,13;
		close;
	case 13:
		mes "[トトイ]";
		mes "見つけた！";
		next;
		mes "[トトイ]";
		mes "これはボクのお母さんが";
		mes "くれた物なんだけど、";
		mes "ボクは何に使うのか";
		mes "よくわからないから。えへへ。";
		mes "役に立つといいんだけど。";
		next;
		getitem 6497,5;
		delquest 2279;
		setquest 2280;
		set MALAYA_4QUE,14;
		mes "[トトイ]";
		mes "それじゃ・。";
		mes "トトイに会いたくなったら";
		mes "また遊びに来てね！";
		next;
		mes "[エドー]";
		mes "ワンワンワン！";
		hideonnpc "犬#totoi";
		close;
	case 14:
	case 15:
		mes "[トトイ]";
		mes "エドーは遊びに行ってるから";
		mes "今はボクひとりなんだ。";
		mes "ねえ。何かおもしろい";
		mes "いたずらはないかな??";
		close;
	default:
		mes "‐ブルブル震えている‐";
		if (MALAYA_4QUE==2) {
			next;
			if (select("肩を叩いてみる","そのままにしておく")==2) {
				mes "‐少年は、何かに怯えるように";
				mes "　膝を抱えて震えている‐";
				close;
			}
			emotion 23;
			mes "[トトイ]";
			mes "ヒ！　ヒイイ!!　ヒイイイッ！";
			mes "く、来るな！　・っちに行け!!";
			next;
			menu "大丈夫？",-;
			mes "[トトイ]";
			mes "・れ……人……？　だ、誰？";
			next;
			mes "‐子供はこちらを見つめているが";
			mes "　何か様子がおかしい‐";
			next;
			mes "[トトイ]";
			mes "そこに誰かいるでしょ？　誰？";
			next;
			menu "住民から聞いた話をする",-;
			mes "[トトイ]";
			mes "宝？　何の話をしてるの!?";
			mes "そんなことより今、目が見えなくって。";
			mes "悪いけどまずはボクの目を";
			mes "治してくれない？";
			next;
			menu "なぜ目を……？",-;
			mes "[トトイ]";
			mes "理由は後で説明するよ。";
			mes "まずは先に目を治すのを";
			mes "手伝ってくれない？";
			mes "多分棚の中に^3131FF緑ポーション^000000が";
			mes "残っているはずなんだ。";
			mes "悪いけど、それを持ってきてよ。";
			delquest 2272;
			setquest 72150;
			set MALAYA_4QUE,3;
		}
		close;
	}
OnTouch:
	if (MALAYA_4QUE < 4)
		emotion 23;
	end;
}

ma_in01,43,101,7	script	犬#totoi	81,{
	end;
OnInit:
	hideonnpc "犬#totoi";
	end;
}

ma_in01,44,105,3	script	棚	844,{
	if (MALAYA_4QUE==3) {
		mes "‐・なたは棚を開けて";
		mes "　緑ポーションを探した‐";
		next;
		mes "‐ごそごそ‐";
		next;
		mes "‐ごそごそ‐";
		mes "‐ごそごそ‐";
		next;
		mes "‐バタバタ‐";
		next;
		mes "‐空の瓶しか見当たらない。";
		mes "　自分で用意するしかなさそうだ‐";
		close;
	}
	mes "‐棚が・る‐";
	close;
}

ma_fild02,155,235,3	script	何かの痕跡#01	557,{
	if (MALAYA_4QUE==7) {
		if (countitem(6519) >= 10) {
			mes "‐標本はもうこれ以上";
			mes "　集めなくても良さそうだ‐";
			close;
		}
		mes "‐土と草などが混ざっている";
		mes "　何かの痕跡が見える‐";
		next;
		if (rand(3)==0) {
			mes "‐溢れる臭いに目まいをおこし";
			mes "　うまく採集ができなかった‐";
			sc_start3 SC_POISON,0,0,0,0,5000,10;
			close;
		}
		mes "‐少しの温かさを含んだ";
		mes "　柔らかいその標本を";
		mes "　・なたはゆっくりと採集した‐";
		getitem 6519,1;
		initnpctimer;
		hideonnpc strnpcinfo(0);
		close;
	}
	end;
OnTimer20000:
	stopnpctimer;
	hideoffnpc strnpcinfo(0);
	end;
}
ma_fild02,143,142,3	duplicate(何かの痕跡#01)	何かの痕跡#02	557
ma_fild02,266,155,3	duplicate(何かの痕跡#01)	何かの痕跡#03	557
ma_fild02,221,91,3	duplicate(何かの痕跡#01)	何かの痕跡#04	557
ma_fild02,205,85,3	duplicate(何かの痕跡#01)	何かの痕跡#05	557
ma_fild02,300,98,3	duplicate(何かの痕跡#01)	何かの痕跡#06	557
ma_fild02,100,275,3	duplicate(何かの痕跡#01)	何かの痕跡#07	557

ma_fild02,307,245,0	script	#todog1	139,3,3,{
OnTouch:
	if (MALAYA_4QUE==11) {
		hideoffnpc "犬#buwaya";
		mes "[どこからか聞こえる音]";
		mes "ワンワン！！";
		close;
	}
	end;
}
ma_fild02,320,241,0	duplicate(#todog1)	#todog2	139,3,3
ma_fild02,317,250,0	duplicate(#todog1)	#todog3	139,3,3

ma_fild02,312,259,3	script	犬#cave	81,{
	if (MALAYA_4QUE==11) {
		mes "[犬]";
		mes "ワンワン!!";
		next;
		mes "‐犬はこちらを見つめながら";
		mes "　懸命に吠えている‐";
		next;
		if (select("犬を調べる","放っておく")==2) {
			mes "‐犬を横目にこの場を去った‐";
			close;
		}
		mes "‐懸命に吠えている犬を持ち上げると";
		mes "　首輪が目にはいってきた。";
		mes "　";
		mes "　「トトイといつまでも一緒」";
		mes "　と、書かれている‐";
		next;
		menu "まさか、エドー!?",-;
		emotion e_ok;
		mes "[犬]";
		mes "ワン！";
		mes "クーン。クーン。";
		next;
		mes "‐エドー、と呼ぶこちらの声に";
		mes "　反応して尻尾を大きく振りはじめた‐";
		next;
		mes "[犬]";
		mes "ワンワン!!";
		next;
		mes "‐どうやらエドーは無事だったようだ。";
		mes "　後でトトイに知らせて・げよう‐";
		next;
		emotion 5;
		mes "[エドー]";
		mes "ワン!!　ワワン！";
		mes "ワワワワワン！";
		next;
		emotion 26;
		mes "‐エドーは北へ向き直り";
		mes "　なおも吠え続けている。";
		mes "　何か伝えようとしてるのだろうか‐";
		next;
		menu "もしかして、この先にブワヤが？",-;
		emotion e_ok;
		mes "[エドー]";
		mes "ワワワンワン！";
		next;
		mes "‐どうやらこの先に、";
		mes "　ブワヤの住処が・るようだ。";
		mes "　警備隊に知らせないと‐";
		next;
		mes "‐・なたは";
		mes "　警備隊長から受け取った煙幕弾を";
		mes "　空に向かって勢いよく撃ち上げた‐";
		next;
		mes "^FF0000‐ヒュウウウウウ‐^000000";
		misceffect 709,"";
		next;
		hideoffnpc "警備隊員#cave";
		mes "[警備隊員]";
		mes "ご苦労様です！";
		mes "まさかこんな場所に";
		mes "ブワヤが住んでいたとは！";
		mes "早速、警備隊長に伝えておきます！";
		hideonnpc "警備隊員#cave";
		next;
		mes "‐無事役目を果たす事が出来た。";
		mes "　まずはトトイのもとに";
		mes "　エドーを連れていって・げよう‐";
		next;
		mes "[エドー]";
		mes "ワンワン!!";
		hideonnpc "犬#cave";
		delquest 2277;
		setquest 2278;
		set MALAYA_4QUE,12;
		close;
	}
	end;
OnInit:
	hideonnpc "犬#cave";
	end;
}

ma_fild02,305,268,3	script	警備隊員#cave	570,{
	end;
OnInit:
	hideonnpc "警備隊員#cave";
	end;
}

ma_fild01,81,22,5	script	悩む老女#古代精霊	575,{
	mes "[悩む老女]";
	mes "最近この辺りの魔物が増えてきておる。";
	next;
	mes "[悩む老女]";
	mes "おそらくこの世界で活動している";
	mes "悪魔たちの力が徐々に";
	mes "強くなってきているのじゃろう……。";
	next;
	if (select("悪魔に対抗するには？","無視する")==2) {
		mes "[悩む老女]";
		mes "悪魔との戦に勝利するように……。";
		close;
	}
	if (countitem(6497) < 3 || Zeny < 1000) {
		mes "[悩む老女]";
		mes "古くから部族に";
		mes "伝わっている方法が・る……。";
		next;
		mes "[悩む老女]";
		mes "古代精霊の力を呼びだし";
		mes "使用する方法なのじゃが、";
		mes "特別な材料が必要になる。";
		next;
		menu "その材料とは？",-;
		mes "[悩む老女]";
		mes "古代精霊の力を宿らせる";
		mes "小さなお守り3個と部族に伝わる";
		mes "特別な物が必要なのじゃが……。";
		next;
		mes "[悩む老女]";
		mes "その特別な物は今では";
		mes "もう手に入れることができん……。";
		next;
		menu "お金では買えない物なんですか？",-;
		mes "[悩む老女]";
		mes "その……ま、丸い物……それは何かね？";
		next;
		menu "ひょっとしてZenyのことですか？",-;
		mes "[悩む老女]";
		mes "部族に古くから伝わる物に";
		mes "よく似ている金属で";
		mes "作られているじゃないか。";
		next;
		mes "[悩む老女]";
		mes "そ、それが沢山・れば悪魔に対抗する";
		mes "古代精霊のお守りを作ることが";
		mes "できるかもしれん……。";
		next;
		mes "[悩む老女]";
		mes "もし……君が悪魔に対抗する力が";
		mes "足りなくなった時には";
		next;
		mes "[悩む老女]";
		mes "^FF0000小さなお守り3個^000000と";
		mes "その^FF0000Zenyという物を1000個^000000ほど";
		mes "持って来なさい……。";
		next;
		mes "[悩む老女]";
		mes "20分間、悪魔たちに10%程";
		mes "さらに強い攻撃をすることができる";
		mes "古代精霊のお守りを作ってやろう。";
		close;
	}
	mes "[悩む老女]";
	mes "悪魔に対抗する力が不足しているのか。";
	next;
	mes "[悩む老女]";
	mes "どうじゃ、";
	mes "^FF0000小さなお守り3個と1,000Zeny^000000で、";
	mes "20分間、悪魔たちに10%程";
	mes "さらに強い攻撃をすることができる";
	mes "^0000FF古代精霊のお守り^000000を作ってやろうか？";
	next;
	if (select("作ります","大丈夫です")==2) {
		mes "[悩む老女]";
		mes "悪魔との戦に勝利するように……。";
		close;
	}
	if (checkitemblank()==0) {
		mes "[悩む老女]";
		mes "所持品の種類数が多くて";
		mes "渡せないのう。";
		mes "種類数を減らしてからまた来なさい。";
		close;
	}
	misceffect 71,"";
	misceffect 9,"悩む老女#古代精霊";
	delitem 6497,3;
	set Zeny,Zeny-1000;
	getitem 12775,1;
	mes "[悩む老女]";
	mes "悪魔との戦に勝利するように……。";
	close;
}

ma_in01_jp,67,22,5	script	ティクバラン専門家	582,{
	if (checkquest(7406)) {
		mes "[ティクバラン専門家]";
		mes "悪霊の骨を分けてほしい？";
		mes "・・、バンタイのエサに使うんだな。";
		next;
		mes "[ティクバラン専門家]";
		mes "でも、悪霊の骨はとても貴重な";
		mes "研究材料なんだ。";
		mes "手に入れるのも大変な物だから";
		mes "いつも分けて・げる時には代わりに";
		mes "私の研究を手伝って貰っているんだ。";
		next;
		menu "何をすればいいですか？",-;
		mes "[ティクバラン専門家]";
		mes "私はティクバランの研究をしている。";
		mes "今回は研究の一環として";
		mes "戦闘の記録をとりたいんだ。";
		mes "そこで、君にはティクバランと";
		mes "戦闘をしてきてほしい。";
		next;
		mes "[ティクバラン専門家]";
		mes "そうだな、ティクバランを";
		mes "^FF000020匹^000000倒せば十分だろう。";
		mes "君はとても強そうだし、楽勝だろ？";
		mes "それじゃ・、よろしく頼むよ。";
		delquest 7406;
		setquest 106176;
		close;
	}
	if (checkquest(106176)) {
		if (!(checkquest(106176) & 0x4)) {
			mes "[ティクバラン専門家]";
			mes "どうした？";
			mes "早くティクバランを^FF000020匹^000000";
			mes "倒してきてくれ。";
			mes "よろしく頼むよ。";
			close;
		}
		mes "[ティクバラン専門家]";
		mes "お、ティクバランとの戦闘記録を";
		mes "持ってきてくれたのか。";
		next;
		mes "[ティクバラン専門家]";
		mes "おお！　これは凄い！";
		mes "君のおかげで、実に良い研究が";
		mes "出来そうだ。";
		mes "本当に・りがとう!!";
		next;
		menu "悪霊の骨は？",-;
		mes "[ティクバラン専門家]";
		mes "・・、すまない。";
		mes "ティクバランの事となると";
		mes "少し興奮してしまうんだ。";
		mes "ほら、これが悪霊の骨だ。";
		mes "持っていくといい。";
		next;
		if (checkitemblank()==0) {
			mes "[ティクバラン専門家]";
			mes "おや、荷物が多くて渡せないな。";
			mes "少し荷物を減らしてきてくれ。";
			close;
		}
		delquest 106176;
		setquest 72060;
		getitem 6507,10;
		mes "[ティクバラン専門家]";
		mes "悪霊の骨が必要になったら";
		mes "また訪ねてくるといい。";
		mes "もちろん、手伝いはして貰うけどね。";
		close;
	}
	mes "[ティクバラン専門家]";
	mes "私は人生の90%を";
	mes "ティクバラン研究のために";
	mes "力を入れて来た。";
	mes "ティクバランのことなら";
	mes "なんでも聞いてくれ！";
	next;
	switch(select("まだ若いですね","ティクバラン？","ティクバランを捕まえる方法は？")) {
	case 1:
		mes "[ティクバラン専門家]";
		mes "そ、そんなことはない！";
		mes "見た目だけで判断して貰っては困る。";
		next;
		mes "[ティクバラン専門家]";
		mes "私は童顔なので見た目よりは";
		mes "歳をとっているんだ。";
		next;
		menu "………",-;
		mes "[ティクバラン専門家]";
		mes "信じろ!!　信じる者には福が・る";
		mes "というじゃないか。";
		close;
	case 2:
		mes "[ティクバラン専門家]";
		mes "ふふふ……よくぞ聞いてくれた。";
		mes "それこそ私の専門分野だ。";
		mes "何でも聞いていいぞ。";
		while(1) {
			next;
			switch(select("聞きたいことはない","特性","外見","噂","生息地")) {
			case 1:
				mes "[ティクバラン専門家]";
				mes "また気になることでも・ったら";
				mes "遊びに来るといい。";
				close;
			case 2:
				mes "[ティクバラン専門家]";
				mes "ティクバランたちは";
				mes "目の前に旅行者たちが現れると";
				mes "その旅行者がどこに行っても";
				mes "いくら遠くに行っても";
				mes "いつのまにか道を彷徨い続けるように";
				mes "呪いをかけてしまうんだ。";
				next;
				mes "[ティクバラン専門家]";
				mes "ま・、それを避ける方法も・る。";
				mes "・返しにシャツを着ればいい。";
				mes "シャツが無ければ上着を・返しにして";
				mes "着てもいいぞ。";
				next;
				mes "[ティクバラン専門家]";
				mes "または道を進む時に、";
				mes "ティクバランたちの";
				mes "気を引かないように静かに進めばいい。";
				next;
				mes "[ティクバラン専門家]";
				mes "ははは、冒険者たちが道を進むときは";
				mes "静かに通らないって？";
				next;
				mes "[ティクバラン専門家]";
				mes "そればっかりは私の研究でも";
				mes "どうしようもないな。";
				break;
			case 3:
				mes "[ティクバラン専門家]";
				mes "ティクバランは";
				mes "大きな背と^AAAAAA(うらやましい……)^000000";
				mes "不自然なほど長い手足をしている。";
				mes "しゃがみこんで座っている時は";
				mes "膝が頭の上に・るくらいだ。";
				next;
				mes "[ティクバラン専門家]";
				mes "そして、馬のような頭と足をしている。";
				mes "　";
				mes "こんな姿のせいで";
				mes "ティクバランは";
				mes "地獄から送られて来た子供、";
				mes "などと言われている。";
				break;
			case 4:
				mes "[ティクバラン専門家]";
				mes "ティクバランに関する";
				mes "面白い噂もたくさん・る。";
				next;
				mes "[ティクバラン専門家]";
				mes "その中の一つはティクバランたちが";
				mes "自然を崇拝している、・る王国の守護者";
				mes "という説だ。";
				next;
				mes "[ティクバラン専門家]";
				mes "その王国に敵対していたり";
				mes "悪意を持って接近する旅行者を見ると、";
				mes "同じ道を彷徨い続けるように";
				mes "呪いをかけるらしい。";
				next;
				mes "[ティクバラン専門家]";
				mes "また昔の童話ではティクバランが";
				mes "人間に変身したり、姿を透明に";
				mes "することもできると書かれているが、";
				mes "実際に確認はされてはいない。";
				break;
			case 5:
				mes "[ティクバラン専門家]";
				mes "ティクバランの主な生息地は、";
				mes "人気が少なく木や草で覆われている";
				mes "暗い場所。";
				next;
				mes "[ティクバラン専門家]";
				mes "例えば橋の下だったり";
				mes "バナナ畑、竹林、そして";
				mes "大きな木の下に生息しているらしい。";
				next;
				mes "[ティクバラン専門家]";
				mes "これは私の予想なんだが";
				mes "そのような場所に住んでいる理由は";
				mes "人々にいたずらしやすい場所だから";
				mes "ではないかと考えている。";
				break;
			}
			next;
			mes "[ティクバラン専門家]";
			mes "説明はこれくらいで十分だろう。";
			mes "これ以上説明しても";
			mes "難しい言葉が出て来るから";
			mes "話しても理解しにくいだろうしな。";
			next;
			mes "[ティクバラン専門家]";
			mes "まだ他に聞きたいことは・るか？";
		}
	case 3:
		mes "[ティクバラン専門家]";
		mes "ふふふ、この私の偉大さが";
		mes "やっとわかったようだな？";
		next;
		mes "[ティクバラン専門家]";
		mes "本来、ティクバランを捕まえることは";
		mes "とても難しく、命がけなんだけど";
		mes "実は、簡単にティクバランを";
		mes "捕まえる方法が・るんだ。";
		next;
		mes "[ティクバラン専門家]";
		mes "それはこの私が開発した";
		mes "^F80835ティクバランベルト^000000を使うのだ。";
		next;
		if (countitem(6496) < 3 || countitem(6497) < 5) {
			mes "[ティクバラン専門家]";
			mes "もちろんタダで、というわけにはいかない。";
			mes "^F80835ティクバランの背骨3個^000000と";
			mes "^F80835小さなお守り5個^000000を";
			mes "持ってきたら交換してやろう。";
			close;
		}
		mes "[ティクバラン専門家]";
		mes "お、ティクバランベルトの材料の";
		mes "^F80835ティクバランの背骨3個^000000と";
		mes "^F80835小さなお守り5個^000000を";
		mes "持っているじゃないか。";
		next;
		mes "[ティクバラン専門家]";
		mes "^F80835ティクバランベルト^000000を使えば";
		mes "ティクバランを簡単に";
		mes "捕まえることができる。";
		mes "もちろん必ず成功するわけではないが。";
		mes "　";
		mes "どうだ？　作ってやろうか？";
		next;
		if (select("作って下さい","私は自分の力で捕まえる")==2) {
			mes "[ティクバラン専門家]";
			mes "ティクバランを捕まえるのは";
			mes "命がけだ。";
			mes "素直に^F80835ティクバランベルト^000000を";
			mes "使った方が良いぞ。";
			close;
		}
		if (checkitemblank()==0) {
			mes "[ティクバラン専門家]";
			mes "所持品の種類数が多くて";
			mes "そのままじゃ渡せないな。";
			mes "種類数を減らしてからまた来いよ。";
			close;
		}
		delitem 6496,3;
		delitem 6497,5;
		getitem 12699,1;
		mes "[ティクバラン専門家]";
		mes "ほうりゃ！　しゃ～！";
		misceffect 143,"ティクバラン専門家";
		next;
		mes "[ティクバラン専門家]";
		mes "^F80835ティクバランベルト^000000が";
		mes "完成したぞ！";
		mes "さ・、受け取りたまえ。";
		close;
	}
}

ma_fild01,74,367,6	script	謎の生物#01	572,1,1,{
	end;
OnTouch:
	if (rand(2)==0) {
		mes "‐謎の生物は・なたを見て";
		mes "　逃げだした‐";
	} else {
		mes "‐謎の生物は・なたを";
		mes "　チラッと見て逃げだした‐";
	}
	close2;
	hideonnpc strnpcinfo(0);
	end;
OnInit:
	hideonnpc strnpcinfo(0);
	end;
}
ma_fild01,109,116,4		duplicate(謎の生物#01)	謎の生物#02	572,1,1
ma_fild01,280,150,6		duplicate(謎の生物#01)	謎の生物#03	572,1,1
ma_fild01,309,221,6		duplicate(謎の生物#01)	謎の生物#04	572,1,1
ma_fild02,282,41,4		duplicate(謎の生物#01)	謎の生物#05	572,1,1

ma_fild02,71,296,6		duplicate(謎の生物#01)	謎の生物#07	572,1,1
ma_fild02,32,263,4		duplicate(謎の生物#01)	謎の生物#08	572,1,1
ma_scene01,195,92,4		duplicate(謎の生物#01)	謎の生物#09	572,1,1
ma_scene01,158,139,4	duplicate(謎の生物#01)	謎の生物#10	572,1,1
ma_scene01,167,112,6	duplicate(謎の生物#01)	謎の生物#11	572,1,1

//============================================================
// ピンタドスフェスティバルNPC
//------------------------------------------------------------
ma_in01_jp,45,148,1	script	イスコ	577,{
	emotion 53;
	mes "[イスコ]";
	mes "・・・、どうしよう……。";
	mes "フェスティバルまで開催まで";
	mes "もう時間がないのに……。";
	next;
	switch(select("どうしたの？","どのくらい集まったの？","材料を持ってきたよ")) {
	case 1:
		mes "[イスコ]";
		mes "バリオ・マヒワガには";
		mes "古くから伝えられている";
		mes "^7A96E0ピンタドスフェスティバル^000000という";
		mes "お祭が・るんです。";
		mes "僕はその準備をしていたんですが、";
		next;
		emotion 57;
		mes "[イスコ]";
		mes "ポートマラヤまでお遣いに行った帰り、";
		mes "いきなり目の前に現れた";
		mes "^FF8440ブギスギス^000000たちに";
		mes "材料を奪われてしまったんです……。";
		next;
		mes "[イスコ]";
		mes "ムンバキ・キコに相談しようと";
		mes "ここまで来たのですが、";
		mes "せっかく任せてくれたお仕事を";
		mes "失敗したなんて言い出せなくて……。";
		next;
		mes "[イスコ]";
		mes "材料を買いなおすお金は無いし";
		mes "僕一人では材料を集められません。";
		mes "・・、どうしよう……。";
		mes "このままじゃ、次のフェスティバルが";
		mes "開催できません……。";
		next;
		menu "材料の内容は？",-;
		mes "[イスコ]";
		mes "奪われた材料は、";
		mes "小さなお守り1,000個";
		mes "銀の十字架1,000個";
		mes "染料300個です。";
		next;
		menu "怪我はなかった？",-;
		emotion e_sigh;
		mes "[イスコ]";
		mes "怪我はしませんでしたが、材料がないと";
		mes "^7A96E0ピンタドスフェスティバル^000000が……";
		mes "どうしよう……。";
		close;
	case 2:
		mes "[イスコ]";
		mes "冒険者のお兄さん、お姉さんたちが";
		mes "材料を集めてきてくれているけど、";
		next;
		mes "[イスコ]";
		mes "まだ";
		mes "小さなお守り" +$MalayaFes[0]+ "個";
		mes "銀の十字架" +$MalayaFes[1]+ "個";
		mes "染料" +$MalayaFes[2]+ "個";
		mes "しか集まっていないんです。";
		next;
		emotion e_sigh;
		mes "[イスコ]";
		mes "は・・……まだ足りません。";
		mes "^7A96E0ピンタドスフェスティバル^000000を";
		mes "開催できるかな……。";
		close;
	case 3:
		emotion e_lv;
		mes "[イスコ]";
		mes "え？　本当？";
		mes "わ～！　・りがとう!!";
		mes strcharinfo(0)+(Sex? "お兄": "お姉")+ "さん!!";
		mes "何を持って来てくれたんですか？";
		next;
		switch(select("小さなお守り(^FF00001000個不足^000000)","銀の十字架(^FF00001000個不足^000000)","染料(^FF0000300個不足^000000)")) {
		case 1:
			set '@itemid,6497;
			set '@temp,1000-$MalayaFes[0];
			break;
		case 2:
			set '@itemid,6502;
			set '@temp,1000-$MalayaFes[1];
			break;
		case 3:
			set '@temp,300-$MalayaFes[2];
			mes "[イスコ]";
			mes "染料を持って来てくれたんですね？";
			next;
			mes "[イスコ]";
			mes "ちょっと待って下さいね。";
			mes "ええと……。";
			next;
			mes "[イスコ]";
			mes "染料は今" +'@temp+ "個足りません。";
			mes "どの染料を持って来てくれましたか？";
			next;
			switch(
				select(	"赤色の染料(^FF0000" +countitem(975)+ "^000000)",
						"黄色の染料(^FF0000" +countitem(976)+ "^000000)",
						"青色の染料(^FF0000" +countitem(978)+ "^000000)",
						"緑色の染料(^FF0000" +countitem(979)+ "^000000)",
						"紅色の染料(^FF0000" +countitem(980)+ "^000000)",
						"紫色の染料(^FF0000" +countitem(981)+ "^000000)",
						"白色の染料(^FF0000" +countitem(982)+ "^000000)",
						"黒色の染料(^FF0000" +countitem(983)+ "^000000)"
				)
			) {
			case 1:
				set '@itemid,975;
				break;
			case 2:
				set '@itemid,976;
				break;
			case 3:
				set '@itemid,978;
				break;
			case 4:
				set '@itemid,979;
				break;
			case 5:
				set '@itemid,980;
				break;
			case 6:
				set '@itemid,981;
				break;
			case 7:
				set '@itemid,982;
				break;
			case 8:
				set '@itemid,983;
				break;
			}
			mes "[イスコ]";
			mes "・れ、" +getitemname('@itemid)+ "は";
			mes "持っていないようですが。";
			close;
		}
		mes "[イスコ]";
		mes getitemname('@itemid)+ "を持って来て";
		mes "くれたんですね？";
		next;
		mes "[イスコ]";
		mes "ちょっと待って下さいね。";
		mes "ええと……。";
		next;
		mes "[イスコ]";
		mes getitemname('@itemid)+ "は今";
		mes '@temp+ "個足りません。";
		mes "いくつ持って来てくれたんですか？";
		next;
		if (select("1個","数量を指定する")==1) {
			if ('@itemid==6497) {
				mes "[イスコ]";
				mes "へへへ……。";
				mes "ひとつ持って来てくれたんですね。";
			} else {
				mes "[イスコ]";
				mes "へへへ……。";
				mes "ひとつ持って来たんですね。";
			}
			next;
			set '@num,1;
		} else {
			mes "[イスコ]";
			mes "へへへ……。";
			mes "まだ足し算が・まりできなくて、";
			mes "一度に50個までしか";
			mes "計算ができないんです。";
			mes "いくつ持って来てくれたんですか？";
			next;
			input '@num;
			if ('@num <= 0 || '@num > 50) {
				if ('@itemid==6497) {
					mes "[イスコ]";
					mes "意地悪……数字がおかしいと";
					mes "足し算ができませんよ……。";
					close;
				} else {
					mes "[イスコ]";
					mes "意地悪～。";
					mes "数字がおかしいと足し算が";
					mes "できませんよ……。";
					close;
				}
			}
		}
		if (countitem('@itemid) < '@num) {
			mes "[イスコ]";
			mes "・れ？　" +(Sex? "お兄": "お姉")+ "さん！";
			mes getitemname('@itemid)+ "はどこに・るんですか？";
			close;
		}
		if ('@itemid==6497) {
			delitem 6497,1;
			set $MalayaFes[0],$MalayaFes[0]+1;
		} else {
			delitem 6502,1;
			set $MalayaFes[1],$MalayaFes[1]+1;
		}
		mes "[イスコ]";
		mes "へへへ……。";
		mes "・りがとうございます。" +(Sex? "お兄": "お姉")+ "さん!";
		mes "これで必要な" +getitemname('@itemid)+ "は、";
		mes "・と" +('@temp-1)+ "個になりました。";
		close;
	}
OnInit:
	waitingroom "ピンタドスフェスティバル",0;
	end;
}

ma_fild01,192,200,8	script	観光客#pin1	58,{
	end;
OnInit:
	hideonnpc "観光客#pin1";
	end;
}

ma_fild01,211,200,6	script	観光客#pin2	775,{
	end;
OnInit:
	hideonnpc "観光客#pin2";
	end;
}

ma_fild01,251,205,2	script	観光客#pin3	824,{
	end;
OnInit:
	hideonnpc "観光客#pin3";
	end;
}

ma_fild01,162,235,6	script	観光客#pin4	815,{
	end;
OnInit:
	hideonnpc "観光客#pin4";
	end;
}

ma_fild01,249,206,6	script	若いタトゥーイスト	582,{
	end;
OnInit:
	hideonnpc "若いタトゥーイスト";
	end;
}

ma_fild01,164,234,6	script	太鼓を叩く青年#pin1	578,{
	end;
OnInit:
	hideonnpc "拍子を合わせる少年#pin1";
	end;
}

ma_fild01,170,231,4	script	太鼓を叩く青年#pin2	578,{
	end;
OnInit:
	hideonnpc "拍子を合わせる少年#pin2";
	end;
}

ma_fild01,170,234,4	script	拍子を合わせる少年#pin1	577,{
	end;
OnInit:
	hideonnpc "拍子を合わせる少年#pin1";
	end;
}

ma_fild01,164,231,6	script	拍子を合わせる少年#pin2	577,{
	end;
OnInit:
	hideonnpc "拍子を合わせる少年#pin2";
	end;
}

//============================================================
// ブワヤの巣
//------------------------------------------------------------
ma_fild02,312,317,5	script	警備兵	570,{
	if (MALAYA_4QUE < 15) {
		mes "[警備兵]";
		mes "この洞窟の奥に何かが潜んでいる";
		mes "ようなのですが、現在は調査中です。";
		close;
	}
	if (BaseLevel < 130) {
		mes "[警備兵]";
		mes "この洞窟の奥には";
		mes "ブワヤの巣が・ります。";
		mes "・なたが挑むにはまだ危険です。";
		next;
		mes "‐^ff0000Baseレベルを130以上^000000にしてから";
		mes "　また来てみよう‐";
		close;
	}
}

//============================================================
// バコナワの棲み処
//------------------------------------------------------------
ma_scene01,174,179,4	script	タホー	541,{
	mes "[タホー]";
	mes "ここはとても危険な場所です。";
	mes "街に戻って下さい！";
	next;
	if (BaseLevel < 140) {
		mes "‐このクエストを進行するには";
		mes "　レベルが足りないようです。";
		mes "　^FF0000Baseレベル140以上^000000になったら";
		mes "　再度話しかけてください‐";
		close;
	}
}
*/